(()=>{"use strict";var t={4716:(t,e)=>{!function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=new Uint8Array(256),i=0;i<t.length;i++)o[t.charCodeAt(i)]=i;e.c=function(e){var o,i=new Uint8Array(e),n=i.length,a="";for(o=0;o<n;o+=3)a+=t[i[o]>>2],a+=t[(3&i[o])<<4|i[o+1]>>4],a+=t[(15&i[o+1])<<2|i[o+2]>>6],a+=t[63&i[o+2]];return n%3==2?a=a.substring(0,a.length-1)+"=":n%3==1&&(a=a.substring(0,a.length-2)+"=="),a},function(t){var e,i,n,a,r,l=.75*t.length,s=t.length,c=0;"="===t[t.length-1]&&(l--,"="===t[t.length-2]&&l--);var d=new ArrayBuffer(l),m=new Uint8Array(d);for(e=0;e<s;e+=4)i=o[t.charCodeAt(e)],n=o[t.charCodeAt(e+1)],a=o[t.charCodeAt(e+2)],r=o[t.charCodeAt(e+3)],m[c++]=i<<2|n>>4,m[c++]=(15&n)<<4|a>>2,m[c++]=(3&a)<<6|63&r;return d}}()},6636:t=>{var e=.1,o="function"==typeof Float32Array;function i(t,e){return 1-3*e+3*t}function n(t,e){return 3*e-6*t}function a(t){return 3*t}function r(t,e,o){return((i(e,o)*t+n(e,o))*t+a(e))*t}function l(t,e,o){return 3*i(e,o)*t*t+2*n(e,o)*t+a(e)}function s(t){return t}t.exports=function(t,i,n,a){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===i&&n===a)return s;for(var c=o?new Float32Array(11):new Array(11),d=0;d<11;++d)c[d]=r(d*e,t,n);function m(o){for(var i=0,a=1;10!==a&&c[a]<=o;++a)i+=e;--a;var s=i+(o-c[a])/(c[a+1]-c[a])*e,d=l(s,t,n);return d>=.001?function(t,e,o,i){for(var n=0;n<4;++n){var a=l(e,o,i);if(0===a)return e;e-=(r(e,o,i)-t)/a}return e}(o,s,t,n):0===d?s:function(t,e,o,i,n){var a,l,s=0;do{(a=r(l=e+(o-e)/2,i,n)-t)>0?o=l:e=l}while(Math.abs(a)>1e-7&&++s<10);return l}(o,i,i+e,t,n)}return function(t){return 0===t?0:1===t?1:r(m(t),i,a)}}},7084:t=>{function e(t,e,i){i=i||2;var a,r,l,s,m,p,u,g=e&&e.length,f=g?e[0]*i:t.length,b=o(t,0,f,i,!0),y=[];if(!b||b.next===b.prev)return y;if(g&&(b=function(t,e,i,n){var a,r,l,s=[];for(a=0,r=e.length;a<r;a++)(l=o(t,e[a]*n,a<r-1?e[a+1]*n:t.length,n,!1))===l.next&&(l.steiner=!0),s.push(h(l));for(s.sort(c),a=0;a<s.length;a++)i=d(s[a],i);return i}(t,e,b,i)),t.length>80*i){a=l=t[0],r=s=t[1];for(var _=i;_<f;_+=i)(m=t[_])<a&&(a=m),(p=t[_+1])<r&&(r=p),m>l&&(l=m),p>s&&(s=p);u=0!==(u=Math.max(l-a,s-r))?32767/u:0}return n(b,y,i,a,r,u,0),y}function o(t,e,o,i,n){var a,r;if(n===S(t,e,o,i)>0)for(a=e;a<o;a+=i)r=C(a,t[a],t[a+1],r);else for(a=o-i;a>=e;a-=i)r=C(a,t[a],t[a+1],r);return r&&b(r,r.next)&&(F(r),r=r.next),r}function i(t,e){if(!t)return t;e||(e=t);var o,i=t;do{if(o=!1,i.steiner||!b(i,i.next)&&0!==f(i.prev,i,i.next))i=i.next;else{if(F(i),(i=e=i.prev)===i.next)break;o=!0}}while(o||i!==e);return e}function n(t,e,o,c,d,m,h){if(t){!h&&m&&function(t,e,o,i){var n=t;do{0===n.z&&(n.z=p(n.x,n.y,e,o,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,o,i,n,a,r,l,s,c=1;do{for(o=t,t=null,a=null,r=0;o;){for(r++,i=o,l=0,e=0;e<c&&(l++,i=i.nextZ);e++);for(s=c;l>0||s>0&&i;)0!==l&&(0===s||!i||o.z<=i.z)?(n=o,o=o.nextZ,l--):(n=i,i=i.nextZ,s--),a?a.nextZ=n:t=n,n.prevZ=a,a=n;o=i}a.nextZ=null,c*=2}while(r>1)}(n)}(t,c,d,m);for(var u,g,f=t;t.prev!==t.next;)if(u=t.prev,g=t.next,m?r(t,c,d,m):a(t))e.push(u.i/o|0),e.push(t.i/o|0),e.push(g.i/o|0),F(t),t=g.next,f=g.next;else if((t=g)===f){h?1===h?n(t=l(i(t),e,o),e,o,c,d,m,2):2===h&&s(t,e,o,c,d,m):n(i(t),e,o,c,d,m,1);break}}}function a(t){var e=t.prev,o=t,i=t.next;if(f(e,o,i)>=0)return!1;for(var n=e.x,a=o.x,r=i.x,l=e.y,s=o.y,c=i.y,d=n<a?n<r?n:r:a<r?a:r,m=l<s?l<c?l:c:s<c?s:c,p=n>a?n>r?n:r:a>r?a:r,h=l>s?l>c?l:c:s>c?s:c,g=i.next;g!==e;){if(g.x>=d&&g.x<=p&&g.y>=m&&g.y<=h&&u(n,l,a,s,r,c,g.x,g.y)&&f(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function r(t,e,o,i){var n=t.prev,a=t,r=t.next;if(f(n,a,r)>=0)return!1;for(var l=n.x,s=a.x,c=r.x,d=n.y,m=a.y,h=r.y,g=l<s?l<c?l:c:s<c?s:c,b=d<m?d<h?d:h:m<h?m:h,y=l>s?l>c?l:c:s>c?s:c,_=d>m?d>h?d:h:m>h?m:h,x=p(g,b,e,o,i),v=p(y,_,e,o,i),z=t.prevZ,C=t.nextZ;z&&z.z>=x&&C&&C.z<=v;){if(z.x>=g&&z.x<=y&&z.y>=b&&z.y<=_&&z!==n&&z!==r&&u(l,d,s,m,c,h,z.x,z.y)&&f(z.prev,z,z.next)>=0)return!1;if(z=z.prevZ,C.x>=g&&C.x<=y&&C.y>=b&&C.y<=_&&C!==n&&C!==r&&u(l,d,s,m,c,h,C.x,C.y)&&f(C.prev,C,C.next)>=0)return!1;C=C.nextZ}for(;z&&z.z>=x;){if(z.x>=g&&z.x<=y&&z.y>=b&&z.y<=_&&z!==n&&z!==r&&u(l,d,s,m,c,h,z.x,z.y)&&f(z.prev,z,z.next)>=0)return!1;z=z.prevZ}for(;C&&C.z<=v;){if(C.x>=g&&C.x<=y&&C.y>=b&&C.y<=_&&C!==n&&C!==r&&u(l,d,s,m,c,h,C.x,C.y)&&f(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function l(t,e,o){var n=t;do{var a=n.prev,r=n.next.next;!b(a,r)&&y(a,n,n.next,r)&&v(a,r)&&v(r,a)&&(e.push(a.i/o|0),e.push(n.i/o|0),e.push(r.i/o|0),F(n),F(n.next),n=t=r),n=n.next}while(n!==t);return i(n)}function s(t,e,o,a,r,l){var s=t;do{for(var c=s.next.next;c!==s.prev;){if(s.i!==c.i&&g(s,c)){var d=z(s,c);return s=i(s,s.next),d=i(d,d.next),n(s,e,o,a,r,l,0),void n(d,e,o,a,r,l,0)}c=c.next}s=s.next}while(s!==t)}function c(t,e){return t.x-e.x}function d(t,e){var o=function(t,e){var o,i=e,n=t.x,a=t.y,r=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var l=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(l<=n&&l>r&&(r=l,o=i.x<i.next.x?i:i.next,l===n))return o}i=i.next}while(i!==e);if(!o)return null;var s,c=o,d=o.x,p=o.y,h=1/0;i=o;do{n>=i.x&&i.x>=d&&n!==i.x&&u(a<p?n:r,a,d,p,a<p?r:n,a,i.x,i.y)&&(s=Math.abs(a-i.y)/(n-i.x),v(i,t)&&(s<h||s===h&&(i.x>o.x||i.x===o.x&&m(o,i)))&&(o=i,h=s)),i=i.next}while(i!==c);return o}(t,e);if(!o)return e;var n=z(o,t);return i(n,n.next),i(o,o.next)}function m(t,e){return f(t.prev,t,e.prev)<0&&f(e.next,t,t.next)<0}function p(t,e,o,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-o)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function h(t){var e=t,o=t;do{(e.x<o.x||e.x===o.x&&e.y<o.y)&&(o=e),e=e.next}while(e!==t);return o}function u(t,e,o,i,n,a,r,l){return(n-r)*(e-l)>=(t-r)*(a-l)&&(t-r)*(i-l)>=(o-r)*(e-l)&&(o-r)*(a-l)>=(n-r)*(i-l)}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var o=t;do{if(o.i!==t.i&&o.next.i!==t.i&&o.i!==e.i&&o.next.i!==e.i&&y(o,o.next,t,e))return!0;o=o.next}while(o!==t);return!1}(t,e)&&(v(t,e)&&v(e,t)&&function(t,e){var o=t,i=!1,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do{o.y>a!=o.next.y>a&&o.next.y!==o.y&&n<(o.next.x-o.x)*(a-o.y)/(o.next.y-o.y)+o.x&&(i=!i),o=o.next}while(o!==t);return i}(t,e)&&(f(t.prev,t,e.prev)||f(t,e.prev,e))||b(t,e)&&f(t.prev,t,t.next)>0&&f(e.prev,e,e.next)>0)}function f(t,e,o){return(e.y-t.y)*(o.x-e.x)-(e.x-t.x)*(o.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function y(t,e,o,i){var n=x(f(t,e,o)),a=x(f(t,e,i)),r=x(f(o,i,t)),l=x(f(o,i,e));return n!==a&&r!==l||(!(0!==n||!_(t,o,e))||(!(0!==a||!_(t,i,e))||(!(0!==r||!_(o,t,i))||!(0!==l||!_(o,e,i)))))}function _(t,e,o){return e.x<=Math.max(t.x,o.x)&&e.x>=Math.min(t.x,o.x)&&e.y<=Math.max(t.y,o.y)&&e.y>=Math.min(t.y,o.y)}function x(t){return t>0?1:t<0?-1:0}function v(t,e){return f(t.prev,t,t.next)<0?f(t,e,t.next)>=0&&f(t,t.prev,e)>=0:f(t,e,t.prev)<0||f(t,t.next,e)<0}function z(t,e){var o=new w(t.i,t.x,t.y),i=new w(e.i,e.x,e.y),n=t.next,a=e.prev;return t.next=e,e.prev=t,o.next=n,n.prev=o,i.next=o,o.prev=i,a.next=i,i.prev=a,i}function C(t,e,o,i){var n=new w(t,e,o);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function F(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function w(t,e,o){this.i=t,this.x=e,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,o,i){for(var n=0,a=e,r=o-i;a<o;a+=i)n+=(t[r]-t[a])*(t[a+1]+t[r+1]),r=a;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,o,i){var n=e&&e.length,a=n?e[0]*o:t.length,r=Math.abs(S(t,0,a,o));if(n)for(var l=0,s=e.length;l<s;l++){var c=e[l]*o,d=l<s-1?e[l+1]*o:t.length;r-=Math.abs(S(t,c,d,o))}var m=0;for(l=0;l<i.length;l+=3){var p=i[l]*o,h=i[l+1]*o,u=i[l+2]*o;m+=Math.abs((t[p]-t[u])*(t[h+1]-t[p+1])-(t[p]-t[h])*(t[u+1]-t[p+1]))}return 0===r&&0===m?0:Math.abs((m-r)/r)},e.flatten=function(t){for(var e=t[0][0].length,o={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var a=0;a<t[n].length;a++)for(var r=0;r<e;r++)o.vertices.push(t[n][a][r]);n>0&&(i+=t[n-1].length,o.holes.push(i))}return o}},6001:(t,e)=>{e.read=function(t,e,o,i,n){var a,r,l=8*n-i-1,s=(1<<l)-1,c=s>>1,d=-7,m=o?n-1:0,p=o?-1:1,h=t[e+m];for(m+=p,a=h&(1<<-d)-1,h>>=-d,d+=l;d>0;a=256*a+t[e+m],m+=p,d-=8);for(r=a&(1<<-d)-1,a>>=-d,d+=i;d>0;r=256*r+t[e+m],m+=p,d-=8);if(0===a)a=1-c;else{if(a===s)return r?NaN:1/0*(h?-1:1);r+=Math.pow(2,i),a-=c}return(h?-1:1)*r*Math.pow(2,a-i)},e.write=function(t,e,o,i,n,a){var r,l,s,c=8*a-n-1,d=(1<<c)-1,m=d>>1,p=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:a-1,u=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,r=d):(r=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-r))<1&&(r--,s*=2),(e+=r+m>=1?p/s:p*Math.pow(2,1-m))*s>=2&&(r++,s/=2),r+m>=d?(l=0,r=d):r+m>=1?(l=(e*s-1)*Math.pow(2,n),r+=m):(l=e*Math.pow(2,m-1)*Math.pow(2,n),r=0));n>=8;t[o+h]=255&l,h+=u,l/=256,n-=8);for(r=r<<n|l,c+=n;c>0;t[o+h]=255&r,h+=u,r/=256,c-=8);t[o+h-u]|=128*g}},6208:(t,e,o)=>{t.exports=n;var i=o(6001);function n(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var a=4294967296,r=1/a,l="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function s(t){return t.type===n.Bytes?t.readVarint()+t.pos:t.pos+1}function c(t,e,o){return o?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function d(t,e,o){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));o.realloc(i);for(var n=o.pos-1;n>=t;n--)o.buf[n+i]=o.buf[n]}function m(t,e){for(var o=0;o<t.length;o++)e.writeVarint(t[o])}function p(t,e){for(var o=0;o<t.length;o++)e.writeSVarint(t[o])}function h(t,e){for(var o=0;o<t.length;o++)e.writeFloat(t[o])}function u(t,e){for(var o=0;o<t.length;o++)e.writeDouble(t[o])}function g(t,e){for(var o=0;o<t.length;o++)e.writeBoolean(t[o])}function f(t,e){for(var o=0;o<t.length;o++)e.writeFixed32(t[o])}function b(t,e){for(var o=0;o<t.length;o++)e.writeSFixed32(t[o])}function y(t,e){for(var o=0;o<t.length;o++)e.writeFixed64(t[o])}function _(t,e){for(var o=0;o<t.length;o++)e.writeSFixed64(t[o])}function x(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function v(t,e,o){t[o]=e,t[o+1]=e>>>8,t[o+2]=e>>>16,t[o+3]=e>>>24}function z(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,o){for(o=o||this.length;this.pos<o;){var i=this.readVarint(),n=i>>3,a=this.pos;this.type=7&i,t(n,e,this),this.pos===a&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=x(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=z(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=x(this.buf,this.pos)+x(this.buf,this.pos+4)*a;return this.pos+=8,t},readSFixed64:function(){var t=x(this.buf,this.pos)+z(this.buf,this.pos+4)*a;return this.pos+=8,t},readFloat:function(){var t=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,o,i=this.buf;return e=127&(o=i[this.pos++]),o<128?e:(e|=(127&(o=i[this.pos++]))<<7,o<128?e:(e|=(127&(o=i[this.pos++]))<<14,o<128?e:(e|=(127&(o=i[this.pos++]))<<21,o<128?e:function(t,e,o){var i,n,a=o.buf;if(n=a[o.pos++],i=(112&n)>>4,n<128)return c(t,i,e);if(n=a[o.pos++],i|=(127&n)<<3,n<128)return c(t,i,e);if(n=a[o.pos++],i|=(127&n)<<10,n<128)return c(t,i,e);if(n=a[o.pos++],i|=(127&n)<<17,n<128)return c(t,i,e);if(n=a[o.pos++],i|=(127&n)<<24,n<128)return c(t,i,e);if(n=a[o.pos++],i|=(1&n)<<31,n<128)return c(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(o=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&l?function(t,e,o){return l.decode(t.subarray(e,o))}(this.buf,e,t):function(t,e,o){var i="",n=e;for(;n<o;){var a,r,l,s=t[n],c=null,d=s>239?4:s>223?3:s>191?2:1;if(n+d>o)break;1===d?s<128&&(c=s):2===d?128==(192&(a=t[n+1]))&&(c=(31&s)<<6|63&a)<=127&&(c=null):3===d?(a=t[n+1],r=t[n+2],128==(192&a)&&128==(192&r)&&((c=(15&s)<<12|(63&a)<<6|63&r)<=2047||c>=55296&&c<=57343)&&(c=null)):4===d&&(a=t[n+1],r=t[n+2],l=t[n+3],128==(192&a)&&128==(192&r)&&128==(192&l)&&((c=(15&s)<<18|(63&a)<<12|(63&r)<<6|63&l)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,d=1):c>65535&&(c-=65536,i+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),i+=String.fromCharCode(c),n+=d}return i}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==n.Bytes)return t.push(this.readVarint(e));var o=s(this);for(t=t||[];this.pos<o;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==n.Bytes)return t.push(this.readSVarint());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==n.Bytes)return t.push(this.readBoolean());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==n.Bytes)return t.push(this.readFloat());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==n.Bytes)return t.push(this.readDouble());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==n.Bytes)return t.push(this.readFixed32());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==n.Bytes)return t.push(this.readSFixed32());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==n.Bytes)return t.push(this.readFixed64());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==n.Bytes)return t.push(this.readSFixed64());var e=s(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===n.Varint)for(;this.buf[this.pos++]>127;);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var o=new Uint8Array(e);o.set(this.buf),this.buf=o,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),v(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),v(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),v(this.buf,-1&t,this.pos),v(this.buf,Math.floor(t*r),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),v(this.buf,-1&t,this.pos),v(this.buf,Math.floor(t*r),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var o,i;t>=0?(o=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(o=~(-t%4294967296))?o=o+1|0:(o=0,i=i+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,o){o.buf[o.pos++]=127&t|128,t>>>=7,o.buf[o.pos++]=127&t|128,t>>>=7,o.buf[o.pos++]=127&t|128,t>>>=7,o.buf[o.pos++]=127&t|128,t>>>=7,o.buf[o.pos]=127&t}(o,0,e),function(t,e){var o=(7&t)<<4;if(e.buf[e.pos++]|=o|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(i,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,o){for(var i,n,a=0;a<e.length;a++){if((i=e.charCodeAt(a))>55295&&i<57344){if(!n){i>56319||a+1===e.length?(t[o++]=239,t[o++]=191,t[o++]=189):n=i;continue}if(i<56320){t[o++]=239,t[o++]=191,t[o++]=189,n=i;continue}i=n-55296<<10|i-56320|65536,n=null}else n&&(t[o++]=239,t[o++]=191,t[o++]=189,n=null);i<128?t[o++]=i:(i<2048?t[o++]=i>>6|192:(i<65536?t[o++]=i>>12|224:(t[o++]=i>>18|240,t[o++]=i>>12&63|128),t[o++]=i>>6&63|128),t[o++]=63&i|128)}return o}(this.buf,t,this.pos);var o=this.pos-e;o>=128&&d(e,o,this),this.pos=e-1,this.writeVarint(o),this.pos+=o},writeFloat:function(t){this.realloc(4),i.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),i.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var o=0;o<e;o++)this.buf[this.pos++]=t[o]},writeRawMessage:function(t,e){this.pos++;var o=this.pos;t(e,this);var i=this.pos-o;i>=128&&d(o,i,this),this.pos=o-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,o){this.writeTag(t,n.Bytes),this.writeRawMessage(e,o)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,u,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,b,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,_,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},9958:t=>{var e,o,i=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function r(t){if(e===setTimeout)return setTimeout(t,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(o){try{return e.call(null,t,0)}catch(o){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:n}catch(t){e=n}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var l,s=[],c=!1,d=-1;function m(){c&&l&&(c=!1,l.length?s=l.concat(s):d=-1,s.length&&p())}function p(){if(!c){var t=r(m);c=!0;for(var e=s.length;e;){for(l=s,s=[];++d<e;)l&&l[d].run();d=-1,e=s.length}l=null,c=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function u(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)e[o-1]=arguments[o];s.push(new h(t,e)),1!==s.length||c||r(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=u,i.addListener=u,i.once=u,i.off=u,i.removeListener=u,i.removeAllListeners=u,i.emit=u,i.prependListener=u,i.prependOnceListener=u,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},1973:(t,e,o)=>{var i=o(9958);!function(){function e(t){t=t||{},"undefined"!=typeof performance&&performance.now?this.time=performance.now.bind(performance):this.time=void 0!==i?this._serverTime:Date.now.bind(Date),this.reset(),this.update()}function o(t){this.name=t,this.sample=[],this.sampleLimit=1/0,this._sampleIndex=0,this._sampleLength=0,this.max=null,this.min=null}e.ROUND_FACTOR=1e3,e.round=function(t){return Math.round(t*e.ROUND_FACTOR)/e.ROUND_FACTOR},e.prototype.add=function(t,e){this._getCounter(t).add(e)},e.prototype.get=function(t){return void 0===t?this._getAll():this._getCounter(t)},e.prototype.reset=function(){this._counters={},this._frameStartTime=this._previousFrameTime=this._createTime=this.time(),this._frames=0},e.prototype.frameStart=function(){this._frameStartTime=this.time()},e.prototype.frameEnd=function(){var t=this.time();if(this.add("ms",t-this._frameStartTime),this._frames++,t>this._previousFrameTime+1e3){var e=Math.round(1e3*this._frames/(t-this._previousFrameTime));this.add("fps",e),this._frames=0,this._previousFrameTime=t,this.update()}},e.prototype.update=function(){this._dom&&(this._element.innerHTML=this.getHtmlText())},e.prototype.getHtmlElement=function(){return this._dom||(this._dom=!0,this._element=document.createElement("div")),this._element},e.prototype.getHtmlText=function(){return this.getText().replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;")},e.prototype.getText=function(){var t=this._getAll(),e="Elapsed time: "+Math.round(t.elapsedTime/1e3)+"s";if(t.counters)for(var o in e+="\nCounters:",t.counters)e+="\n\t"+o+": \n\t\tlength: "+t.counters[o].length+"\n\t\tlast: "+t.counters[o].last+"\n\t\tmean: "+t.counters[o].mean+"\n\t\tmin: "+t.counters[o].min+"\n\t\tmax: "+t.counters[o].max+"\n\t\tdeviation: "+t.counters[o].deviation;return e},e.prototype.getElapsedTime=function(){return this.time()-this._createTime},e.prototype._getAll=function(){var t={elapsedTime:this.getElapsedTime(),counter:{}};if(Object.keys(this._counters).length)for(var e in t.counters={},this._counters)t.counters[e]=this._counters[e].get();return t},e.prototype._getCounter=function(t){return this._counters[t]||this._createCounter(t),this._counters[t]},e.prototype._createCounter=function(t){this._counters[t]=new o(t)},e.prototype._serverTime=function(){var t=i.hrtime();return 1e3*(t[0]+t[1]/1e9)},o.prototype.add=function(t){this.sample[this._sampleIndex]=t,this._sampleLength++,this._sampleIndex=this._sampleLength%this.sampleLimit,(null===this.min||this.min>t)&&(this.min=t),(null===this.max||this.max<t)&&(this.max=t)},o.prototype.get=function(){var t=this.getMean();return{last:this.getLast(),mean:t,min:this.getMin(),max:this.getMax(),deviation:this.getDeviation(t),length:this.getLength()}},o.prototype.getLength=function(){return this._sampleLength},o.prototype.getMean=function(){for(var t=this.sample,o=t[0],i=1;i<t.length;i++)o+=t[i];return o/=t.length,e.round(o)},o.prototype.getMin=function(){return e.round(this.min)},o.prototype.getMax=function(){return e.round(this.max)},o.prototype.getLast=function(t){return t=t||0,t=(this._sampleLength-1-t)%this.sampleLimit,e.round(this.sample[t])},o.prototype.getDeviation=function(t){t=void 0!==t?t:this.getMean();for(var o=this.sample,i=0,n=0;n<o.length;n++)i+=Math.pow(o[n]-t,2);return i/=o.length,e.round(Math.sqrt(i))},o.prototype.reset=function(){this.sample=[],this._sampleIndex=0,this._sampleLength=0,this.min=null,this.max=null},t.exports&&(t.exports=e),"undefined"!=typeof window&&(window.Stats=e)}()},7721:(t,e)=>{var o=e.Z={};o.read=function(t,e){return t.readFields(o._readField,{id:"",name:"",address:"",type:0,regionId:0,branchId:"",branchCount:0,buildings:[],hull:[],tileCoords:[],center:[],centroid:[],scaleFactor:0,viewAngle:0,bound:null,floorCount:0,defaultFloor:0,floorNames:[],entities:[],floorGeometries:[],outdoors:[],metaRubrics:[],version:0,hybrids:[]},e)},o._readField=function(t,e,i){1===t?e.id=i.readString():2===t?e.name=i.readString():3===t?e.address=i.readString():4===t?e.type=i.readVarint():5===t?e.regionId=i.readVarint():6===t?e.branchId=i.readString():7===t?e.branchCount=i.readVarint():8===t?e.buildings.push(i.readString()):9===t?i.readPackedSVarint(e.hull):10===t?i.readPackedDouble(e.tileCoords):11===t?i.readPackedSVarint(e.center):12===t?i.readPackedDouble(e.centroid):13===t?e.scaleFactor=i.readDouble():14===t?e.viewAngle=i.readDouble():15===t?e.bound=o.Bound.read(i,i.readVarint()+i.pos):16===t?e.floorCount=i.readVarint():17===t?e.defaultFloor=i.readVarint():18===t?e.floorNames.push(i.readString()):19===t?e.entities.push(o.Entity.read(i,i.readVarint()+i.pos)):20===t?e.floorGeometries.push(o.Floor.read(i,i.readVarint()+i.pos)):21===t?e.outdoors.push(o.OutdoorObject.read(i,i.readVarint()+i.pos)):22===t?e.metaRubrics.push(o.Metarubric.read(i,i.readVarint()+i.pos)):23===t?e.version=i.readVarint():24===t&&e.hybrids.push(i.readString())},o.write=function(t,e){if(t.id&&e.writeStringField(1,t.id),t.name&&e.writeStringField(2,t.name),t.address&&e.writeStringField(3,t.address),t.type&&e.writeVarintField(4,t.type),t.regionId&&e.writeVarintField(5,t.regionId),t.branchId&&e.writeStringField(6,t.branchId),t.branchCount&&e.writeVarintField(7,t.branchCount),t.buildings)for(var i=0;i<t.buildings.length;i++)e.writeStringField(8,t.buildings[i]);if(t.hull&&e.writePackedSVarint(9,t.hull),t.tileCoords&&e.writePackedDouble(10,t.tileCoords),t.center&&e.writePackedSVarint(11,t.center),t.centroid&&e.writePackedDouble(12,t.centroid),t.scaleFactor&&e.writeDoubleField(13,t.scaleFactor),t.viewAngle&&e.writeDoubleField(14,t.viewAngle),t.bound&&e.writeMessage(15,o.Bound.write,t.bound),t.floorCount&&e.writeVarintField(16,t.floorCount),t.defaultFloor&&e.writeVarintField(17,t.defaultFloor),t.floorNames)for(i=0;i<t.floorNames.length;i++)e.writeStringField(18,t.floorNames[i]);if(t.entities)for(i=0;i<t.entities.length;i++)e.writeMessage(19,o.Entity.write,t.entities[i]);if(t.floorGeometries)for(i=0;i<t.floorGeometries.length;i++)e.writeMessage(20,o.Floor.write,t.floorGeometries[i]);if(t.outdoors)for(i=0;i<t.outdoors.length;i++)e.writeMessage(21,o.OutdoorObject.write,t.outdoors[i]);if(t.metaRubrics)for(i=0;i<t.metaRubrics.length;i++)e.writeMessage(22,o.Metarubric.write,t.metaRubrics[i]);if(t.version&&e.writeVarintField(23,t.version),t.hybrids)for(i=0;i<t.hybrids.length;i++)e.writeStringField(24,t.hybrids[i])},o.ComplexType={mall:{value:0,options:{}},other:{value:1,options:{}},office:{value:2,options:{}}},o.Metarubric={},o.Metarubric.read=function(t,e){return t.readFields(o.Metarubric._readField,{id:"",orgCount:0},e)},o.Metarubric._readField=function(t,e,o){1===t?e.id=o.readString():2===t&&(e.orgCount=o.readVarint())},o.Metarubric.write=function(t,e){t.id&&e.writeStringField(1,t.id),t.orgCount&&e.writeVarintField(2,t.orgCount)},o.Bound={},o.Bound.read=function(t,e){return t.readFields(o.Bound._readField,{min:[],max:[]},e)},o.Bound._readField=function(t,e,o){1===t?o.readPackedSVarint(e.min):2===t&&o.readPackedSVarint(e.max)},o.Bound.write=function(t,e){t.min&&e.writePackedSVarint(1,t.min),t.max&&e.writePackedSVarint(2,t.max)},o.Entity={},o.Entity.read=function(t,e){return t.readFields(o.Entity._readField,{id:"",sublayer:"",coordinates:[],iconId:0,areaId:0,firmId:"",floorIndex:0,floorName:"",text:"",layer:"",priority:0,textPriority:0,type:0,text2:"",humanReadableIconId:"",floorId:"",buildingId:""},e)},o.Entity._readField=function(t,e,o){1===t?e.id=o.readString():2===t?e.sublayer=o.readString():3===t?o.readPackedVarint(e.coordinates):4===t?e.iconId=o.readVarint():5===t?e.areaId=o.readVarint():6===t?e.firmId=o.readString():7===t?e.floorIndex=o.readVarint():8===t?e.floorName=o.readString():9===t?e.text=o.readString():10===t?e.layer=o.readString():11===t?e.priority=o.readVarint(!0):12===t?e.textPriority=o.readVarint(!0):13===t?e.type=o.readVarint():14===t?e.text2=o.readString():15===t?e.humanReadableIconId=o.readString():16===t?e.floorId=o.readString():17===t&&(e.buildingId=o.readString())},o.Entity.write=function(t,e){t.id&&e.writeStringField(1,t.id),t.sublayer&&e.writeStringField(2,t.sublayer),t.coordinates&&e.writePackedVarint(3,t.coordinates),t.iconId&&e.writeVarintField(4,t.iconId),t.areaId&&e.writeVarintField(5,t.areaId),t.firmId&&e.writeStringField(6,t.firmId),t.floorIndex&&e.writeVarintField(7,t.floorIndex),t.floorName&&e.writeStringField(8,t.floorName),t.text&&e.writeStringField(9,t.text),t.layer&&e.writeStringField(10,t.layer),t.priority&&e.writeVarintField(11,t.priority),t.textPriority&&e.writeVarintField(12,t.textPriority),t.type&&e.writeVarintField(13,t.type),t.text2&&e.writeStringField(14,t.text2),t.humanReadableIconId&&e.writeStringField(15,t.humanReadableIconId),t.floorId&&e.writeStringField(16,t.floorId),t.buildingId&&e.writeStringField(17,t.buildingId)},o.Floor={},o.Floor.read=function(t,e){return t.readFields(o.Floor._readField,{name:"",rooms:[],ids:[]},e)},o.Floor._readField=function(t,e,i){1===t?e.name=i.readString():2===t?e.rooms.push(o.Room.read(i,i.readVarint()+i.pos)):3===t&&e.ids.push(i.readString())},o.Floor.write=function(t,e){if(t.name&&e.writeStringField(1,t.name),t.rooms)for(var i=0;i<t.rooms.length;i++)e.writeMessage(2,o.Room.write,t.rooms[i]);if(t.ids)for(i=0;i<t.ids.length;i++)e.writeStringField(3,t.ids[i])},o.Room={},o.Room.read=function(t,e){return t.readFields(o.Room._readField,{id:0,type:0,sublayer:"",isIsland:!1,firmIds:[],area:[],wallSide:[],wallTop:[],areaSublayer:"",wallSublayer:"",floorId:"",buildingId:""},e)},o.Room._readField=function(t,e,o){1===t?e.id=o.readVarint():2===t?e.type=o.readVarint():3===t?e.sublayer=o.readString():4===t?e.isIsland=o.readBoolean():5===t?e.firmIds.push(o.readString()):6===t?e.area.push(o.readBytes()):7===t?e.wallSide.push(o.readBytes()):8===t?e.wallTop.push(o.readBytes()):9===t?e.areaSublayer=o.readString():10===t?e.wallSublayer=o.readString():11===t?e.floorId=o.readString():12===t&&(e.buildingId=o.readString())},o.Room.write=function(t,e){if(t.id&&e.writeVarintField(1,t.id),t.type&&e.writeVarintField(2,t.type),t.sublayer&&e.writeStringField(3,t.sublayer),t.isIsland&&e.writeBooleanField(4,t.isIsland),t.firmIds)for(var o=0;o<t.firmIds.length;o++)e.writeStringField(5,t.firmIds[o]);if(t.area)for(o=0;o<t.area.length;o++)e.writeBytesField(6,t.area[o]);if(t.wallSide)for(o=0;o<t.wallSide.length;o++)e.writeBytesField(7,t.wallSide[o]);if(t.wallTop)for(o=0;o<t.wallTop.length;o++)e.writeBytesField(8,t.wallTop[o]);t.areaSublayer&&e.writeStringField(9,t.areaSublayer),t.wallSublayer&&e.writeStringField(10,t.wallSublayer),t.floorId&&e.writeStringField(11,t.floorId),t.buildingId&&e.writeStringField(12,t.buildingId)},o.OutdoorObject={},o.OutdoorObject.read=function(t,e){return t.readFields(o.OutdoorObject._readField,{type:"",vertices:[],width:0},e)},o.OutdoorObject._readField=function(t,e,o){1===t?e.type=o.readString():2===t?e.vertices.push(o.readBytes()):3===t&&(e.width=o.readDouble())},o.OutdoorObject.write=function(t,e){if(t.type&&e.writeStringField(1,t.type),t.vertices)for(var o=0;o<t.vertices.length;o++)e.writeBytesField(2,t.vertices[o]);t.width&&e.writeDoubleField(3,t.width)}},9748:(t,e)=>{var o=e.w={};o.read=function(t,e){return t.readFields(o._readField,{tiles:[]},e)},o._readField=function(t,e,i){1===t&&e.tiles.push(o.Tile.read(i,i.readVarint()+i.pos))},o.write=function(t,e){if(t.tiles)for(var i=0;i<t.tiles.length;i++)e.writeMessage(1,o.Tile.write,t.tiles[i])},o.Tile={},o.Tile.read=function(t,e){return t.readFields(o.Tile._readField,{x:0,y:0,zoom:0},e)},o.Tile._readField=function(t,e,o){1===t?e.x=o.readVarint():2===t?e.y=o.readVarint():3===t&&(e.zoom=o.readVarint())},o.Tile.write=function(t,e){t.x&&e.writeVarintField(1,t.x),t.y&&e.writeVarintField(2,t.y),t.zoom&&e.writeVarintField(3,t.zoom)};var i=e.F={};i.read=function(t,e){return t.readFields(i._readField,{tileGroups:[]},e)},i._readField=function(t,e,o){1===t&&e.tileGroups.push(i.TileGroup.read(o,o.readVarint()+o.pos))},i.write=function(t,e){if(t.tileGroups)for(var o=0;o<t.tileGroups.length;o++)e.writeMessage(1,i.TileGroup.write,t.tileGroups[o])},i.TileGroup={},i.TileGroup.read=function(t,e){return t.readFields(i.TileGroup._readField,{x:0,y:0,zoom:0,tiles:[]},e)},i.TileGroup._readField=function(t,e,o){1===t?e.x=o.readVarint():2===t?e.y=o.readVarint():3===t?e.zoom=o.readVarint():4===t&&e.tiles.push(i.TileGroup.Tile.read(o,o.readVarint()+o.pos))},i.TileGroup.write=function(t,e){if(t.x&&e.writeVarintField(1,t.x),t.y&&e.writeVarintField(2,t.y),t.zoom&&e.writeVarintField(3,t.zoom),t.tiles)for(var o=0;o<t.tiles.length;o++)e.writeMessage(4,i.TileGroup.Tile.write,t.tiles[o])},i.TileGroup.Tile={},i.TileGroup.Tile.read=function(t,e){return t.readFields(i.TileGroup.Tile._readField,{regionId:0,hash:null,data:null},e)},i.TileGroup.Tile._readField=function(t,e,o){1===t?e.regionId=o.readVarint():2===t?e.hash=o.readBytes():3===t&&(e.data=o.readBytes())},i.TileGroup.Tile.write=function(t,e){t.regionId&&e.writeVarintField(1,t.regionId),t.hash&&e.writeBytesField(2,t.hash),t.data&&e.writeBytesField(3,t.data)}}},e={};function o(i){var n=e[i];if(void 0!==n)return n.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,o),a.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={};o.r(t),o.d(t,{ease:()=>Wl,easeInBack:()=>os,easeInCirc:()=>Xl,easeInCubic:()=>Ol,easeInElastic:()=>Ql,easeInExpo:()=>Yl,easeInOutBack:()=>ns,easeInOutCirc:()=>Jl,easeInOutCubic:()=>Ll,easeInOutElastic:()=>es,easeInOutExpo:()=>Zl,easeInOutQuad:()=>jl,easeInOutQuart:()=>Bl,easeInOutQuint:()=>Ul,easeInOutSine:()=>ql,easeInQuad:()=>Pl,easeInQuart:()=>Tl,easeInQuint:()=>Dl,easeInSine:()=>Vl,easeOutBack:()=>is,easeOutBounce:()=>as,easeOutCirc:()=>Kl,easeOutCubic:()=>Nl,easeOutElastic:()=>ts,easeOutExpo:()=>$l,easeOutQuad:()=>Hl,easeOutQuart:()=>El,easeOutQuint:()=>Rl,easeOutSine:()=>Gl,inertia:()=>rs,linear:()=>Ml});var e=o(1973),i=o.n(e),n=o(6208),a=o.n(n);const r="https://mapgl.2gis.com/api/js/plugins/draco_decoder_gltf.js",l={protocol:"https",server:"tile{subdomain}.maps.2gis.com",subdomains:"0123",tileSet:"vector_b",tileKey:"empty",appId:"empty",cacheRatio:2,maxUniverseZoom:8,maxRegionalZoom:15,maxDetailLevel:17},s={minZoom:10,maxZoom:14,tileSet:"com_poi_web",rasterSizes:[96,84,72,60,48,36,24]},c=[2048,2048],d={tiles:"{protocol}://{host}/vt?r={request}&ts={tileSet}&key={tileKey}&appId={appId}&lang={lang}&default_lang={defaultLang}&s={sessionId}",metatile:"{protocol}://{host}/metafiles/{hash}/metatile.json?ts={tileSet}",modelInfo:"{protocol}://{host}/metafiles/{regionId}/models.json?ts={tileSet}",model:"{protocol}://{host}/metafiles/{regionId}/{name}?ts={tileSet}",convertData:"{protocol}://{host}/metafiles/{hash}/convert.json?ts={tileSet}",dynamicPoi:"{protocol}://{host}/metafiles/{regionId}/poi/{id}_{width}_{height}.png?ts={tileSet}"},m="{protocol}://{host}/tiles?tls={tiles}&reg={regions}&tm={time}&fmt=json&z={z}",p="https://mapgl.2gis.com/api/fonts",h=24,u="https://disk.2gis.com/styles/assets/icons",g=5,f={fov:60,near:1e3,far:Math.pow(2,34),minCalculationScreenHeight:1e3,viewportLimitRatio:2,perspectiveDistanceLimitRatio:10},b=17,y=800,_=400,x=["Commercial_poi_city"],v=["Commercial_poi_default","Commercial_poi_custom","Commercial_poi_navi",...x],z=[105,84,63,42,21],C=256,F=Math.pow(2,32),w=F/2,S=Math.pow(2,20),I=Math.pow(2,15),k=Math.pow(2,16)-1,M=I/k,A=16383,W=.7071067811865475,P=["Arial","Helvetica","HelveticaNeueCyr","Open_Sans","Open_Sans_Semibold","Open_Sans_Italic","Segoe_UI","PT_Sans_Caption","PT_Sans","Verdana","Verdana_bold","Noto_Sans","Noto_Sans_Semibold","Noto_Sans_Italic","SuisseIntl_Bold"],H=2147483647;var j=o(7084);function O(t,e){return 0===t?0:Math.min(2*t-1,2*(e-t))}const N=1e-6;let L="undefined"!=typeof Float64Array?Float64Array:Array;Math.random;Math.PI;function T(){let t=new L(2);return t[0]=0,t[1]=0,t}function E(t,e){let o=new L(2);return o[0]=t,o[1]=e,o}function B(t,e){return t[0]=e[0],t[1]=e[1],t}function D(t,e,o){return t[0]=e,t[1]=o,t}function R(t,e){var o=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(o*o+i*i)}function U(t,e){var o=e[0],i=e[1],n=o*o+i*i;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t}function V(t,e){return t[0]*e[0]+t[1]*e[1]}function G(t,e){return t[0]===e[0]&&t[1]===e[1]}const q=function(t,e,o){return t[0]=e[0]-o[0],t[1]=e[1]-o[1],t};!function(){let t=T()}();function Y(){let t=new L(3);return t[0]=0,t[1]=0,t[2]=0,t}function $(t,e,o){let i=new L(3);return i[0]=t,i[1]=e,i[2]=o,i}function Z(t,e,o,i){return t[0]=e,t[1]=o,t[2]=i,t}function X(t,e,o){return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function K(t,e){let o=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(o*o+i*i+n*n)}function J(t,e){let o=e[0],i=e[1],n=e[2],a=o*o+i*i+n*n;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function Q(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function tt(t,e,o){let i=e[0],n=e[1],a=e[2],r=o[0],l=o[1],s=o[2];return t[0]=n*s-a*l,t[1]=a*r-i*s,t[2]=i*l-n*r,t}const et=function(t,e,o){return t[0]=e[0]-o[0],t[1]=e[1]-o[1],t[2]=e[2]-o[2],t},ot=function(t){let e=t[0],o=t[1],i=t[2];return Math.sqrt(e*e+o*o+i*i)};!function(){let t=Y()}();var it=o(4716);function nt(t,e,o,i,n,a,r,l,s,c,d,m,p,h,u,g){let f=new L(16);return f[0]=t,f[1]=e,f[2]=o,f[3]=i,f[4]=n,f[5]=a,f[6]=r,f[7]=l,f[8]=s,f[9]=c,f[10]=d,f[11]=m,f[12]=p,f[13]=h,f[14]=u,f[15]=g,f}function at(t,e){let o=e[0],i=e[1],n=e[2],a=e[3],r=e[4],l=e[5],s=e[6],c=e[7],d=e[8],m=e[9],p=e[10],h=e[11],u=e[12],g=e[13],f=e[14],b=e[15],y=o*l-i*r,_=o*s-n*r,x=o*c-a*r,v=i*s-n*l,z=i*c-a*l,C=n*c-a*s,F=d*g-m*u,w=d*f-p*u,S=d*b-h*u,I=m*f-p*g,k=m*b-h*g,M=p*b-h*f,A=y*M-_*k+x*I+v*S-z*w+C*F;return A?(A=1/A,t[0]=(l*M-s*k+c*I)*A,t[1]=(n*k-i*M-a*I)*A,t[2]=(g*C-f*z+b*v)*A,t[3]=(p*z-m*C-h*v)*A,t[4]=(s*S-r*M-c*w)*A,t[5]=(o*M-n*S+a*w)*A,t[6]=(f*x-u*C-b*_)*A,t[7]=(d*C-p*x+h*_)*A,t[8]=(r*k-l*S+c*F)*A,t[9]=(i*S-o*k-a*F)*A,t[10]=(u*z-g*x+b*y)*A,t[11]=(m*x-d*z-h*y)*A,t[12]=(l*w-r*I-s*F)*A,t[13]=(o*I-i*w+n*F)*A,t[14]=(g*_-u*v-f*y)*A,t[15]=(d*v-m*_+p*y)*A,t):null}function rt(t,e,o){let i=e[0],n=e[1],a=e[2],r=e[3],l=e[4],s=e[5],c=e[6],d=e[7],m=e[8],p=e[9],h=e[10],u=e[11],g=e[12],f=e[13],b=e[14],y=e[15],_=o[0],x=o[1],v=o[2],z=o[3];return t[0]=_*i+x*l+v*m+z*g,t[1]=_*n+x*s+v*p+z*f,t[2]=_*a+x*c+v*h+z*b,t[3]=_*r+x*d+v*u+z*y,_=o[4],x=o[5],v=o[6],z=o[7],t[4]=_*i+x*l+v*m+z*g,t[5]=_*n+x*s+v*p+z*f,t[6]=_*a+x*c+v*h+z*b,t[7]=_*r+x*d+v*u+z*y,_=o[8],x=o[9],v=o[10],z=o[11],t[8]=_*i+x*l+v*m+z*g,t[9]=_*n+x*s+v*p+z*f,t[10]=_*a+x*c+v*h+z*b,t[11]=_*r+x*d+v*u+z*y,_=o[12],x=o[13],v=o[14],z=o[15],t[12]=_*i+x*l+v*m+z*g,t[13]=_*n+x*s+v*p+z*f,t[14]=_*a+x*c+v*h+z*b,t[15]=_*r+x*d+v*u+z*y,t}function lt(t,e,o){let i,n,a,r,l,s,c,d,m,p,h,u,g=o[0],f=o[1],b=o[2];return e===t?(t[12]=e[0]*g+e[4]*f+e[8]*b+e[12],t[13]=e[1]*g+e[5]*f+e[9]*b+e[13],t[14]=e[2]*g+e[6]*f+e[10]*b+e[14],t[15]=e[3]*g+e[7]*f+e[11]*b+e[15]):(i=e[0],n=e[1],a=e[2],r=e[3],l=e[4],s=e[5],c=e[6],d=e[7],m=e[8],p=e[9],h=e[10],u=e[11],t[0]=i,t[1]=n,t[2]=a,t[3]=r,t[4]=l,t[5]=s,t[6]=c,t[7]=d,t[8]=m,t[9]=p,t[10]=h,t[11]=u,t[12]=i*g+l*f+m*b+e[12],t[13]=n*g+s*f+p*b+e[13],t[14]=a*g+c*f+h*b+e[14],t[15]=r*g+d*f+u*b+e[15]),t}function st(t,e,o){let i=o[0],n=o[1],a=o[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ct(t,e,o){return t[0]=o[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=o[2],t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function dt(t,e){return{min:t||E(1/0,1/0),max:e||E(-1/0,-1/0)}}function mt(t,e){var o,i,n;o=t.min,i=t.min,n=e,o[0]=Math.min(i[0],n[0]),o[1]=Math.min(i[1],n[1]),function(t,e,o){t[0]=Math.max(e[0],o[0]),t[1]=Math.max(e[1],o[1])}(t.max,t.max,e)}function pt(t,e){return t[0]=e.min[0]+(e.max[0]-e.min[0])/2,t[1]=e.min[1]+(e.max[1]-e.min[1])/2,t}const ht=2*Math.PI*6378137,ut=F/ht;ct([],[-1,-1,0],[2,2,1]),ct([],[.5,.5,0],[.5,.5,1]);function gt(t){const e=F/2,o=Math.sin(St(t[1])),i=t[0]*F/360,n=Math.log((1+o)/(1-o))*F/(4*Math.PI);return $(Ft(i,-e,e),Ft(n,-e,e),0)}function ft(t){const e=[0,0];e[0]=360*t[0]/F;const o=-2*Math.PI/F;return e[1]=90-2*(Math.atan(Math.exp(t[1]*o))/Math.PI*180),e}function bt(t){return Math.max(t,f.minCalculationScreenHeight)}function yt(t){const e=ft(t)[1],o=1/(2*Math.cos(St(e)));return Math.log(o)/Math.log(2)}function _t(t,e){const o=yt(e)*function(t,e,o){return Ft((o-t)/(e-t),0,1)}(9,10,t);return t+Ft(o,-1,0)}function xt(t){return 1/Math.cos(St(t))}dt([-F/2,-F/2],[F/2,F/2]);T(),T();const vt=[0,0,1],zt=Y(),Ct=Y();function Ft(t,e,o){return t=Math.max(t,e),t=Math.min(t,o)}function wt(t){return 0===t||Number.isNaN(t)?t:t>0?1:-1}function St(t){return t*Math.PI/180}function It(t){return t>>>=0,t-=1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1}function kt(t,e){const o=Object.assign({},e);for(const e in t)void 0!==t[e]&&(o[e]=t[e]);return o}function Mt(t){const e={};for(const o in t){e[t[o]]=o}return e}function At(t){let e=0;for(let o=0;o<t.length;o++)e+=t[o]*Math.pow(256,t.length-1-o);return e}function Wt(t){const e=new Uint8Array(6);for(let o=0;o<6;o++)e[o]=255&Math.floor(t/Math.pow(256,5-o));return encodeURIComponent(it.c(e))}function Pt(t){const e=function(t,e){var o,i,n,a,r;const l={};t.forEach(((t,e)=>{l[t]=e}));let s=t.length;l.selected=null!==(o=l.selected)&&void 0!==o?o:s++,l.hovered=null!==(i=l.hovered)&&void 0!==i?i:s++,l.dpi=null!==(n=l.dpi)&&void 0!==n?n:s++,l.isRealtime=null!==(a=l.isRealtime)&&void 0!==a?a:s++,l.pixelDensityPreset=null!==(r=l.pixelDensityPreset)&&void 0!==r?r:s++;for(const t in e)void 0===l[t]&&(l[t]=s++);return l}(t.tileProps,t.defaultProps),o={};for(const i in t.defaultProps)o[i]={index:e[i],value:t.defaultProps[i]};return{version:t.version,dictionaries:t.enumerationValues,reverseDictionaries:Object.keys(t.enumerationValues).reduce(((e,o)=>(e[o]=Mt(t.enumerationValues[o]),e)),{}),tileProps:e,tilePropsByIndex:Mt(e),defaultProps:o}}function Ht(t,e){const o={};if(e)for(let t=0;t<e.length;t++)o[e[t]]=t;return Pt({enumerationValues:{db_sublayer:o},version:"",zenithVersion:"",date:"",defaultProps:{},tileProps:t})}function jt(t,e){const{tileProps:o}=t;let i=Object.keys(o).length;for(const t of e)void 0===o[t]&&(o[t]=i,i+=1)}let Ot=0;const Nt={beginningIsCut:Ot++,class:Ot++,componentDistanceEnd:Ot++,componentDistanceStart:Ot++,db_icon_priority:Ot++,db_label_priority:Ot++,db_label2_priority:Ot++,dpi:Ot++,endingIsCut:Ot++,height:Ot++,db_hidden_by_plan_building_id:Ot++,id:Ot++,isRealtime:Ot++,db_label:Ot++,db_label2:Ot++,nextPointX:Ot++,nextPointY:Ot++,db_object_class:Ot++,objectLength:Ot++,pixelDensityPreset:Ot++,previousPointX:Ot++,previousPointY:Ot++,db_region:Ot++,selected:Ot++,hovered:Ot++,db_sublayer:Ot++,traffic_color:Ot++,traffic_road_class:Ot++,traffic_road_z_level:Ot++},Lt=(Mt(Nt),[]),Tt={},Et={sourceName:"zenith"},Bt=/\{(\w+)\}/g;function Dt(t,e){return t.replace(Bt,((t,o)=>e[o]))}function Rt(t){const[e,o]=t.split("?");if(!o)return e;const i=o.split("&").map((t=>t.split("="))),n=i.filter((([,t])=>"undefined"!==t)).map((t=>t.join("="))).join("&");return n.length?`${e}?${n}`:e}function Ut(t,e){const o=Dt(e.host,{subdomain:e.subdomain});return Rt(Dt(d[t],Object.assign(Object.assign({},e),{host:o})))}function Vt(t,e){return Rt(Dt(t,e))}function Gt(t,e){return{a:t[1]-e[1],b:e[0]-t[0],c:t[0]*e[1]-e[0]*t[1]}}dt(),dt();function qt(t){const e=t[0][0],o=t[0][1],i=t[1][0],n=t[1][1],a=t[2][0],r=t[2][1],l=t[3][0],s=t[3][1];return{min:[Math.min(e,i,a,l),Math.min(o,n,r,s)],max:[Math.max(e,i,a,l),Math.max(o,n,r,s)]}}function Yt(t,e,o){t.forEach((t=>{const i=1+e/K(o,t);!function(t,e,o,i){let n=e[0],a=e[1],r=e[2];t[0]=n+i*(o[0]-n),t[1]=a+i*(o[1]-a),t[2]=r+i*(o[2]-r)}(t,o,t,i)}))}var $t=o(9748);const Zt=[0,0,0];function Xt(t){return{coords:t,size:ae(t[2]),offset:se(t)}}function Kt(t){return`${t[0]}_${t[1]}_${t[2]}_${t[3]}`}function Jt(t){const e=t.split("_");return[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}function Qt(t,e){const o=function(t){const[e,o,i]=t;return{min:se([e,o,i,i]),max:se([e+1,o+1,i,i])}}(t);return function(t,e){if(!function(t,e){const o=t.min[0]<=e.max[0]&&e.min[0]<=t.max[0],i=t.min[1]<=e.max[1]&&e.min[1]<=t.max[1];return o&&i}(e,qt(t)))return!1;const o=[Gt(t[3],t[2]),Gt(t[1],t[0]),Gt(t[0],t[3]),Gt(t[2],t[1])],i=[e.min,e.max,[e.min[0],e.max[1]],[e.max[0],e.min[1]]];for(const t of o){let e=!0;for(let o=0;o<i.length;o++){const n=i[o];if(t.a*n[0]+t.b*n[1]+t.c<0){e=!1;break}}if(e)return!1}return!0}(e,o)}function te(t,e,o,i){const n=qt(t.tilesBounds),a=ae(e),r=Math.pow(2,e)-1,l=Math.max(Math.floor((n.min[0]+w)/a),0),s=Math.min(Math.floor((n.max[0]+w)/a),r),c=Math.max(Math.floor((n.min[1]+w)/a),0),d=Math.min(Math.floor((n.max[1]+w)/a),r),m=[];for(let o=l;o<=s;o++)for(let n=c;n<=d;n++){const a=[o,n,e,i];Qt(a,t.tilesBounds)&&m.push(a)}return t.demMode&&function(t,e,o,i,n){const a=t.reduce(((t,e)=>(t.add(Kt(e)),t)),new Set),r=new Set,l=(s=e.tilesBounds,[[s[0][0],s[0][1],s[0][2]],[s[1][0],s[1][1],s[1][2]],[s[2][0],s[2][1],s[2][2]],[s[3][0],s[3][1],s[3][2]]]);var s;let c=t.slice();for(let s=o;s>=i;s--){let i=0;const d=[];c.forEach((o=>{const n=ee(o),l=Kt(n);r.has(l)||(d.push(n),r.add(l),oe(n,(o=>{const n=Kt(o);a.has(n)||r.has(n)||!Qt(o,e.demTilesBounds)||(t.push(o),a.add(n),i++)})))}));const m=ae(s-1);Yt(l,m,e.center);const p=qt(l),h=Math.pow(2,o)-1,u=Math.max(Math.floor((p.min[0]+w)/m),0),g=Math.min(Math.floor((p.max[0]+w)/m),h),f=Math.max(Math.floor((p.min[1]+w)/m),0),b=Math.min(Math.floor((p.max[1]+w)/m),h);for(let t=u;t<=g;t++)for(let e=f;e<=b;e++){const o=[t,e,s-1,n],a=Kt(o);!r.has(a)&&Qt(o,l)&&(d.push(o),i++)}if(!i)break;c=d}}(m,t,e,o,i),m}function ee(t,e=1){const[o,i,n,a]=t,r=Math.pow(2,e);return[Math.trunc(o/r),Math.trunc(i/r),n-e,a]}function oe(t,e){let[o,i,n]=t;const a=t[3];o*=2,i*=2,n++,e([o,i,n,a]),e([o+1,i,n,a]),e([o,i+1,n,a]),e([o+1,i+1,n,a])}function ie(t,e,o){t[0]=e[0]*o.size/I+o.offset[0],t[1]=e[1]*o.size/I+o.offset[1],t[2]=e[2]*S/I}Y();function ne(t,e,o){t[0]=(e[0]-o.offset[0])*I/o.size,t[1]=(e[1]-o.offset[1])*I/o.size,t[2]=e[2]*I/S}function ae(t){return Math.pow(2,32-t)}function re(t){return t[0]>=0&&t[0]<=I&&t[1]>=0&&t[1]<=I}function le(t){return t/S*I}function se(t){const e=ae(t[2]),o=2147483648;return $(t[0]*e-o,t[1]*e-o,0)}function ce(t,e=1){const o=Math.max(t.max[0]-t.min[0],t.max[1]-t.min[1],1)*e,i=32-Math.log(o)/Math.LN2,n=T();return pt(n,t),function(t,e){const o=2147483648,i=ae(e);return[(t[0]-i/2+o)/i,(t[1]-i/2+o)/i,e,e]}(n,i)}const de=t=>{const[e,o,i,n]=t;return[e,Math.pow(2,i)-1-o,i,n]},me=(t,e)=>{ie(Zt,e,t);return xt(ft(Zt)[1])},pe=1e5;function he(t,e){return{type:64,lo:t,hi:e}}function ue(t){return null!==t&&"object"==typeof t&&64===t.type}function ge(t,e){return t.lo===e.lo&&t.hi===e.hi}function fe(t){return Se(t.lo,t.hi)}function be(t){const e=Ie(t);return he(e[0],e[1])}function ye(t){return[t%pe,Math.floor(t/pe)%pe,0,0]}function _e(t){let e=0;for(let o=0;o<4;o++){const i=4294967296*t[o]+e;e=Math.floor(i/pe),t[o]=i%pe}}function xe(t,e){const o=4294967296;let i=4,n=0;for(;--i>=0;){const a=n*pe+e[i],r=Math.floor(a/o);n=a-r*o,t[i]=r}}function ve(t,e){let o=0;for(let i=0;i<4;i++){const n=t[i]+e[i]+o;o=Math.floor(n/pe),t[i]=n%pe}}function ze(t,e){let o=0;for(let i=0;i<4;i++){let n=t[i]-e[i]-o;n<0?(n+=pe,o=1):o=0,t[i]=n}}function Ce(t){let e=!0,o=4,i="";for(;--o>=0;){const n=String(t[o]);e?0!==t[o]&&(i+=n,e=!1):i+="00000".slice(n.length)+n}return i.length||(i="0"),i}function Fe(t){let e=4,o=0;for(;--e>=0;)o=o*pe+t[e];return o}function we(t){t="00000000000000000000".slice(t.length)+t;const e=[0,0,0,0];for(let o=0;o<4;o++){const i=parseInt(t.slice(5*o,5*(o+1)),10);e[3-o]=i}return e}function Se(t,e){const o=ye(t),i=ye(e);return _e(i),ve(i,o),Ce(i)}function Ie(t){const e=we(t),o=ye(0);xe(o,e);const i=Fe(o);return _e(o),ze(e,o),[Fe(e),i]}const ke=[0,0,0],Me=[0,0,0];function Ae(t,e,o,i,n){if(e!==i||o!==n){const a=n-o,r=e-i,l=1/Math.sqrt(a*a+r*r);t[0]=a*l,t[1]=r*l}else t[0]=0,t[1]=0}function We(t,e,o,i){return et(ke,o,e),et(Me,o,i),tt(t,Me,ke),J(t,t),t}function Pe(t,e,o,i,n){if(e!==i||o!==n){const a=i-e,r=n-o,l=1/Math.sqrt(a*a+r*r);t[0]=a*l,t[1]=r*l}else t[0]=0,t[1]=0}function He(t,e,o,i,n){const a=e+i,r=o+n,l=e*a+o*r;if(0!==l){const e=1/l;t[0]=a*e,t[1]=r*e}else t[0]=0,t[1]=0}function je(t){return Ft(127*t,-127,127)}function Oe(t,e=t){return t[0]=je(e[0]),t[1]=je(e[1]),t}function Ne(t,e){const o=e[0];t[0]=-e[1],t[1]=o}function Le(t,e){const o=e[0];t[0]=e[1],t[1]=-o}function Te(t,e,o,i,n=!0){var a,r,l;G(e,o)||G(o,i)?D(t,0,0):(q(ke,o,e),q(Me,i,o),n?(Ne(ke,ke),Ne(Me,Me)):(Le(ke,ke),Le(Me,Me)),U(ke,ke),U(Me,Me),r=ke,l=Me,(a=t)[0]=r[0]+l[0],a[1]=r[1]+l[1],U(t,t))}const Ee=[0,0];function Be(t,e,o,i,n,a,r,l){let s=t.elements.offset;for(let c=0;c<e;c++){const d=O(c,e),m=c===e-1;if(n&&1===n[d]||!n&&!m){const n=o[d],m=i[d],p=O((c+1)%e,e),h=o[p],u=i[p];Ge(t,s),De(t,s,n,m,h,u,a),l?Re(t,s,l[0],l[1],l[0],l[1]):Re(t,s,n,m,h,u),Ae(Ee,n,m,h,u),Ue(t,s,Ee),void 0!==r&&"localID"in t.views&&void 0!==t.views.localID&&Ve(t.views.localID,s,r,t.elements.stride),s+=4}}t.elements.offset=s}function De(t,e,o,i,n,a,r){const l=t.views.position,s=t.elements.stride/l.BYTES_PER_ELEMENT;l[e*=s]=A+o,l[e+1]=A+i,l[e+2]=0,l[e+=s]=A+o,l[e+1]=A+i,l[e+2]=r,l[e+=s]=A+n,l[e+1]=A+a,l[e+2]=0,l[e+=s]=A+n,l[e+1]=A+a,l[e+2]=r}function Re(t,e,o,i,n,a){const r=t.views.demPosition,l=t.elements.stride/r.BYTES_PER_ELEMENT;o=(o+A)/8,i=(i+A)/8,n=(n+A)/8,a=(a+A)/8,r[e*=l]=o,r[e+1]=i,r[e+=l]=o,r[e+1]=i,r[e+=l]=n,r[e+1]=a,r[e+=l]=n,r[e+1]=a}function Ue(t,e,o){const i=t.elements.stride/t.views.normal.BYTES_PER_ELEMENT;e*=i;for(let n=0;n<4;n++)t.views.normal[e]=je(o[0]),t.views.normal[e+1]=je(o[1]),t.views.normal[e+2]=0,t.views.normal[e+3]=0,e+=i}function Ve(t,e,o,i){const n=i/t.BYTES_PER_ELEMENT;t[e*=n]=o,t[e+=n]=o,t[e+=n]=o,t[e+=n]=o}function Ge(t,e){const o=t.indices.buffer;let i=t.indices.offset;o[i++]=e,o[i++]=e+3,o[i++]=e+1,o[i++]=e,o[i++]=e+2,o[i++]=e+3,t.indices.offset=i}const qe=[.5,.5],Ye=[.5,.5];function $e(t,e,o,i,n,a){let r=t.elements.offset;const l=O(e-1,e);let s=o[l],c=i[l],d=n?n[l]:0;const m=r;for(let l=0;l<e;l++){const p=O(l,e),h=l===e-1,u=o[p],g=i[p],f=n?n[p]:h?0:1;0!==d&&(Pe(Ye,s,c,u,g),no(t,r,f,h?m:r+4),Je(t,r,s,c,u,g),a?Ke(t,r,a[0],a[1],a[0],a[1]):Ke(t,r,s,c,u,g),Oe(Ye),Qe(t,r,Ye),to(t,r,Ye),r+=4),s=u,c=g,d=f}t.elements.offset=r}function Ze(t,e,o,i,n,a,r){let l=t.elements.offset;const s=O(e-2,e),c=O(e-1,e);let d=o[c],m=i[c],p=n?n[s]:1,h=n?n[c]:0;Ae(qe,o[s],i[s],d,m);let u=qe[0],g=qe[1];for(let s=0;s<e;s++){const c=O(s,e),v=s===e-1,z=o[c],C=i[c],F=n?n[c]:v?0:1;Pe(Ye,d,m,z,C);const w=Ye[1],S=-Ye[0];0!==p&&(0===h?(qe[0]=u,qe[1]=g):Xe(qe,u,g,w,S),f=Ye,b=u,y=g,_=qe[0],x=qe[1],f[0]=b*_+y*x,f[1]=y*_-b*x,no(t,l,0,0),eo(t,l,d,m,a,null!=r?r:[d,m]),oo(t,l,Oe(qe),Oe(Ye)),io(t,l),l+=4),d=z,m=C,p=h,h=F,u=w,g=S}var f,b,y,_,x;t.elements.offset=l}function Xe(t,e,o,i,n){let a,r,l;e*i+o*n>0?(a=e+i,r=o+n,l=1/Math.sqrt(a*a+r*r),t[0]=a*l,t[1]=r*l):(a=n-o,r=e-i,0!==a&&0!==r?(l=1/Math.sqrt(a*a+r*r),t[0]=a*l,t[1]=r*l):(t[0]=0,t[1]=0))}function Ke(t,e,o,i,n,a){const r=t.views.demPosition,l=t.elements.stride/r.BYTES_PER_ELEMENT;o=(o+A)/8,i=(i+A)/8,n=(n+A)/8,a=(a+A)/8,r[e*=l]=o,r[e+1]=i,r[e+=l]=o,r[e+1]=i,r[e+=l]=n,r[e+1]=a,r[e+=l]=n,r[e+1]=a}function Je(t,e,o,i,n,a){const{position:r,distance:l}=t.views,s=t.elements.stride/r.BYTES_PER_ELEMENT;r[e*=s]=A+o,r[e+1]=A+i,r[e+2]=0,l[e]=0,r[e+=s]=A+o,r[e+1]=A+i,r[e+2]=0,l[e]=-32767,r[e+=s]=A+n,r[e+1]=A+a,r[e+2]=0,l[e]=-32767,r[e+=s]=A+n,r[e+1]=A+a,r[e+2]=0,l[e]=0}function Qe(t,e,o){const i=t.elements.stride/t.views.normals.BYTES_PER_ELEMENT;e*=i;for(let n=0;n<4;n++)t.views.normals[e]=o[0],t.views.normals[e+1]=o[1],t.views.normals[e+2]=0,t.views.normals[e+3]=0,e+=i}function to(t,e,o){const i=t.elements.stride/t.views.direction.BYTES_PER_ELEMENT;e*=i;for(let n=0;n<4;n++)t.views.direction[e]=o[0],t.views.direction[e+1]=o[1],t.views.direction[e+2]=0,t.views.direction[e+3]=0,e+=i}function eo(t,e,o,i,n,a){const r=t.elements.stride/t.views.position.BYTES_PER_ELEMENT;e*=r,t.views.position[e]=A+o,t.views.position[e+1]=A+i,t.views.position[e+2]=0,t.views.distance[e]=32767,t.views.demPosition[e]=(A+a[0])/8,t.views.demPosition[e+1]=(A+a[1])/8,e+=r,t.views.position[e]=A+o,t.views.position[e+1]=A+i,t.views.position[e+2]=0,t.views.distance[e]=-32767,t.views.demPosition[e]=(A+a[0])/8,t.views.demPosition[e+1]=(A+a[1])/8,e+=r,t.views.position[e]=A+o,t.views.position[e+1]=A+i,t.views.position[e+2]=n,t.views.distance[e]=-32767,t.views.demPosition[e]=(A+a[0])/8,t.views.demPosition[e+1]=(A+a[1])/8,e+=r,t.views.position[e]=A+o,t.views.position[e+1]=A+i,t.views.position[e+2]=n,t.views.distance[e]=32767,t.views.demPosition[e]=(A+a[0])/8,t.views.demPosition[e+1]=(A+a[1])/8}function oo(t,e,o,i){const n=t.elements.stride/t.views.normals.BYTES_PER_ELEMENT;e*=n;for(let a=0;a<4;a++)t.views.normals[e]=o[0],t.views.normals[e+1]=o[1],t.views.normals[e+2]=i[0],t.views.normals[e+3]=i[1],e+=n}function io(t,e){const o=t.elements.stride/t.views.direction.BYTES_PER_ELEMENT;e*=o;for(let i=0;i<4;i++)t.views.direction[e]=0,t.views.direction[e+1]=127,e+=o}function no(t,e,o,i){const n=t.indices.buffer;let a=t.indices.offset;n[a++]=e,n[a++]=e+1,n[a++]=e+3,n[a++]=e+3,n[a++]=e+1,n[a++]=e+2,0!==o&&(n[a++]=e+2,n[a++]=i+1,n[a++]=i+0),t.indices.offset=a}const ao=Y(),ro=Y(),lo=Y();function so(t,e,o,i,n,a,r,l,s){Z(ao,e,o,i),Z(ro,n,a,r),et(lo,ro,ao),function(t,e){let o=t[0],i=t[1],n=t[2],a=e[0],r=e[1],l=e[2];return Math.abs(o-a)<=N*Math.max(1,Math.abs(o),Math.abs(a))&&Math.abs(i-r)<=N*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(n-l)<=N*Math.max(1,Math.abs(n),Math.abs(l))}(ro,ao)||(J(lo,lo),X(lo,lo,127)),function(t,e,o,i,n,a,r){const l=t.indices.buffer,s=t.indices.offset,c=t.elements.offset;l[s]=c+e,l[s+1]=c+o,l[s+2]=c+i,l[s+3]=c+n,l[s+4]=c+a,l[s+5]=c+r,t.indices.offset=s+6}(t,0,1,3,3,1,2),co(t,ao,lo,1,l,s),co(t,ao,lo,-1,l,s),co(t,ro,lo,-1,l,s),co(t,ro,lo,1,l,s)}function co(t,e,o,i,n,a){const r=t.elements.offset*t.elements.stride,l=r>>1;t.views.position[l]=a?e[0]:A+e[0],t.views.position[l+1]=a?e[1]:A+e[1],t.views.position[l+2]=e[2],t.views.directionDistance[r]=o[0],t.views.directionDistance[r+1]=o[1],t.views.directionDistance[r+2]=o[2],t.views.directionDistance[r+3]=i,"demPosition"in t.views&&(n=null!=n?n:e,t.views.demPosition[l]=(a?n[0]:A+n[0])/8,t.views.demPosition[l+1]=(a?n[1]:A+n[1])/8),t.elements.offset++}const mo=4294967295,po={},ho=["main","parser","labeling"];let uo=0;ho.forEach((t=>{const e=uo+Math.floor(4294967294/ho.length);po[t]={min:uo,max:e-1e6},uo=e}));class go{constructor(t){this.ids=[],this.phases=[],this.sublayers=[],this.styleIds=[],this.layerIds=[],this.instanceIds=[],this.objectClasses=[],this.floorIds=[],this.center=[],this.strings={},this.minIdentifyIndex=po[t].min,this.maxIdentifyIndex=po[t].max,this.index=this.minIdentifyIndex}getIndex(t){var e,o,i,n,a,r,l,s,c,d;if("number"==typeof t.id)return mo;const m=this.index+this.ids.length/2;this.ids.push(t.id.lo,t.id.hi),this.floorIds.push(null!==(o=null===(e=t.floorId)||void 0===e?void 0:e.lo)&&void 0!==o?o:mo,null!==(n=null===(i=t.floorId)||void 0===i?void 0:i.hi)&&void 0!==n?n:mo),this.phases.push(t.layer.renderIndex),this.sublayers.push(null!==(l=null===(r=null===(a=t.metatile)||void 0===a?void 0:a.dictionaries.db_sublayer)||void 0===r?void 0:r[t.sublayer])&&void 0!==l?l:NaN),this.styleIds.push(t.styleId),this.layerIds.push(t.layer.innerId),this.instanceIds.push(null!==(s=t.instanceId)&&void 0!==s?s:0);const{center:p,objectClass:h}=t;if(p?this.center.push(Math.round(p[0]),Math.round(p[1])):this.center.push(H,H),"string"==typeof h){const e=null===(d=null===(c=t.metatile)||void 0===c?void 0:c.dictionaries.db_object_class)||void 0===d?void 0:d[h];e?this.objectClasses.push(e):(this.objectClasses.push(0),this.strings[m]={objectClass:h})}else this.objectClasses.push(mo);return m}getPacked(){const t=new Uint32Array(this.ids).buffer,e=new Uint32Array(this.floorIds).buffer,o=new Float32Array(this.phases).buffer,i=new Uint32Array(this.sublayers).buffer,n=new Uint16Array(this.styleIds).buffer,a=new Uint32Array(this.layerIds).buffer,r=new Uint8Array(this.instanceIds).buffer,l=new Uint32Array(this.objectClasses).buffer,s=new Int32Array(this.center).buffer,c=this.index,d=this.index+this.ids.length-1;this.index=this.index+this.ids.length,this.index>this.maxIdentifyIndex&&(this.index=this.minIdentifyIndex);const m=this.strings;return this.ids=[],this.floorIds=[],this.phases=[],this.sublayers=[],this.styleIds=[],this.layerIds=[],this.instanceIds=[],this.objectClasses=[],this.strings={},this.center=[],{idBuffer:t,floorIdBuffer:e,startIndex:c,endIndex:d,phaseBuffer:o,sublayerBuffer:i,styleIdBuffer:n,layerIdBuffer:a,instanceIdBuffer:r,objectClassBuffer:l,centerBuffer:s,strings:m}}}function fo(t,e,o){for(let i=0,n=e.length;i<n;i++){const n=e[i];let a=0;switch(n.type){case"get":a=o.tileAttrs[o.tileProps[n.key]];break;case"sourceAttr":o.sourceAttrs&&(a=o.sourceAttrs[n.key]);break;case"featureState":a=o.featureAttrs[o.tileProps[n.key]]}t.push(a)}return t}function bo(t,e){for(let o=0,i=e.length;o<i;o++)t.push(e[o]);return t}function yo(t,e){if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++){const i=t[o],n=e[o];if(Array.isArray(i))return!!Array.isArray(n)&&yo(i,n);if(!(i===n||"number"==typeof i&&"number"==typeof n&&Number.isNaN(i)&&Number.isNaN(n)))return!1}return!0}const _o=he(NaN,NaN),xo=I/2,vo=(t,e,o,i,n)=>fo([t,e,o],i,n),zo=t=>({styleId:t[0],layerId:t[1],hiddenObjectId:Number.isNaN(t[2])?void 0:fe(t[2]),tileData:t.slice(3)}),Co={symbol:"polygonExtrusion",sinks:{sideFill:{stride:20,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.normal=new Int8Array(e,8),t.views.localID=new Uint32Array(e,12),t.views.demPosition=new Int16Array(e,16)},packObjectAttributes:vo,unpackObjectAttributes:zo},topFill:{stride:20,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.normal=new Int8Array(e,8),t.views.localID=new Uint32Array(e,12),t.views.demPosition=new Int16Array(e,16)},packObjectAttributes:vo,unpackObjectAttributes:zo},sideStroke:{stride:20,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.distance=new Int16Array(e,6),t.views.normals=new Int8Array(e,8),t.views.direction=new Int8Array(e,12),t.views.demPosition=new Int16Array(e,16)},packObjectAttributes:vo,unpackObjectAttributes:zo},topStroke:{stride:16,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.directionDistance=new Int8Array(e,8),t.views.demPosition=new Int16Array(e,12)},packObjectAttributes:vo,unpackObjectAttributes:zo}},generate(t,e,o,i,n,a,r,l,s){const c=n[0],d=n[1],m=n[2],p=c.length;l||(l=i.tileProps.db_centroid_x&&i.tileProps.db_centroid_y&&!Number.isNaN(i.tileAttrs[i.tileProps.db_centroid_x])&&!Number.isNaN(i.tileAttrs[i.tileProps.db_centroid_y])?[i.tileAttrs[i.tileProps.db_centroid_x],i.tileAttrs[i.tileProps.db_centroid_y]]:function(t,e,o){let i,n=Math.pow(I,2);const a=t.length,r=dt();for(let l=0;l<a;l++){i||mt(r,[t[l],e[l]]);const s=O(l,a);if(0===o[s]){const o=[t[s],e[s]],r=O((l+1)%a,a),c=[t[r],e[r]];if(Io(o)){const t=So(o);t<n&&(i=o,n=t);const e=So(c);e<n&&(i=c,n=e)}else i=[(t[s]+t[r])/2,(e[s]+e[r])/2]}}i||(i=[],pt(i,r));return i}(c,d,m));const h=i.tileAttrs[i.tileProps.hovered],u=Math.round(le(i.tileAttrs[i.tileProps.db_height])),g=i.tileAttrs[i.tileProps.id],f=h?mo:t.idIndexer.getIndex({id:g,styleId:e,layer:o,sublayer:i.tileAttrs[i.tileProps.db_sublayer],floorId:s}),b="number"!=typeof g&&r&&r.has(g)?g:_o,y=vo(e,o.innerId,b,o.dataKeys,i);if(u>0){Be(t.getBucket("polygonExtrusion","sideFill",y,Co.sinks.sideFill.binder),p,c,d,m,u,f,l);const e=t.getBucket("polygonExtrusion","sideStroke",y,Co.sinks.sideStroke.binder);a&&($e(e,p,c,d,m,l),Ze(e,p,c,d,m,u,l))}!function(t,e,o,i,n,a,r){let l=t.elements.offset;const s=l;Fo(t,l++,o[0],i[0],n,a,r),Fo(t,l++,o[1],i[1],n,a,r);for(let c=2;c<e;c++)wo(t,s,c),Fo(t,l++,o[c],i[c],n,a,r);t.elements.offset=l}(t.getBucket("polygonExtrusion","topFill",y,Co.sinks.topFill.binder),p,c,d,u,f,l);!function(t,e,o,i,n,a,r){for(let l=0;l<e;l++){const s=O(l,e);if(n&&1===n[s]){const n=O((l+1)%e,e);so(t,o[s],i[s],a,o[n],i[n],a,r)}}}(t.getBucket("polygonExtrusion","topStroke",y,Co.sinks.topStroke.binder),p,c,d,m,u,l)}};function Fo(t,e,o,i,n,a,r){const l=t.elements.stride,s=e*(l/t.views.position.BYTES_PER_ELEMENT),c=e*(l/t.views.normal.BYTES_PER_ELEMENT);t.views.position[s]=A+o,t.views.position[s+1]=A+i,t.views.position[s+2]=n,t.views.normal[c]=0,t.views.normal[c+1]=127,t.views.normal[c+2]=127,t.views.demPosition[s]=(A+r[0])/8,t.views.demPosition[s+1]=(A+r[1])/8;const d=e*(l/t.views.localID.BYTES_PER_ELEMENT);t.views.localID[d]=a}function wo(t,e,o){const i=t.indices.buffer;let n=t.indices.offset;o%2==0?(i[n++]=e+o-2,i[n++]=e+o-1,i[n++]=e+o):(i[n++]=e+o-1,i[n++]=e+o-2,i[n++]=e+o),t.indices.offset=n}function So(t){return Math.pow(xo-Math.abs(t[0]-xo),2)+Math.pow(xo-Math.abs(t[1]-xo),2)}function Io(t){return 0===t[0]||t[0]===I||0===t[1]||t[1]===I}function ko(t){return 32768*t+.5<<16>>>16}let Mo=0;function Ao(){return Mo++}const Wo=Ao(),Po={stride:4,binder:(t,e)=>{},packObjectAttributes:(t,e)=>[t,e],unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],tileData:t.slice(3)})},Ho={symbol:"dem",sinks:{mesh:Po,ground:Po,elevation:{stride:8,binder:(t,e)=>{},packObjectAttributes:(t,e,o)=>[t,e,o],unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],textureIndex:t[2],tileData:t.slice(4)})},hillshade:{stride:8,binder:(t,e)=>{},packObjectAttributes:(t,e)=>[t,e],unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],tileData:t.slice(2)})},flatBottom:{stride:12,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.demPosition=new Int16Array(e,4),t.views.extender=new Int8Array(e,8)},packObjectAttributes:(t,e,o)=>o?[t,e,o]:[t,e],unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],matrix:t[2]?t[2]:void 0,tileData:t.slice(3)})}},generateElevation(t,e,o,i,n){const a=new Uint16Array(e.reduce(((t,e)=>{const[o,i,n,a]=e;return t.push(A+o*I,A+i*I,ko(n),ko(a)),t}),[]));return{symbol:Ho.symbol,sink:"elevation",buffer:a.buffer,generatedObjects:[{attributes:Ho.sinks.elevation.packObjectAttributes(o,i,n),drawMode:4,rangeStart:0,rangeEnd:a.buffer.byteLength}]}},generateHillshade(t,e,o,i){const n=new Uint16Array(e.reduce(((t,e)=>{const[o,i,n,a]=e;return t.push(o*I,i*I,ko(n),ko(a)),t}),[]));return{symbol:Ho.symbol,sink:"hillshade",buffer:n.buffer,generatedObjects:[{drawMode:4,attributes:Ho.sinks.hillshade.packObjectAttributes(o,i),rangeStart:0,rangeEnd:n.buffer.byteLength}]}},generateFloorsBottomFill(t,e,o,i,n,a){const r=o[0],l=o[1],s=o[0].length,c=Ho.sinks.flatBottom.packObjectAttributes(e,Wo,a);!function(t,e,o,i,n,a,r){let l=t.elements.offset;const s=l;if(e<3)return;jo(t,l++,o[0],i[0],a,n[0],r),jo(t,l++,o[1],i[1],a,n[1],r);for(let c=2;c<e;c++)Oo(t,s,c),jo(t,l++,o[c],i[c],a,n[c],r);t.elements.offset=l}(t.getBucket("dem","flatBottom",c,Ho.sinks.flatBottom.binder),s,r,l,i,n,!!a)}};function jo(t,e,o,i,n,a,r){const l=e*(t.elements.stride/t.views.position.BYTES_PER_ELEMENT),s=e*(t.elements.stride/t.views.extender.BYTES_PER_ELEMENT);t.views.position[l]=r?o:A+o,t.views.position[l+1]=r?i:A+i,t.views.demPosition[l]=(r?n[0]:A+n[0])/8,t.views.demPosition[l+1]=(r?n[1]:A+n[1])/8,t.views.extender[s]=127*a[0],t.views.extender[s+1]=127*a[1]}function Oo(t,e,o){const i=t.indices.buffer;let n=t.indices.offset;o%2==0?(i[n++]=e+o-2,i[n++]=e+o-1,i[n++]=e+o):(i[n++]=e+o-1,i[n++]=e+o-2,i[n++]=e+o),t.indices.offset=n}const No=new Set(v),Lo=new Set(x),To=(new Set(["s_personal_poi"]),new Set(["Landmark_poi","Landmark_point"]));function Eo(t){return No.has(t)}function Bo(t){return To.has(t)}class Do{constructor(t=[]){this.map={};for(const e of t)this.add(e)}has(t){const e=this.map[t.hi];return void 0!==(null==e?void 0:e[t.lo])}hasSome(t){return t.some((t=>this.has(t)))}add(t){let e=this.map[t.hi];e||(e=this.map[t.hi]={}),e[t.lo]=!0}addFromFlatArray(t){const e=this.map;for(let o=0;o<t.length/2;o++){const i=t[2*o+1];let n=e[i];n||(n=e[i]={}),n[t[2*o]]=!0}}toFlatArray(){const t=this.map,e=[];for(const o in t){const i=t[o];for(const t in i)e.push(Number(t),Number(o))}return e}}function Ro(t){if(Array.isArray(t)){const e=t;if(!e.length)return!1;if({zoom:!0,height:!0,"heatmap-density":!0,"shading-intensity":!0,step:!0,interpolate:!0,all:!0,get:!0,sourceAttr:!0,featureState:!0,global:!0,match:!0,in:!0,any:!0,"!":!0,"==":!0,"!=":!0,">=":!0,">":!0,"<=":!0,"<":!0,"to-boolean":!0,"to-color":!0,"+":!0,"*":!0,"^":!0,log10:!0,random:!0,literal:!0}[e[0]])return!0}return!1}function Uo(t){return!Array.isArray(t)&&"object"==typeof t&&null!==t&&void 0!==t.type&&"color"!==t.type}function Vo(t,e){return!!Array.isArray(t)&&(t.length>0&&t.every((t=>typeof t===e)))}function Go(t){return Vo(t,"number")}function qo(t){const e=typeof t;return null===t||"string"===e||"number"===e||"boolean"===e||function(t){return!Array.isArray(t)&&"object"==typeof t&&null!==t&&"color"===t.type}(t)||function(t){return Vo(t,"string")}(t)||Go(t)}function Yo(t){return Uo(t)&&"get"===t.type}function $o(t){return{type:"color",value:t}}function Zo(t,e,o){return`${t}_${e}_${o}`}function Xo(t){return`texture-${t}`}function Ko(t,e){return`unique-${t}_${e}`}function Jo(t){return Array.isArray(t)?Ro(t)?t:t[0]:t}function Qo(t){if(Array.isArray(t)&&!Ro(t)&&void 0!==t[1])return t[1]}const ti=$o([255,0,0,255]);function ei(t){return"string"==typeof t&&/(#(?:[0-9a-f]{2}){2,4}|#[0-9a-f]{3}|(?:rgba?|hsla?)\((?:\d+%?(?:,|\s)+){2,3}[\s\/]*[\d\.]+%?\))/i.test(t)}function oi(t){return!!t&&"object"==typeof t&&"color"===t.type}function ii(t){const e=t.toLowerCase();let o=ti;switch(e[0]){case"#":o=function(t){if(!new RegExp(`^#[a-f0-9]{${t.length-1}}$`).test(t)||![4,5,7,9].includes(t.length))return ti;const e=function(t){if(t.length<7)return t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+(5===t.length?t[4]+t[4]:"ff");if(7===t.length)return t+"ff";return t}(t),o=parseInt(e[1]+e[2],16),i=parseInt(e[3]+e[4],16),n=parseInt(e[5]+e[6],16),a=parseInt(e[7]+e[8],16);return $o([o,i,n,a])}(e);break;case"h":o=function(t){const e=ni(t);e[0]/=360,e[1]/=100,e[2]/=100;const[o,i,n]=function(t,e,o){if(0===e)return[255*o,255*o,255*o];const i=o<.5?o*(1+e):o+e-o*e,n=2*o-i;return[255*ai(n,i,t+1/3),255*ai(n,i,t),255*ai(n,i,t-1/3)]}(e[0],e[1],e[2]),a=void 0!==e[3]?255*e[3]:255;return $o([Math.round(o),Math.round(i),Math.round(n),Math.round(a)])}(e);break;case"r":o=function(t){const[e,o,i,n]=ni(t),a=void 0!==n?255*n:255;return $o([Math.round(e),Math.round(o),Math.round(i),Math.round(a)])}(e)}return o}function ni(t){return t.split("(")[1].split(")")[0].split(",").map((t=>parseFloat(t)))}function ai(t,e,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?t+6*(e-t)*o:o<.5?e:o<2/3?t+(e-t)*(2/3-o)*6:t}function ri(t){let e="",o=0;for(;o<t.length;){let i=t[o++];if(i>127){if(i>191&&i<224){if(o>=t.length)return console.error("Incomplete 2-byte sequence"),e;i=(31&i)<<6|63&t[o]}else if(i>223&&i<240){if(o+1>=t.length)return console.error("Incomplete 3-byte sequence"),e;i=(15&i)<<12|(63&t[o])<<6|63&t[++o]}else{if(!(i>239&&i<248))return console.error(`Unknown multibyte start 0x${i.toString(16)} at index ${o-1}`),e;if(o+2>=t.length)return console.error("Incomplete 4-byte sequence"),e;i=(7&i)<<18|(63&t[o])<<12|(63&t[++o])<<6|63&t[++o]}++o}if(i<=65535)e+=String.fromCharCode(i);else{if(!(i<=1114111))return console.error(`Code point 0x${i.toString(16)} exceeds UTF-16 reach`),e;i-=65536,e+=String.fromCharCode(i>>10|55296),e+=String.fromCharCode(1023&i|56320)}}return e}function li(t){return Math.floor(t/256)}const si=new Set;function ci(t){si.has(t)||(console.log(t),si.add(t))}function di(t){return()=>((t=16807*t%2147483647)-1)/2147483646}const mi=null;function pi(t,e){if(!Uo(t))return t;if(e.allowedExpressions&&!e.allowedExpressions.has(t.type))return ci(`Expression of type ${t.type} is not allowed here`),mi;switch(t.type){case"all":return function(t,e){return t.array.every((t=>!0===pi(t,e)))}(t,e);case"any":return function(t,e){return t.array.some((t=>!0===pi(t,e)))}(t,e);case"featureState":return function(t,e){var o,i;if("binder"===e.type||"labeling"===e.type)return null!==(o=hi(e.tileData[t.dataIndex]))&&void 0!==o?o:null;{const o=null!==(i=e.featureAttrs[e.tileProps[t.property]])&&void 0!==i?i:null;return Number.isNaN(o)?null:hi(o)}}(t,e);case"get":return function(t,e){var o,i,n;if("binder"===e.type||"labeling"===e.type)return null!==(o=hi(e.tileData[t.dataIndex]))&&void 0!==o?o:null;{const o=null!==(n=null===(i=e.tileAttrs)||void 0===i?void 0:i[e.tileProps[t.property]])&&void 0!==n?n:null;return Number.isNaN(o)?null:hi(o)}}(t,e);case"global":return function(t,e){var o;return null!==(o=e.styleState[t.property])&&void 0!==o?o:null}(t,e);case"sourceAttr":return function(t,e){var o,i;if("generator"===e.type)return null!==(o=e.sourceAttrs[t.property])&&void 0!==o?o:null;if("binder"===e.type||"labeling"===e.type)return null!==(i=hi(e.tileData[t.dataIndex]))&&void 0!==i?i:null;return null}(t,e);case"in":return function(t,e){const o=pi(t.element,e),i=pi(t.array,e);if(null===i)return!1;if(!Array.isArray(i))return ci(`InExpression second argument resolved to non-array value: ${i}`),null;return i.some((t=>t===o))}(t,e);case"interpolate":return function(t,e){if(0===t.steps.length)return ci("Interpolate expression contains 0 steps, cannot interpolate"),mi;const o=pi(t.steps[0].value,e),i=pi(t.argument,e);if("number"!=typeof i)return ci(`Interpolate value resolved to non-number value: ${i} ${t.argument}`),0;if(oi(o)){if(Uo(t.argument)&&"height"===t.argument.type){const o={type:"gradient-color",values:[],steps:[]};return t.steps.forEach((t=>{const i=gi(t.key,e),n=pi(t.value,e);oi(n)&&!Number.isNaN(i)&&(o.values.push({type:"color",value:n.value}),o.steps.push(i))})),2!==o.steps.length?(ci("Gradient expression must resolve 2 steps"),mi):o}return function(t,e,o){const i=_i(t,e,o);if(0===i)return ui(t.steps[0].value,o);if(i===t.steps.length)return ui(t.steps[t.steps.length-1].value,o);const n=xi(t,e,i,o),a=ui(t.steps[i-1].value,o).value,r=ui(t.steps[i].value,o).value;return $o([a[0]*(1-n)+r[0]*n,a[1]*(1-n)+r[1]*n,a[2]*(1-n)+r[2]*n,a[3]*(1-n)+r[3]*n])}(t,i,e)}return function(t,e,o){const i=_i(t,e,o);if(0===i)return Number(pi(t.steps[0].value,o));if(i===t.steps.length)return function(t,e,o){const i=t.steps[t.steps.length-1],n=t.base;if(1===n)return gi(i.value,e);return gi(i.value,e)*Math.pow(n,o-gi(i.key,e))}(t,o,e);const n=Number(pi(t.steps[i-1].value,o));if("labeling"===o.type&&o.interpolateExpressionAsStep)return n;const a=xi(t,e,i,o),r=Number(pi(t.steps[i].value,o));return(1-a)*n+a*r}(t,i,e)}(t,e);case"match":return function(t,e){var o;const i=pi(t.input,e),n=t.cases.find((t=>t.values.has(i)));return pi(null!==(o=null==n?void 0:n.output)&&void 0!==o?o:t.defaultOutput,e)}(t,e);case"step":return function(t,e){const o=Number(pi(t.value,e)),i=_i(t,o,e)-1;return pi(t.steps[i].value,e)}(t,e);case"to-boolean":return function(t,e){return Boolean(pi(t.value,e))}(t,e);case"to-color":return function(t,e){const o=pi(t.value,e);if(ei(o))return ii(o);if(oi(o))return o;return console.warn(`Can't resolve expression. Must be color, but got ${o}`),$o([0,0,0,0])}(t,e);case"!":return function(t,e){return!pi(t.value,e)}(t,e);case"==":case"!=":return function(t,e){const o=pi(t.leftValue,e),i=pi(t.rightValue,e);switch(t.type){case"==":return o===i;case"!=":return o!==i}}(t,e);case">":case"<":case">=":case"<=":return function(t,e){const o=pi(t.leftValue,e);if(null===o)return null;const i=pi(t.rightValue,e);if(null===i)return null;switch(t.type){case"<":return o<i;case">":return o>i;case"<=":return o<=i;case">=":return o>=i}}(t,e);case"zoom":return"binder"===e.type||"labeling"===e.type?e.styleZoom:(ci("Zoom expression cannot be used in filter context"),mi);case"height":return 1;case"+":return function(t,e){const o=t.array.map((t=>pi(t,e)));if(!Go(o))return ci(`Resolve AdditionExpression: arguments are not resolved as an array of numbers: ${o}`),null;return o.reduce(((t,e)=>t+e),0)}(t,e);case"*":return function(t,e){const o=t.array.map((t=>pi(t,e)));if(!Go(o))return ci(`Resolve MultiplicationExpression: arguments are not resolved as an array of numbers: ${o}`),null;return o.reduce(((t,e)=>t*e),1)}(t,e);case"^":return function(t,e){const o=pi(t.base,e);if("number"!=typeof o)return ci(`Resolve PowExpression: base resolved as non-number value: ${o}`),null;const i=pi(t.exponent,e);if("number"!=typeof i)return ci(`Resolve PowExpression: exponent resolved as non-number value: ${i}`),null;return Math.pow(o,i)}(t,e);case"log10":return function(t,e){const o=pi(t.value,e);if("number"!=typeof o)return ci(`Resolve Log10Expression: value resolved as non-number value: ${o}`),null;return Math.log10(o)}(t,e);case"random":return function(t,e){const o=pi(t.start,e);if("number"!=typeof o)return ci(`Resolve RandomizationExpression: start resolved as non-number value: ${o}`),null;const i=pi(t.end,e);if("number"!=typeof i)return ci(`Resolve RandomizationExpression: end resolved as non-number value: ${i}`),null;if(i<o)return ci("Resolve RandomizationExpression: end cannot be less than start."),null;let n;"generator"===e.type&&e.getSeededRandomValue&&(n=e.getSeededRandomValue);void 0===n&&ci("Resolve RandomizationExpression: the random function is not present, the mean value between start and end will be used.");return function(t,e,o){return("function"==typeof t?t():.5)*(o-e)+e}(n,o,i)}(t,e);case"literalArray":return function(t,e){return t.array.map((t=>pi(t,e)))}(t,e);default:return ci(`Not supported expression type <<${t.type}>> in ${JSON.stringify(t)}`),mi}}function hi(t){return ue(t)?fe(t):t}function ui(t,e){const o=pi(t,e);return oi(o)?o:(i=o)&&"object"==typeof i&&"gradient-color"===i.type?o.values[1]:(console.warn(`Can't resolve expression. Must be color, but got ${o}`),$o([0,0,0,0]));var i}function gi(t,e,o=NaN){const i=pi(t,e);return"number"==typeof i?i:o}function fi(t,e,o=""){const i=pi(t,e);return"string"==typeof i?i:o}function bi(t,e,o,i){return{type:"labeling",styleZoom:t,styleState:e,interpolateExpressionAsStep:o,tileData:i}}function yi(t,e,o,i,n,a){return{type:"generator",styleState:t,tileProps:o,tileAttrs:i,featureAttrs:n,sourceAttrs:e,getSeededRandomValue:a}}function _i(t,e,o){let i=0;for(;i<t.steps.length&&!(e<gi(t.steps[i].key,o));)i++;return i}function xi(t,e,o,i){const n=t.base,a=gi(t.steps[o].key,i)-gi(t.steps[o-1].key,i),r=e-gi(t.steps[o-1].key,i);return 1===n?r/a:(Math.pow(n,r)-1)/(Math.pow(n,a)-1)}function vi(t){const e=new Set;return zi(e,t),Array.from(e)}function zi(t,e){if(Uo(e))switch(e.type){case"all":return function(t,e){e.array.forEach((e=>zi(t,e)))}(t,e);case"match":return function(t,e){zi(t,e.defaultOutput),e.cases.forEach((e=>zi(t,e.output)))}(t,e);case"step":case"interpolate":return function(t,e){e.steps.forEach((e=>zi(t,e.value)))}(t,e)}else t.add(e)}function Ci(t){return 96*t}function Fi(t){return t/96}function wi(t){return t.reduce(((t,e,o)=>(t[e]=o,t)),{})}const Si=he(NaN,NaN);function Ii(t,e,o,i,n){return fo([t,e,o],i,n)}const ki=t=>({styleId:t[0],layerId:t[1],hiddenObjectId:Number.isNaN(t[2])?void 0:fe(t[2]),tileData:t.slice(3)}),Mi={symbol:"polygon",sinks:{fill:{stride:8,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.localID=new Uint32Array(e,4)},packObjectAttributes:Ii,unpackObjectAttributes:ki},stroke:{stride:8,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.directionDistance=new Int8Array(e,4)},packObjectAttributes:Ii,unpackObjectAttributes:ki}},generate(t,e,o,i,n,a,r,l){const{tileAttrs:s,tileProps:c}=i,d=n[0],m=n[1],p=n[2];(function(t){return!!t&&"polygon"===t.type})(o)&&function(t,e,o,i){const{rasterSets:n}=e,a=Fi(i);vi(o.style.textureImage).forEach((i=>{if(!i.length)return;const r=n.byKey[Xo(i)];if(!r)return void console.error(`Not found raster set with texture ${i}`);if(!r.isSvg)return;const l=o.style.textureSize,[s,c]=Array.isArray(l)?l:[l,l];t.atlasPacker.packSvg(r,[{w:s,h:c}],a),r.rasters.forEach((o=>t.atlasPacker.addRastersToLoad(e.id,o)))}))}(t,e,o,a);const h=s[c.id],u="number"!=typeof h&&r&&r.has(h)?h:Si,g=s[c.hovered]?mo:t.idIndexer.getIndex({id:h,styleId:e.id,layer:o,sublayer:s[c.db_sublayer],floorId:l});!function(t,e,o,i,n){const a=t.indices.buffer;let r=t.indices.offset,l=t.elements.offset;const s=l;Ai(t,l++,o[0],i[0],n),Ai(t,l++,o[1],i[1],n);for(let c=2;c<e;c++)Wi(a,r,s,c),Ai(t,l++,o[c],i[c],n),r+=3;t.elements.offset=l,t.indices.offset=r}(t.getBucket("polygon","fill",Mi.sinks.fill.packObjectAttributes(e.id,o.innerId,u,o.dataKeys,i),Mi.sinks.fill.binder),d.length,d,m,g);!function(t,e,o,i,n){for(let a=0;a<e;a++){const r=O(a,e);if(1===n[r]){const n=O((a+1)%e,e);so(t,o[r],i[r],0,o[n],i[n],0)}}}(t.getBucket("polygon","stroke",Mi.sinks.stroke.packObjectAttributes(e.id,o.innerId,u,o.dataKeys,i),Mi.sinks.stroke.binder),d.length,d,m,p)}};function Ai(t,e,o,i,n){e*=4,t.views.position[e]=A+o,t.views.position[e+1]=A+i,e>>=1,t.views.localID[e]=n}function Wi(t,e,o,i){i%2==0?(t[e]=o+i-2,t[e+1]=o+i-1,t[e+2]=o+i):(t[e]=o+i-1,t[e+1]=o+i-2,t[e+2]=o+i)}var Pi;!function(t){t[t.Static=0]="Static",t[t.Unique=1]="Unique",t[t.Loaded=2]="Loaded"}(Pi||(Pi={}));let Hi=10001;const ji={w:0,h:0,x:0,y:0,atlasIndex:0,isPacked:!1},Oi={};function Ni(t,e,o){let i,n=1/0;for(let a=0;a<t.length;a++){const r=t[a];if(o&&!r.isPacked)continue;const l=Math.abs(r.w-e);l<n&&(i=a,n=l)}return i}var Li,Ti,Ei,Bi,Di,Ri;function Ui(t,e){return Number.isNaN(t)?e:t}function Vi(t){return!!t&&"stretchX"in t&&Array.isArray(t.stretchX)&&"stretchY"in t&&Array.isArray(t.stretchY)&&"width"in t&&"number"==typeof t.width&&"height"in t&&"number"==typeof t.height}!function(t){t[t.Common=0]="Common",t[t.Commercial=1]="Commercial",t[t.CommercialCity=2]="CommercialCity",t[t.Landmark=3]="Landmark"}(Li||(Li={})),function(t){t[t.Point=0]="Point",t[t.Line=1]="Line"}(Ti||(Ti={})),function(t){t[t.Tile=0]="Tile",t[t.Floor=1]="Floor",t[t.DynamicObject=2]="DynamicObject",t[t.PersonalPoi=3]="PersonalPoi"}(Ei||(Ei={})),function(t){t[t.Dead=0]="Dead",t[t.Alive=1]="Alive",t[t.Unused=2]="Unused",t[t.CommercialAlive=3]="CommercialAlive",t[t.CommercialDead=4]="CommercialDead"}(Bi||(Bi={})),function(t){t[t.Text=0]="Text",t[t.Icon=1]="Icon",t[t.PoiText=2]="PoiText",t[t.PoiText2=3]="PoiText2",t[t.OneWayLine=4]="OneWayLine",t[t.LineText=5]="LineText",t[t.Box=6]="Box"}(Di||(Di={})),function(t){t[t.Point=0]="Point",t[t.Line=1]="Line",t[t.OneWayLine=2]="OneWayLine"}(Ri||(Ri={}));const Gi=(t,e,o,i,n,a,r,l,c,d,m)=>{const{tileProps:p,tileAttrs:h}=i;if(function(t,e,o,i,n,a,r){const{rasterSets:l,icons:c}=e,d=Fi(a),m=vi(o.style.iconWidth),p=Eo(n[i.db_sublayer]),h=Bo(n[i.db_sublayer]),{iconAnchor:u}=o.style;if(p||h){if(r)return;const o=p?s.rasterSizes:z,a=function(t,e,o,i,n){const a=Ko(t.lo,t.hi);if(!Oi[a]){const r=Hi++;Oi[a]={type:Pi.Unique,isSvg:!1,index:r,key:a,name:"",fileName:"",id:t,regionId:o,url:n,rasters:e.map(((t,e)=>Object.assign(Object.assign({},ji),{rasterSetIndex:r,rasterIndex:e,w:t,h:t,anchorX:i[0],anchorY:i[1]})))}}return Oi[a]}(n[i.id],o,n[i.db_region],u,i.url_src?n[i.url_src]:void 0);t.atlasPacker.addNewRasterSet(e.id,a),t.atlasPacker.pack(a,m,d)}else vi(o.style.iconImage).forEach((o=>{if(!o.length)return;const i=l.byKey[Zo(o,u[0],u[1])];if(!i)return void console.error(`Not found raster set with image ${o}, anchorX: ${u[0]}, anchorY: ${u[1]}`);if(!i.isSvg)return;const n=c[o],a=n&&Vi(n)?[{w:n.width,h:n.height}]:m.map((t=>({w:t,h:t})));t.atlasPacker.packSvg(i,a,d),r&&i.rasters.forEach((o=>t.atlasPacker.addRastersToLoad(e.id,o)))}))}(t,e,o,p,h,c,d),d)return;let u=Li.Common;var g;g=h[p.db_sublayer],Lo.has(g)?u=Li.CommercialCity:Eo(h[p.db_sublayer])?u=Li.Commercial:Bo(h[p.db_sublayer])&&(u=Li.Landmark);const f=1===l[0].length?Ti.Point:Ti.Line;let b,y=[];if(f===Ti.Point){if(i&&o.style.allowElevation){const t=gi(o.style.elevation,i);if(0!==t){const e=[0,0,0];ie(e,[l[0][0],l[1][0],0],Xt(a));const o=function(t,e){return e*ut*xt(t[1])}(ft(e),t),i=Math.round(le(o));l=[l[0],l[1],[i]]}}y=[[l[0][0]],[l[1][0]],3===l.length?[l[2][0]]:[0]],b=[0,0,0],ie(b,[y[0][0],y[1][0],y[2][0]],Xt(a))}else y=[l[0],l[1]];const _=h[p.id];let x=mo,v=mo;Number.isNaN(_)||(x=t.idIndexer.getIndex({id:_,styleId:e.id,layer:o,sublayer:h[p.db_sublayer],objectClass:h[p.db_object_class],instanceId:0,metatile:n,center:b,floorId:m}),v=t.idIndexer.getIndex({id:_,styleId:e.id,layer:o,sublayer:h[p.db_sublayer],objectClass:h[p.db_object_class],instanceId:1,metatile:n,center:b,floorId:m}));const C={type:Ri.Point,pointType:u,geometryType:f,styleId:e.id,layerId:o.innerId,sourceId:r,tileCoords:a,id:h[p.id],identifyIndex:x,identifyPoiLabelIndex:v,labelPriority:Ui(h[p.db_label_priority],0),label2Priority:Ui(h[p.db_label2_priority],0),iconPriority:Ui(h[p.db_icon_priority],0),hovered:Ui(h[p.hovered],0),componentDistanceStart:Ui(h[p.componentDistanceStart],0),componentDistanceEnd:Ui(h[p.componentDistanceEnd],0),objectLength:Ui(h[p.objectLength],0),vertices:y,demElevation:NaN,tileData:fo([],o.dataKeys,i)};t.addLabel(C)};function qi(t){const e=(t=t.slice().sort($i)).length,o=new Array(2*e);let i=0;for(let n=0;n<e;n++){const e=t[n];for(;i>=2&&Yi(o[i-2],o[i-1],e)<=0;)i--;o[i++]=e}const n=i+1;for(let a=e-2;a>=0;a--){const e=t[a];for(;i>=n&&Yi(o[i-2],o[i-1],e)<=0;)i--;o[i++]=e}return o.slice(0,i-1)}function Yi(t,e,o){return(e[1]-t[1])*(o[0]-t[0])-(e[0]-t[0])*(o[1]-t[1])}function $i(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function Zi(t){const e=[],o=(t=>{if(t.length>2){let e=0;for(let o=t.length-1,i=o,n=0;n<=o;n++){const o=t[i],a=t[n];e+=(o[0]+a[0])*(o[1]-a[1]),i=n}return e/2}return 0})(t)>0;const i=G(t[0],t[t.length-1]),n=i?t.length-1:t.length;for(let i=n-1,a=0,r=1;a<n;a++,i=a-1,r=(a+1)%n){const n=[];Te(n,t[i],t[a],t[r],o),e.push(n)}return i&&e.push(e[0]),e}const Xi=[[0],[0],[0]],Ki=[[0],[0],[0]],Ji=[[0],[0],[0]];function Qi(t,e,o,i,n,a){const{tileProps:r,tileAttrs:l}=o,s=be(t.floorId);l[r.db_height]=_,l[r.db_sublayer]=t.areaSublayer,l[r.selected]=a?1:0,l[r.db_region]=n,e.layers.forEach((n=>{if("polygonExtrusion"!==n.type)return;if(pi(n.filter,o))for(let a=0;a<t.area.length;a++){const r=new Uint16Array(t.area[a].slice().buffer);nn(r);const l=on(r),c=j(r);Xi[0].length=0,Xi[1].length=0,Xi[2].length=0;for(let t=0;t<c.length;t+=3){for(let e=0;e<3;e++)Xi[0][e]=l[c[t+e]][0],Xi[1][e]=l[c[t+e]][1],Xi[2][e]=1;do{Co.generate(i,e.id,n,o,Xi,!1,void 0,void 0,s)}while(i.isOverloaded())}}}))}function tn(t,e,o,i,n,a,r){const{tileProps:l,tileAttrs:s}=e,c=be(t.floorId),d="Floor"===t.sublayer;s[l.db_sublayer]=t.areaSublayer,s[l.selected]=a?1:0,s[l.db_region]=n,o.layers.forEach((n=>{if("polygon"!==n.type)return;if(pi(n.filter,e))for(let a=0;a<t.area.length;a++){const l=new Uint16Array(t.area[a].slice().buffer);nn(l);const s=on(l),m=[0,0],p=d?Zi(s):[];if(d){const t=dt();for(let e=0;e<s.length;e++)mt(t,s[e]);pt(m,t)}const h=j(l);Xi[0].length=0,Xi[1].length=0,Xi[2].length=0;for(let t=0;t<h.length;t+=3){for(let e=0;e<3;e++){const o=h[t+e];Xi[0][e]=s[o][0],Xi[1][e]=s[o][1],Xi[2][e]=0,d&&(Ki[e]=p[o])}do{Mi.generate(i,o,n,e,Xi,r,void 0,c)}while(i.isOverloaded());if(d)do{Ho.generateFloorsBottomFill(i,o.id,Xi,Ki,m)}while(i.isOverloaded())}}}))}function en(t,e,o,i,n,a){if(!t.wallSublayer)return;const{tileProps:r,tileAttrs:l}=e,s=be(t.floorId);l[r.db_height]=y,l[r.db_sublayer]=t.wallSublayer,l[r.selected]=a?1:0,l[r.db_region]=n,o.layers.forEach((n=>{if("polygonExtrusion"!==n.type)return;if(pi(n.filter,e))for(let a=0;a<t.wallTop.length;a++){const r=new Uint16Array(t.wallTop[a].slice().buffer);nn(r);const l=on(r),c=dt();for(let t=0;t<l.length;t++)mt(c,l[t]);const d=[0,0];pt(d,c);const m=l.length;Xi[0].length=0,Xi[1].length=0,Xi[2].length=0;for(let t=0;t<m;t++){const e=O(t,m);Xi[0][e]=l[t][0],Xi[1][e]=l[t][1],Xi[2][e]=1}do{Co.generate(i,o.id,n,e,Xi,!1,void 0,d,s)}while(i.isOverloaded())}}))}function on(t){const e=[];for(let o=0;o<t.length/2;o++)e.push([t[2*o],t[2*o+1]]);return e}function nn(t){t.forEach(((e,o)=>{t[o]*=M}))}const an=T(),rn=T(),ln=T(),sn=T(),cn=T(),dn=T(),mn=T(),pn=T();let hn=0,un=0;function gn(t,e,o,i,n,a,r,l,s){if(!(i<2)){if(Pe(an,e[0],o[0],e[1],o[1]),hn=0,n){const i=void 0!==l?l[0]:0,n=void 0!==s?s[0]:0;bn(t,e[0],o[0],-an[0],-an[1],i,n,r)}for(let n=1;n<i;n++)fn(t,e,o,n,i,r,l,s);if(a){const n=void 0!==l?l[i-1]:0,a=void 0!==s?s[i-1]:0;bn(t,e[i-1],o[i-1],an[0],an[1],n,a,r)}}}function fn(t,e,o,i,n,a,r,l){const s=i===n-1;if(D(cn,e[i-1],o[i-1]),D(dn,e[i],o[i]),void 0!==r&&void 0!==l?(D(ln,r[i-1],l[i-1]),D(sn,r[i],l[i])):(D(ln,0,0),D(sn,0,0)),Ne(pn,an),s)un=0;else{D(mn,e[i+1],o[i+1]),Pe(rn,dn[0],dn[1],mn[0],mn[1]);const n=Ft(V(an,rn),-1,1);if(n<=0)un=0,bn(t,dn[0],dn[1],an[0],an[1],sn[0],sn[1],a);else{const t=Math.sqrt((1-n)/(1+n)),e=wt(V(pn,rn));un=t*e}}!function(t,e,o,i,n,a,r){const l=t.indices.buffer,s=t.indices.offset,c=t.elements.offset;l[s]=c+e,l[s+1]=c+o,l[s+2]=c+i,l[s+3]=c+n,l[s+4]=c+a,l[s+5]=c+r,t.indices.offset=s+6}(t,0,1,3,3,1,2);const c=pn[0]*W,d=pn[1]*W;yn(t,cn[0],cn[1],(pn[0]+an[0]*hn)*W,(pn[1]+an[1]*hn)*W,c,d,ln[0],ln[1],a),yn(t,cn[0],cn[1],(-pn[0]-an[0]*hn)*W,(-pn[1]-an[1]*hn)*W,-c,-d,ln[0],ln[1],a),yn(t,dn[0],dn[1],(-pn[0]+an[0]*un)*W,(-pn[1]+an[1]*un)*W,-c,-d,sn[0],sn[1],a),yn(t,dn[0],dn[1],(pn[0]-an[0]*un)*W,(pn[1]-an[1]*un)*W,c,d,sn[0],sn[1],a),s||(B(an,rn),hn=un)}function bn(t,e,o,i,n,a,r,l){!function(t,e,o,i){const n=t.indices.buffer,a=t.indices.offset,r=t.elements.offset;n[a]=r+e,n[a+1]=r+o,n[a+2]=r+i,t.indices.offset=a+3}(t,0,1,2);const s=.01*-i,c=.01*-n;yn(t,e,o,i+s,n+c,i,n,a,r,l),yn(t,e,o,-n+s,i+c,-n,i,a,r,l),yn(t,e,o,n+s,-i+c,n,-i,a,r,l)}function yn(t,e,o,i,n,a,r,l,s,c){const d=t.elements.offset*t.elements.stride,m=d>>1,p=d>>2;t.views.position[m]=A+e,t.views.position[m+1]=A+o,t.views.extender[d]=127*i,t.views.extender[d+1]=127*n,t.views.normal[d]=127*a,t.views.normal[d+1]=127*r,"shift"in t.views&&(t.views.shift[p]=l,t.views.shift[p+1]=s),"localID"in t.views&&(t.views.localID[p]=c),t.elements.offset++}const _n={symbol:"line",sinks:{solid:{stride:12,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.extender=new Int8Array(e,4),t.views.normal=new Int8Array(e,6),t.views.localID=new Uint32Array(e,8)},packObjectAttributes:(t,e,o,i)=>fo([t,e],o,i),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],tileData:t.slice(2)})}},generate(t,e,o,i,n){const{tileAttrs:a,tileProps:r}=i,l=!Number.isNaN(a[r.beginningIsCut])&&0!==a[r.beginningIsCut],s=!Number.isNaN(a[r.endingIsCut])&&0!==a[r.endingIsCut],c=t.idIndexer.getIndex({id:a[r.id],styleId:e,layer:o,sublayer:a[r.db_sublayer]});gn(t.getBucket(o.type,"solid",_n.sinks.solid.packObjectAttributes(e,o.innerId,o.dataKeys,i),_n.sinks.solid.binder),n[0],n[1],n[0].length,!l,!s,c)}},xn={symbol:"shiftedLine",sinks:{solid:{stride:16,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.extender=new Int8Array(e,4),t.views.normal=new Int8Array(e,6),t.views.shift=new Float32Array(e,8)},packObjectAttributes:(t,e,o,i)=>fo([t,e],o,i),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],tileData:t.slice(2)})}},generate(t,e,o,i,n){const{tileAttrs:a,tileProps:r}=i,l=!Number.isNaN(a[r.beginningIsCut])&&0!==a[r.beginningIsCut],s=!Number.isNaN(a[r.endingIsCut])&&0!==a[r.endingIsCut];gn(t.getBucket(o.type,"solid",xn.sinks.solid.packObjectAttributes(e,o.innerId,o.dataKeys,i),xn.sinks.solid.binder),n[0],n[1],n[0].length,!l,!s,0,n[2],n[3])}};var vn,zn,Cn,Fn;!function(t){t.Striped="Striped",t.Entrance="Entrance"}(vn||(vn={})),function(t){t[t.Line=0]="Line",t[t.Arrow=1]="Arrow",t[t.StartBorder=2]="StartBorder",t[t.LineEnding=3]="LineEnding"}(zn||(zn={})),function(t){t[t.TileCut=0]="TileCut",t[t.ObjectEnding=1]="ObjectEnding"}(Cn||(Cn={})),function(t){t[t.Flat=0]="Flat",t[t.Circle=1]="Circle"}(Fn||(Fn={}));const wn=[.5,.5],Sn=[.5,.5],In=[.5,.5],kn=[.5,.5],Mn=[0,0];let An,Wn,Pn,Hn=0,jn=0,On=0,Nn=0;const Ln={x:0,y:0,xn2:0,yn2:0,xn1:0,yn1:0,noTurn:!0,leftTurn:!1,sharpTurn:!1,reverseTurn:!1,extender:[.5,.5],faExtender:[.5,.5],saExtender:[.5,.5]};function Tn(t,e,o,i,n,a,r,l,s,c,d,m){let p,h,u,g,f,b,y,_,x,v;if(0!==o)if(Pn=d,Wn=m,An=Wn.indices,jn=Wn.elements.offset,Hn=0,On=0,Nn=0,1===o)p=t[0],h=e[0],v=0,Yn(An,jn,0,2,1,1,2,3),Gn(Wn,Pn,0,p,h,1,-1,1,-1,v,!1),Gn(Wn,Pn,0,p,h,-1,-1,-1,-1,v,!1),Gn(Wn,Pn,0,p,h,1,1,1,1,v,!1),Gn(Wn,Pn,0,p,h,-1,1,-1,1,v,!1),Hn+=4;else{switch(u=t[0],g=e[0],f=t[1],b=e[1],v=0,n){case Cn.TileCut:Ae(wn,u,g,r,l),Ae(In,f,b,u,g),x=En(f,b,wn[0],wn[1],In[0],In[1]),x.noTurn?Rn(u,g,In[0],In[1],v):Dn(0,u,g,wn[0],wn[1],In[0],In[1],v);break;case Cn.ObjectEnding:Ae(In,f,b,u,g),i===Fn.Flat?Rn(u,g,In[0],In[1],v):(Rn(u,g,-In[0],-In[1],v),Dn(0,u,g,-In[0],-In[1],In[0],In[1],v));break;default:throw new Error("LoftedLine: unknown Ending Type")}const d=o-1;for(let o=1;o<d;o++){u=t[o-1],g=e[o-1],f=t[o],b=e[o],y=t[o+1],_=e[o+1];const i=f-u,n=b-g;v+=Math.sqrt(i*i+n*n)/I,Ae(wn,f,b,u,g),Ae(In,y,_,f,b),Dn(o,f,b,wn[0],wn[1],In[0],In[1],v)}u=t[o-2],g=e[o-2],f=t[d],b=e[d];const m=f-u,p=b-g;switch(v+=Math.sqrt(m*m+p*p)/I,a){case Cn.TileCut:Ae(wn,f,b,u,g),Ae(In,s,c,f,b),x=En(f,b,wn[0],wn[1],In[0],In[1]),x.noTurn?Un(d,f,b,In[0],In[1],v):Vn(d,v,x);break;case Cn.ObjectEnding:Ae(In,f,b,u,g),Un(d,f,b,In[0],In[1],v),i===Fn.Circle&&Dn(d,f,b,In[0],In[1],-In[0],-In[1],v);break;default:throw new Error("LoftedLine: unknown Ending Type")}}}function En(t,e,o,i,n,a){const r=function(t,e,o,i,n,a){const r=Ln;r.x=t,r.y=e,r.xn2=o,r.yn2=i,r.xn1=n,r.yn1=a;const l=o*n+i*a;return r.noTurn=l>.9999,r.leftTurn=o*-a+i*n<0,r.sharpTurn=l<0,r.reverseTurn=l<-.9999,r}(t,e,o,i,n,a);if(r.noTurn||r.reverseTurn)r.extender[0]=0,r.extender[1]=0,r.faExtender[0]=0,r.faExtender[1]=0,r.saExtender[0]=0,r.saExtender[1]=0;else{He(Sn,o,i,n,a);const t=Sn[0],e=Sn[1];r.extender[0]=t,r.extender[1]=e,r.faExtender[0]=t-2*o,r.faExtender[1]=e-2*i,r.saExtender[0]=t-2*n,r.saExtender[1]=e-2*a}return r}function Bn(t,e,o,i,n,a,r,l){He(Sn,i,n,a,r);i*-r+n*a<0?Gn(Wn,Pn,t,e,o,-Sn[0],-Sn[1],-Sn[0],-Sn[1],l,!1):Gn(Wn,Pn,t,e,o,Sn[0],Sn[1],Sn[0],Sn[1],l,!1),Hn++}function Dn(t,e,o,i,n,a,r,l){const s=En(e,o,i,n,a,r);Vn(t,l,s),function(t,e,o){if(o.noTurn)return;const i=o.sharpTurn?2:1;let n,a;o.reverseTurn?(n=Nn,a=On):o.leftTurn?(n=On,a=Hn+i):(n=Hn+i,a=Nn);const r=Hn;o.leftTurn,qn(An,jn,On,Nn,r);if(o.sharpTurn){const t=Hn+1;o.leftTurn?Yn(An,jn,r,t,n,n,t,a):Yn(An,jn,r,a,t,t,a,n)}else o.leftTurn,qn(An,jn,r,a,n);o.sharpTurn?(o.leftTurn?Ae(kn,o.xn2,o.yn2,o.xn1,o.yn1):Ae(kn,o.xn1,o.yn1,o.xn2,o.yn2),Bn(t,o.x,o.y,o.xn2,o.yn2,kn[0],kn[1],e),Bn(t,o.x,o.y,kn[0],kn[1],o.xn1,o.yn1,e)):Bn(t,o.x,o.y,o.xn2,o.yn2,o.xn1,o.yn1,e);o.reverseTurn||(o.leftTurn?Gn(Wn,Pn,t,o.x,o.y,-o.xn1,-o.yn1,-o.xn1,-o.yn1,e,!1):Gn(Wn,Pn,t,o.x,o.y,o.xn1,o.yn1,o.xn1,o.yn1,e,!1),Hn++);Nn=a,On=n}(t,l,s),function(t,e,o){if(o.noTurn||o.reverseTurn)return;const i=Hn+1,n=Hn;o.leftTurn?(Gn(Wn,Pn,t,o.x,o.y,-o.xn1,-o.yn1,o.saExtender[0],o.saExtender[1],e,!1),Gn(Wn,Pn,t,o.x,o.y,o.xn1,o.yn1,o.extender[0],o.extender[1],e,!1)):(Gn(Wn,Pn,t,o.x,o.y,-o.xn1,-o.yn1,-o.extender[0],-o.extender[1],e,!1),Gn(Wn,Pn,t,o.x,o.y,o.xn1,o.yn1,-o.saExtender[0],-o.saExtender[1],e,!1));Hn+=2,o.leftTurn?Yn(An,jn,Nn,n,On,On,n,i):Yn(An,jn,On,Nn,i,i,Nn,n);Nn=n,On=i}(t,l,s)}function Rn(t,e,o,i,n){Gn(Wn,Pn,0,t,e,-o,-i,-o,-i,n,!1),Gn(Wn,Pn,0,t,e,o,i,o,i,n,!1),Hn+=2,On=1,Nn=0}function Un(t,e,o,i,n,a){const r=Hn+1,l=Hn;Gn(Wn,Pn,t,e,o,-i,-n,-i,-n,a,!1),Gn(Wn,Pn,t,e,o,i,n,i,n,a,!1),Hn+=2,Yn(An,jn,Nn,l,On,On,l,r),On=r,Nn=l}function Vn(t,e,o){if(o.noTurn)return;const i=Hn+1,n=Hn;if(o.reverseTurn?(Gn(Wn,Pn,t,o.x,o.y,-o.xn2,-o.yn2,-o.xn2,-o.yn2,e,!1),Gn(Wn,Pn,t,o.x,o.y,o.xn2,o.yn2,o.xn2,o.yn2,e,!1)):o.leftTurn?(Gn(Wn,Pn,t,o.x,o.y,-o.xn2,-o.yn2,o.faExtender[0],o.faExtender[1],e,!0),Gn(Wn,Pn,t,o.x,o.y,o.xn2,o.yn2,o.extender[0],o.extender[1],e,!0)):(Gn(Wn,Pn,t,o.x,o.y,-o.xn2,-o.yn2,-o.extender[0],-o.extender[1],e,!0),Gn(Wn,Pn,t,o.x,o.y,o.xn2,o.yn2,-o.faExtender[0],-o.faExtender[1],e,!0)),Hn+=2,Yn(An,jn,Nn,n,On,On,n,i),Nn=n,On=i,!o.reverseTurn){const a=Hn+1,r=Hn;o.leftTurn?(Gn(Wn,Pn,t,o.x,o.y,-o.xn2,-o.yn2,-o.xn2,-o.yn2,e,!1),Gn(Wn,Pn,t,o.x,o.y,0,0,0,0,e,!1),Yn(An,jn,i,n,a,a,n,r)):(Gn(Wn,Pn,t,o.x,o.y,0,0,0,0,e,!1),Gn(Wn,Pn,t,o.x,o.y,o.xn2,o.yn2,o.xn2,o.yn2,e,!1),Yn(An,jn,n,r,i,i,r,a)),Hn+=2,Nn=r,On=a}}function Gn(t,e,o,i,n,a,r,l,s,c,d){const m=t.elements.offset*e.offsetMultiplier,p=m>>1,h=m<<1;if(t.views.position[m]=A+i,t.views.position[m+1]=A+n,t.views.extender[m]=Math.floor(l*W*127+.5),t.views.extender[m+1]=Math.floor(s*W*127+.5),e.type===vn.Striped)t.views.texExtender[h]=je(a*W),t.views.texExtender[h+1]=je(r*W),"componentDistance"in t.views&&(t.views.componentDistance[p]=e.cDist);else if(e.type===vn.Entrance){const{px:i,py:n,count:l}=e,s=0===o,c=o===l-1,u=s?o:o-1,g=s?o+1:o;Pe(Mn,i[u],n[u],i[g],n[g]),"direction"in t.views&&(t.views.direction[m]=Math.round(127*Mn[0]),t.views.direction[m+1]=Math.round(127*Mn[1]),t.views.type[p]=c?zn.LineEnding:zn.Line),t.views.texExtender[h]=je(a*(d||c?-1:1)*W),t.views.texExtender[h+1]=je(r*(d||c?-1:1)*W)}t.views.vertexDistance[p]=c,t.views.objectLength[p]=e.oLen,t.views.localID[p]=e.localID,t.elements.offset++}function qn(t,e,o,i,n){const a=t.buffer,r=t.offset;a[r]=e+o,a[r+1]=e+i,a[r+2]=e+n,t.offset=r+3}function Yn(t,e,o,i,n,a,r,l){const s=t.buffer,c=t.offset;s[c]=e+o,s[c+1]=e+i,s[c+2]=e+n,s[c+3]=e+a,s[c+4]=e+r,s[c+5]=e+l,t.offset=c+6}const $n={type:vn.Striped,cDist:0,oLen:0,localID:0,offsetMultiplier:14};const Zn={symbol:"dashedLine",sinks:{stroke:{stride:28,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.extender=new Int16Array(e,4),t.views.texExtender=new Int8Array(e,8),t.views.vertexDistance=new Float32Array(e,12),t.views.componentDistance=new Float32Array(e,16),t.views.objectLength=new Float32Array(e,20),t.views.localID=new Uint32Array(e,24)},packObjectAttributes:(t,e,o,i)=>fo([t,e],o,i),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],tileData:t.slice(2)})}},generate(t,e,o,i,n){const{tileAttrs:a,tileProps:r}=i,l=t.getBucket(o.type,"stroke",Zn.sinks.stroke.packObjectAttributes(e,o.innerId,o.dataKeys,i),Zn.sinks.stroke.binder),s=t.idIndexer.getIndex({id:a[r.id],styleId:e,layer:o,sublayer:a[r.db_sublayer]}),c=function(t,e,o){return $n.cDist=t,$n.oLen=e,$n.localID=o,$n}(a[r.componentDistanceStart]/I,a[r.objectLength]/I,s),d=!Number.isNaN(a[r.beginningIsCut])&&0!==a[r.beginningIsCut],m=!Number.isNaN(a[r.endingIsCut])&&0!==a[r.endingIsCut];Tn(n[0],n[1],n[0].length,Fn.Flat,d?Cn.TileCut:Cn.ObjectEnding,m?Cn.TileCut:Cn.ObjectEnding,a[r.previousPointX],a[r.previousPointY],a[r.nextPointX],a[r.nextPointY],c,l)}},Xn=[k/2,k/2],Kn={symbol:"buildingModel",sinks:{fill:{stride:20,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.texCoords=new Uint16Array(e,8),t.views.localID=new Uint32Array(e,12),t.views.demPosition=new Int16Array(e,16)},packObjectAttributes:(t,e,o,i,n,a,r)=>fo([t,e,o,n,i],a,r),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],texture:t[2],id:Number.isNaN(t[3])?void 0:fe(t[3]),matrix:t[4],tileData:t.slice(5)})},stroke:{stride:16,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.directionDistance=new Int8Array(e,8),t.views.demPosition=new Int16Array(e,12)},packObjectAttributes:(t,e,o,i,n,a)=>fo([t,e,i,o],n,a),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],id:Number.isNaN(t[2])?void 0:fe(t[2]),matrix:t[3],tileData:t.slice(4)})}},processSubmesh(t,e,o,i,n,a,r,l,s){const{tileProps:c,tileAttrs:d}=o,m=d[c.id],p=i.idIndexer.getIndex({id:m,styleId:t,layer:e,sublayer:d[c.db_sublayer]}),h=i.getBucket(e.type,"fill",Kn.sinks.fill.packObjectAttributes(t,e.innerId,l,s,m,e.dataKeys,o),Kn.sinks.fill.binder,r);!function(t,e){const o=t.elements.offset;let i=t.indices.offset;for(let n=0;n<e.length;n++)t.indices.buffer[i++]=o+e[n];t.indices.offset=i}(h,a);for(let t=0;t<n.length;t++)Jn(h,n,t,p)},processOuterEdge(t,e,o,i,n,a,r){const{tileProps:l,tileAttrs:s}=o,c=s[l.id],d=i.getBucket(e.type,"stroke",Kn.sinks.stroke.packObjectAttributes(t,e.innerId,r,c,e.dataKeys,o),Kn.sinks.stroke.binder);for(let t=0;t<a.length;t+=2){const e=5*a[t],o=5*a[t+1];so(d,n[e],n[e+1],n[e+2],n[o],n[o+1],n[o+2],Xn,!0)}}};function Jn(t,e,o,i){const n=t.elements.offset,a=Kn.sinks.fill.stride,r=5*o,l=n*(a/t.views.position.BYTES_PER_ELEMENT),s=n*(a/t.views.localID.BYTES_PER_ELEMENT);t.views.position[l]=e[r],t.views.position[l+1]=e[r+1],t.views.position[l+2]=e[r+2],t.views.texCoords[l]=e[r+3],t.views.texCoords[l+1]=e[r+4],t.views.localID[s]=i,t.views.demPosition[l]=Xn[0]/8,t.views.demPosition[l+1]=Xn[1]/8,t.elements.offset++}const Qn=T(),ta=T(),ea={type:vn.Entrance,offsetMultiplier:18,cDist:0,oLen:0,px:[],py:[],count:0,localID:0};const oa={symbol:"arrow",sinks:{stroke:{stride:36,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.segmentEnd=new Uint16Array(e,4),t.views.texExtender=new Int8Array(e,8),t.views.arrowExtender=new Int8Array(e,10),t.views.extender=new Int16Array(e,12),t.views.direction=new Int16Array(e,16),t.views.vertexDistance=new Float32Array(e,20),t.views.objectLength=new Float32Array(e,24),t.views.type=new Float32Array(e,28),t.views.localID=new Uint32Array(e,32)},packObjectAttributes:(t,e,o,i,n)=>fo([t,e,o>2?1:0],i,n),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],isLongArrow:t[2],tileData:t.slice(3)})}},generate:(t,e,o,i,n)=>{const a=n[0],r=n[1],l=n[0].length,s=function(t,e,o){let i=0;for(let n=1;n<o;n++){const o=t[n]-t[n-1],a=e[n]-e[n-1];i+=Math.sqrt(o*o+a*a)}return i}(a,r,l),c=t.getBucket(o.type,"stroke",oa.sinks.stroke.packObjectAttributes(e,o.innerId,l,o.dataKeys,i),oa.sinks.stroke.binder),d=t.idIndexer.getIndex({id:i.tileAttrs[i.tileProps.id],styleId:e,layer:o,sublayer:i.tileAttrs[i.tileProps.db_sublayer]}),m=function(t,e,o,i){return ea.px=t[0],ea.py=t[1],ea.oLen=o/I,ea.count=e,ea.localID=i,ea}(n,l,s,d);Tn(n[0],n[1],l,Fn.Flat,Cn.ObjectEnding,Cn.ObjectEnding,0,0,0,0,m,c);let p=0;ia(c,zn.StartBorder,a[0],r[0],a[1],r[1],0,0,p,s,d);for(let t=0;t<l-1;t++){if(0!==t){const e=a[t]-a[t-1],o=r[t]-r[t-1];p+=Math.sqrt(e*e+o*o)}ia(c,zn.Arrow,a[t],r[t],a[t+1],r[t+1],-1,0,p,s,d)}}};function ia(t,e,o,i,n,a,r,l,s,c,d){!function(t,e,o,i,n,a,r){const{elements:l,indices:s}=t,{buffer:c,offset:d}=s,m=l.offset;c[d]=m+e,c[d+1]=m+o,c[d+2]=m+i,c[d+3]=m+n,c[d+4]=m+a,c[d+5]=m+r,s.offset=d+6}(t,1,2,0,0,2,3),na(t,e,o,i,n,a,r,l,-1,-1,s,c,!0,d),na(t,e,o,i,n,a,r,l,1,-1,s,c,!1,d),na(t,e,o,i,n,a,r,l,1,1,s,c,!1,d),na(t,e,o,i,n,a,r,l,-1,1,s,c,!0,d)}function na(t,e,o,i,n,a,r,l,s,c,d,m,p,h){const u=t.elements,g=u.stride*u.offset,f=g>>1,b=f>>1;Pe(Qn,o,i,n,a),Ne(ta,Qn),t.views.position[f]=A+o,t.views.position[f+1]=A+i,t.views.segmentEnd[f]=A+n,t.views.segmentEnd[f+1]=A+a,t.views.texExtender[g]=je(ta[0]*c*(p?-1:1)*W),t.views.texExtender[g+1]=je(ta[1]*c*(p?-1:1)*W),t.views.arrowExtender[g]=je(s*W),t.views.arrowExtender[g+1]=je(c*W);const y=s+r,_=c+l,x=Qn[0]*y+ta[0]*_,v=Qn[1]*y+ta[1]*_;t.views.extender[f]=Math.round(x*W*127),t.views.extender[f+1]=Math.round(v*W*127),t.views.direction[f]=Math.round(127*Qn[0]),t.views.direction[f+1]=Math.round(127*Qn[1]),t.views.vertexDistance[b]=d/k,t.views.objectLength[b]=m/k,t.views.type[b]=e,t.views.localID[b]=h,t.elements.offset++}const aa={symbol:"circle",sinks:{fill:{stride:12,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.extender=new Int16Array(e,4),t.views.localID=new Uint32Array(e,8)},packObjectAttributes:(t,e,o,i)=>fo([t,e],o,i),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],tileData:t.slice(2)})}},generate(t,e,o,i,n){const a=t.getBucket(o.type,"fill",aa.sinks.fill.packObjectAttributes(e,o.innerId,o.dataKeys,i),aa.sinks.fill.binder),r=t.idIndexer.getIndex({id:i.tileAttrs[i.tileProps.id],styleId:e,layer:o,sublayer:i.tileAttrs[i.tileProps.db_sublayer]}),l=n[0][0],s=n[1][0];!function(t,e,o,i,n,a,r){const{elements:l,indices:s}=t,{buffer:c,offset:d}=s,m=l.offset;c[d]=m+e,c[d+1]=m+o,c[d+2]=m+i,c[d+3]=m+n,c[d+4]=m+a,c[d+5]=m+r,s.offset=d+6}(a,0,2,1,0,3,2),ra(a,l,s,-1,-1,r),ra(a,l,s,-1,1,r),ra(a,l,s,1,1,r),ra(a,l,s,1,-1,r)}};function ra(t,e,o,i,n,a){const r=t.elements.offset*t.elements.stride>>1,l=r>>1;t.views.position[r]=A+e,t.views.position[r+1]=A+o,t.views.extender[r]=i,t.views.extender[r+1]=n,t.views.localID[l]=a,t.elements.offset++}const la=T(),sa=T(),ca=T(),da=T(),ma=(t,e,o,i)=>fo([t,e],o,i),pa=t=>({styleId:t[0],layerId:t[1],tileData:t.slice(2)}),ha={symbol:"lineExtrusion",sinks:{fill:{stride:20,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.normal=new Int8Array(e,8),t.views.demPosition=new Int16Array(e,16)},packObjectAttributes:ma,unpackObjectAttributes:pa},topStroke:{stride:16,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.directionDistance=new Int8Array(e,8),t.views.demPosition=new Int16Array(e,12)},packObjectAttributes:ma,unpackObjectAttributes:pa},sideStroke:{stride:20,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.distance=new Int16Array(e,6),t.views.normals=new Int8Array(e,8),t.views.direction=new Int8Array(e,12),t.views.demPosition=new Int16Array(e,16)},packObjectAttributes:ma,unpackObjectAttributes:pa}},generate(t,e,o,i,n){const a=n[0],r=n[1],l=a.length,s=t.getBucket(o.type,"fill",ha.sinks.fill.packObjectAttributes(e,o.innerId,o.dataKeys,i),ha.sinks.fill.binder),c=t.getBucket(o.type,"topStroke",ha.sinks.topStroke.packObjectAttributes(e,o.innerId,o.dataKeys,i),ha.sinks.topStroke.binder),d=t.getBucket(o.type,"sideStroke",ha.sinks.sideStroke.packObjectAttributes(e,o.innerId,o.dataKeys,i),ha.sinks.sideStroke.binder);for(let t=0;t<l-1;t++){const e=a[t],o=r[t],i=a[t+1],n=r[t+1];D(la,e,i),D(sa,o,n),D(ca,i,e),D(da,n,o),Be(s,2,la,sa,void 0,1),so(c,e,o,1,i,n,1),$e(d,2,la,sa,void 0),$e(d,2,ca,da,void 0),Ze(d,2,la,sa,void 0,1)}D(la,a[l-1],a[0]),D(sa,r[l-1],r[0]),Ze(d,2,la,sa,void 0,1)}},ua={symbol:"raster",sinks:{fill:{stride:8,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.txtrCoords=new Uint16Array(e,4)},packObjectAttributes:(t,e,o)=>[t,e,o],unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],textureIndex:t[2],tileData:t.slice(3)})}},generate(t,e,o,i,n){const a=e[0],r=e[1],l=t.getBucket(i.type,"fill",ua.sinks.fill.packObjectAttributes(o,i.innerId,n),ua.sinks.fill.binder);let s=l.elements.offset;!function(t,e,o,i,n,a,r,l){const s=t.buffer,c=t.offset;s[c]=e+o,s[c+1]=e+i,s[c+2]=e+n,s[c+3]=e+a,s[c+4]=e+r,s[c+5]=e+l,t.offset=c+6}(l.indices,s,0,1,2,2,1,3),ga(l,s++,a[0],r[0],0,1),ga(l,s++,a[1],r[1],1,1),ga(l,s++,a[2],r[2],0,0),ga(l,s++,a[3],r[3],1,0),l.elements.offset=s}};function ga(t,e,o,i,n,a){e*=4,t.views.position[e]=A+o,t.views.position[e+1]=A+i,t.views.txtrCoords[e]=ko(n),t.views.txtrCoords[e+1]=ko(a)}function fa(t,e){const o=t.reduce(((t,e)=>t.concat(e)),[0]).concat(e),i=o.length-1;return{coords:o.slice(o[0]===o[1]?1:0,o[i-1]===o[i]?i:i+1),isOddStretchable:ba(t)}}function ba(t){var e;return!(null===(e=null==t?void 0:t[0])||void 0===e?void 0:e[0])}function ya(t,e,o,i){if(t.coords.length<2)throw new Error("The source coords array must have at least two coordinates");return t.coords.map(((n,a)=>(e+n+i*(0===a?-1:a===t.coords.length-1?1:0))/o))}function _a(t,e){const{stretchSize:o,fixSize:i}=xa(t),{coords:n,isOddStretchable:a}=t,r=e<i?i:e,l=[n[0]];for(let t=1;t<n.length;t++){const e=n[t-1],s=n[t],c=t%2==(a?1:0),d=l[l.length-1];c?l.push(Math.round((r-i)*(s-e)/o)+d):l.push(d+s-e)}return l}function xa({coords:t,isOddStretchable:e}){if(t.length<2)throw new Error("An axis must have at least two coordinates");if(2===t.length)return{stretchSize:t[t.length-1],fixSize:0};let o=0;for(let i=e?0:1;i<t.length-1;i+=2)o+=t[i+1]-t[i];return{stretchSize:o,fixSize:t[t.length-1]-o}}function va(t,e,o=0){const i=t[t.length-1]-t[0],n=t.map((t=>Math.round(t-i/2+o)));return 2===n.length?n[n.length-1]+=2*e:(n[0]-=e,n[n.length-1]+=e),n}function za(t,e,o,i,n,a,r,l,s){const c=function(t,e,o=[],i=[]){return{x:fa(o,t),y:fa(i,e)}}(o.w,o.h,l,s),d=function(t,e,o,i,n){return[ya(t.x,e,i[0],n),ya(t.y,o,i[1],n)]}(c,o.x,o.y,e,.5),m=function(t,e,o,i,n=0,a=0){return[va(_a(t.x,e),i,n),va(_a(t.y,o),i,a)]}(c,i,n,.5,a,r);t.set(m,d)}function Ca(t,e,o,i,n,a,r,l,s,c,d){let m=12*t.elements.offset;t.views.position[m]=A+e,t.views.position[m+1]=A+o,t.views.position[m+2]=i,t.views.cornerOffset[m]=n,t.views.cornerOffset[m+1]=-a,t.views.texCoords[m]=ko(r),t.views.texCoords[m+1]=ko(l),t.views.scales[m]=function(t){return 256*Math.log(t)+.5<<16>>16}(s),t.views.scales[m+1]=function(t){const e=256*Math.log(t);return e+(e<0?-.5:.5)<<16>>16}(c),m>>=1,t.views.localID[m]=d,t.elements.offset++}function Fa(t,e,o,i,n,a,r){const{elements:l,indices:s}=t,{buffer:c,offset:d}=s,m=l.offset;c[d]=m+e,c[d+1]=m+o,c[d+2]=m+i,c[d+3]=m+n,c[d+4]=m+a,c[d+5]=m+r,s.offset=d+6}function wa(t,e){for(const o in e)void 0!==e[o]&&(t[o]=e[o])}const Sa="__overlapped",Ia="__commercial",ka="default",Ma={groups:[ka,Sa,Ia],overlay:[[ka,Sa]],intersect:[[]]};function Aa(t,e,o,i){let n=new L(4);return n[0]=t,n[1]=e,n[2]=o,n[3]=i,n}function Wa(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Pa(t,e){let o=e[0],i=e[1],n=e[2],a=e[3],r=o*o+i*i+n*n+a*a;return r>0&&(r=1/Math.sqrt(r),t[0]=o*r,t[1]=i*r,t[2]=n*r,t[3]=a*r),t}!function(){let t=function(){let t=new L(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}()}();let Ha=Math.random;const ja=new Map;class Oa{constructor(t,e,o,i,n,a){switch(this.anchorWorld=[0,0,0,0],this.groupPriority=0,this.labelingGroup=ka,this.marginTopBottom=0,this.marginLeftRight=0,this.elevation=0,this.type=e,this.label=t,this.layer=t.layer,this.elevation=t.elevation,this.id=t.id+"_"+e+"_"+Math.floor(o[0]/1e3)+"_"+Math.floor(o[1]/1e3)+this.getIconLabelPriorityToId(t),Wa(this.anchorWorld,o),0!==i&&(this.anchorWorld[2]*=i),this.anchorScreen=n.project([this.anchorWorld[0],this.anchorWorld[1],this.anchorWorld[2]+this.elevation,0]),this.anchorPosition=0,this.anchorSegmentIndex=0,this.halfLabelWidth=0,this.commPriorityRandomFactor=NaN,this.itemPriority=e===Di.Icon?t.iconPriority:t.labelPriority,this.layer.type){case"labelLine":this.labelingGroup=this.layer.style.labelingGroup,this.groupPriority=this.layer.style.textPriority;break;case"oneWayLine":this.labelingGroup=this.layer.style.labelingGroup,this.groupPriority=this.layer.style.priority;break;case"point":if(t.pointType===Li.Commercial||t.pointType===Li.CommercialCity)if(ja.has(this.label.id))this.commPriorityRandomFactor=ja.get(this.label.id);else{const t=Ha();this.commPriorityRandomFactor=t,ja.set(this.label.id,t)}e===Di.PoiText?(this.labelingGroup=this.layer.style.allowOverlap?Sa:this.layer.style.textLabelingGroup,this.groupPriority=this.layer.style.iconImage?Math.min(this.layer.style.textPriority,this.layer.style.iconPriority):this.layer.style.textPriority,this.marginTopBottom=this.layer.style.textLabelingMargin.topBottom,this.marginLeftRight=this.layer.style.textLabelingMargin.leftRight):e===Di.PoiText2?(this.labelingGroup=this.layer.style.allowOverlap?Sa:this.layer.style.textLabelingGroup2,this.groupPriority=Math.min(this.layer.style.textPriority,this.layer.style.iconPriority),this.marginTopBottom=this.layer.style.textLabelingMargin.topBottom,this.marginLeftRight=this.layer.style.textLabelingMargin.leftRight):(this.labelingGroup=this.layer.style.allowOverlap?Sa:this.layer.style.iconLabelingGroup,this.groupPriority=this.layer.style.iconPriority,this.marginTopBottom=this.layer.style.iconLabelingMargin.topBottom,this.marginLeftRight=this.layer.style.iconLabelingMargin.leftRight)}this.labelingGroupTable=a.labelingGroups.table,this.overflowStyleZoom=-1/0,this.boxes=[],this.placementIndex=0}getIconLabelPriorityToId(t){const{layer:e}=t;if("point"===e.type){return"_"+e.style.iconPriority.toFixed(0)+"_"+e.style.textPriority.toFixed(0)}return""}}function Na(t,e,o,i,n,a){if(!t||n&&!a)return[0,0];if(!a)return[t.w/e,t.h/e];const r=Ea(o,i,a),l=o.style.iconTextPadding;return[l[3]+l[1]+r[0],l[0]+l[2]+r[1]]}function La(t,e,o){return Ba(gi(t.style.textFontSize,e),t.style.textLineHeight,o)}function Ta(t,e,o){return Ba(gi(t.style.textFontSize2,e),t.style.textLineHeight,o)}function Ea(t,e,o){return Ba(gi(t.style.iconTextFontSize,e),t.style.iconTextLineHeight,o)}function Ba(t,e,o){return[t/h*o.maxWidth,t*e*o.lines.length]}function Da(t,e,o){var i,n;const a=null!==(i=o[0])&&void 0!==i?i:0,r=null!==(n=o[1])&&void 0!==n?n:0;return[(.5-t.anchorX)*e[0]+a,(.5-t.anchorY)*e[1]+r]}function Ra(t,e,o,i,n){var a,r,l,s;const c=null!==(a=o[0])&&void 0!==a?a:.5,d=null!==(r=o[1])&&void 0!==r?r:.5,m=null!==(l=n[0])&&void 0!==l?l:0,p=null!==(s=n[1])&&void 0!==s?s:0;return[t[0]/2-c*e[0]-i[3]+m,t[1]/2-d*e[1]-i[0]+p]}function Ua(t,e,o,i,n){const a=e[0],r=e[1],l=o[0],s=o[1];let c=0,d=0;const m=s/2+r/2,p=s/2-r/2,h=-m,u=-p,g=l/2+a/2,f=l/2-a/2,b=-g,y=-f;switch(t){case"bottomCenter":d=m+n;break;case"rightCenter":c=g+n;break;case"topCenter":d=h-n;break;case"leftCenter":c=b-n;break;case"bottomRight":c=f,d=m+n;break;case"topRight":c=f,d=h-n;break;case"bottomLeft":c=y,d=m+n;break;case"rightBottom":c=g+n,d=u;break;case"rightTop":c=g+n,d=p;break;case"topLeft":c=y,d=h-n;break;case"leftTop":c=b-n,d=p;break;case"leftBottom":c=b-n,d=u}return[c+i[0],d+i[1]]}var Va;!function(t){t[t.Icon=0]="Icon",t[t.First=1]="First",t[t.Second=2]="Second"}(Va||(Va={}));const Ga=new class{constructor(){this.countX=0,this.countY=0,this.textureX=[],this.textureY=[],this.stretchedX=[],this.stretchedY=[]}reset(){this.countX=0,this.countY=0}set(t,e){this.countX=e[0].length,this.countY=e[1].length,this.textureX=e[0],this.textureY=e[1],this.stretchedX=t[0],this.stretchedY=t[1]}isEmpty(){return 0===this.countX||0===this.countY}},qa=[0,0,0],Ya={symbol:"point",sinks:{raster:{stride:24,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.cornerOffset=new Int16Array(e,8),t.views.texCoords=new Uint16Array(e,12),t.views.scales=new Int16Array(e,16),t.views.localID=new Uint32Array(e,20)},packObjectAttributes:(t,e,o)=>bo([t.styleId,t.layer.innerId,e,o],t.tileData),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],animDirection:t[2],atlasIndex:t[3],tileData:t.slice(4)})},text:{stride:20,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.cornerOffset=new Int16Array(e,8),t.views.texCoords=new Uint16Array(e,12),t.views.localID=new Uint32Array(e,16)},packObjectAttributes:(t,e,o,i,n,a)=>bo([t.styleId,t.layer.innerId,e,o,i[0],-i[1],n,a],t.tileData),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],animDirection:t[2],range:t[3],offsetX:t[4],offsetY:t[5],labelIndex:t[6],fontIndex:t[7],tileData:t.slice(8)})}},processElement(t,e,o,i,n,a,r){const{layer:l,label:s}=o;if("point"!==l.type)return;const c=bi(a.styleZoom,a.styleState,!0,s.tileData),d=Xa(c,t,n,s),m=t.icons[fi(l.style.iconImage,c)],p=Vi(m),h=Na(d,n,l,c,p,s.iconTextMetrics);let u,g=[0,0];if(d&&(s.iconTextMetrics?(u=Ea(l,c,s.iconTextMetrics),g=Ra(h,u,l.style.iconTextAnchor,l.style.iconTextPadding,l.style.iconTextOffset)):g=Da(d,h,l.style.iconOffset)),ne(qa,o.anchorWorld,r),re(qa))switch(o.type){case Di.Icon:if(!d||p&&!s.iconTextMetrics)return;const r=p?m.stretchX:void 0,c=p?m.stretchY:void 0;if(Za(e,s,qa,i,d,h[0]*n,h[1]*n,g[0]*n,g[1]*n,null==r?void 0:r.map((([t,e])=>[t*n,e*n])),null==c?void 0:c.map((([t,e])=>[t*n,e*n]))),!u)return;return void function(t,e,o,i,n,a,r,l){var s;const{iconTextMetrics:c}=o;if(!c||!l.style.iconTextFont)return;const d=bi(n.styleZoom,n.styleState,!1,o.tileData),m=fi(l.style.iconTextFont,d),p=null!==(s=t.fontNameToIndex[m])&&void 0!==s?s:t.fontNameToIndex.Noto_Sans;$a(e,o,Va.Icon,c,i,a,r,l,p)}(t,e,o.label,qa,a,i,function(t,e,o){var i,n,a,r;const l=null!==(i=e[0])&&void 0!==i?i:.5,s=null!==(n=e[1])&&void 0!==n?n:.5,c=null!==(a=o[0])&&void 0!==a?a:0,d=null!==(r=o[1])&&void 0!==r?r:0;return[(.5-l)*t[0]+c,(.5-s)*t[1]+d]}(u,l.style.iconTextAnchor,l.style.iconTextOffset),l);case Di.PoiText:return void function(t,e,o,i,n,a,r,l,s){var c;const{label:d}=o,{textMetrics:m}=d,p=bi(a.styleZoom,a.styleState,!1,d.tileData),h=fi(s.style.textFont,p);if(!h.length)return;const u=La(s,p,m),g=null!==(c=t.fontNameToIndex[h])&&void 0!==c?c:t.fontNameToIndex.Noto_Sans,f=o.parent?s.style.textPlacement:"centerCenter",b=gi(s.style.textOffset,p),y=Ua(f,n,u,l,b);$a(e,d,Va.First,d.textMetrics,i,r,y,s,g)}(t,e,o,qa,h,a,i,g,l);case Di.PoiText2:return void function(t,e,o,i,n,a,r,l,s){var c,d;const{label:m}=o,{textMetrics:p,textMetrics2:h}=m;if(!h||!s.style.textFont2)return;const u=bi(a.styleZoom,a.styleState,!1,m.tileData),g=La(s,u,p),f=Ta(s,u,h),b=gi(s.style.textOffset,u),y=gi(null!==(c=s.style.textOffset2)&&void 0!==c?c:0,u,0),_=fi(s.style.textFont2,u),x=null!==(d=t.fontNameToIndex[_])&&void 0!==d?d:t.fontNameToIndex.Noto_Sans,v=Ua(s.style.textPlacement,n,[f[0],g[1]],l,b);v[1]+=(g[1]+f[1])/2+y,$a(e,m,Va.Second,h,i,r,v,s,x)}(t,e,o,qa,h,a,i,g,l)}},getLabelingInfo(t,e,o,i,n,a){const{layer:r}=t;if("point"!==r.type)return;t.labelingElements.length=0;const l=bi(i.styleZoom,i.styleState,!0,t.tileData),s=Xa(l,o,a,t),c=Vi(o.icons[fi(r.style.iconImage,l)]),d=Na(s,a,r,l,c,t.iconTextMetrics);let m,p=[0,0];if(s&&(!c||t.iconTextMetrics)){t.iconTextMetrics?(m=Ea(r,l,t.iconTextMetrics),p=Ra(d,m,r.style.iconTextAnchor,r.style.iconTextPadding,r.style.iconTextOffset)):p=Da(s,d,r.style.iconOffset);const a=new Oa(t,Di.Icon,e,i.buildingHeight,n,o);a.boxes.push([-d[0]/2+p[0],-d[1]/2+p[1],d[0]/2+p[0],d[1]/2+p[1]]),t.labelingElements.push(a)}const h=fi(r.style.textFont,l);t.label.length>0&&h.length&&(function(t,e,o,i,n,a,r,l){const{textMetrics:s}=t;if(!s)return;const c=bi(n.styleZoom,n.styleState,!1,t.tileData),d=gi(l.style.textOffset,c),m=La(l,c,s),p=new Oa(t,Di.PoiText,e,n.buildingHeight,a,o);t.labelingElements.length>0&&(p.parent=t.labelingElements[0]);const h=Ua(p.parent?l.style.textPlacement:"centerCenter",i,m,r,d);p.boxes.push([h[0]-m[0]/2,h[1]-m[1]/2,h[0]+m[0]/2,h[1]+m[1]/2]),t.labelingElements.push(p)}(t,e,o,d,i,n,p,r),t.label2&&function(t,e,o,i,n,a,r,l){var s;const{textMetrics:c,textMetrics2:d}=t;if(!d)return;const m=bi(n.styleZoom,n.styleState,!1,t.tileData),p=La(l,m,c),h=Ta(l,m,d),u=gi(l.style.textOffset,m),g=gi(null!==(s=l.style.textOffset2)&&void 0!==s?s:0,m,0),f=new Oa(t,Di.PoiText2,e,n.buildingHeight,a,o);t.labelingElements.length>1?(f.parent=t.labelingElements[0],f.firstLabel=t.labelingElements[1]):t.labelingElements.length>0&&(f.parent=t.labelingElements[0],f.firstLabel=t.labelingElements[0]);const b=Ua(l.style.textPlacement,i,[h[0],p[1]],r,u);b[1]+=(p[1]+h[1])/2+g,f.boxes.push([b[0]-h[0]/2,b[1]-h[1]/2,b[0]+h[0]/2,b[1]+h[1]/2]),t.labelingElements.push(f)}(t,e,o,d,i,n,p,r))}};function $a(t,e,o,i,n,a,r,l,s){const c={};for(const i of e.ranges)c[i]=t.getBucket("point","text",Ya.sinks.text.packObjectAttributes(e,a,i,r,o,s),Ya.sinks.text.binder);!function(t,e,o,i,n,a){const r=1,l=1;let{textLineHeight:s,textLetterSpacing:c}=n.style;a===Va.Icon&&(s=n.style.iconTextLineHeight,c=n.style.iconTextLetterSpacing);const{identifyPoiLabelIndex:d}=e,{lines:m,maxWidth:p}=i,u=s*h;let g=function(t,e,o){let i;switch(t){case 0:i=e/2+e*(o-1);break;case 2:i=-e/2;break;default:i=1&o?e*(o>>1):e/2+e*(o-1>>1)}return i}(r,u,m.length);for(let e=0;e<m.length;e++){const i=m[e].width;let n=0;switch(l){case 0:n=-p/2;break;case 1:n=-i/2;break;case 2:n=p/2-i}Ka[0]=n,Ka[1]=g;const a=m[e].glyphs;for(let e=0;e<a.length;e++){const i=a[e];void 0!==i.bitmap&&Qa(t[i.range],o,Ka,i,d),Ka[0]+=i.advance+h*c}g-=u}}(c,e,n,i,l,o)}function Za(t,e,o,i,n,a,r,l,s,d,m){if(a<=0||r<=0)return;if("point"!==e.layer.type)return;za(Ga,c,n,a,r,l,s,d,m),t.atlasPacker.addRastersToLoad(e.styleId,n);const p=t.getBucket("point","raster",Ya.sinks.raster.packObjectAttributes(e,i,n.atlasIndex),Ya.sinks.raster.binder);!function(t,e,o,i,n,a,r,l){const{textureX:s,textureY:c,stretchedX:d,stretchedY:m,countX:p,countY:h}=i,u=a!==-1/0?a:1175494351e-47,g=r!==1/0?r:3402823466e29;for(let i=0;i<p-1;i++){const a=s[i],r=s[i+1],p=d[i],f=d[i+1];for(let i=0;i<h-1;i++){const s=c[i],d=c[i+1],h=m[i],b=m[i+1];Fa(n,0,2,1,1,2,3),Ca(n,t,e,o,p,h,a,s,u,g,l),Ca(n,t,e,o,f,h,r,s,u,g,l),Ca(n,t,e,o,p,b,a,d,u,g,l),Ca(n,t,e,o,f,b,r,d,u,g,l)}}}(o[0],o[1],o[2],Ga,p,-1/0,1/0,e.identifyIndex)}function Xa(t,e,o,i){const{rasterSets:n}=e,{layer:a}=i;if("point"!==a.type)return;let r;if(i.pointType===Li.Commercial||i.pointType===Li.CommercialCity||i.pointType===Li.Landmark)r=n.byKey[Ko(i.idLo,i.idHi)];else{const e=fi(a.style.iconImage,t);e.length&&(r=n.byKey[Zo(e,a.style.iconAnchor[0],a.style.iconAnchor[1])])}if(r){const e=gi(a.style.iconWidth,t),i=Ni(r.rasters,e*o,!0);if(void 0!==i)return r.rasters[i]}}const Ka=[0,0];function Ja(t,e,o,i,n,a,r){const l=o[1]+i.top,s=o[0]+i.left,c=l-i.height,d=s+i.width,m=Math.sin(n),p=Math.cos(n),h=s*p-l*m,u=s*m+l*p,g=d*p-l*m,f=d*m+l*p,b=s*p-c*m,y=s*m+c*p,_=d*p-c*m,x=d*m+c*p,v=t.elements.offset;er(t,e,h,u,i.texLeft,i.texTop,a,r),er(t,e,g,f,i.texRight,i.texTop,a,r),er(t,e,b,y,i.texLeft,i.texBottom,a,r),er(t,e,_,x,i.texRight,i.texBottom,a,r),ir(t.indices,v,1,0,3,2,3,0)}function Qa(t,e,o,i,n){const a=o[1]+i.top,r=o[0]+i.left,l=a-i.height,s=r+i.width,c=t.elements.offset;tr(t,e,r,a,i.texLeft,i.texTop,n),tr(t,e,s,a,i.texRight,i.texTop,n),tr(t,e,r,l,i.texLeft,i.texBottom,n),tr(t,e,s,l,i.texRight,i.texBottom,n),ir(t.indices,c,1,0,3,2,3,0)}function tr(t,e,o,i,n,a,r){const l=t.elements,s=l.stride*l.offset>>1,c=s>>1;t.views.position[s]=A+e[0],t.views.position[s+1]=A+e[1],t.views.position[s+2]=e[2],t.views.cornerOffset[s]=o,t.views.cornerOffset[s+1]=i,t.views.texCoords[s]=n,t.views.texCoords[s+1]=a,t.views.localID[c]=r,l.offset++}function er(t,e,o,i,n,a,r,l){const s=t.elements;let c=s.stride*s.offset>>1;t.views.position[c]=A+e[0],t.views.position[c+1]=A+e[1],t.views.position[c+2]=e[2],t.views.texCoords[c]=n,t.views.texCoords[c+1]=a,c>>=1,t.views.cornerOffset[c]=o,t.views.cornerOffset[c+1]=i,t.views.styleZoomLimits[c]=r,t.views.styleZoomLimits[c+1]=l,s.offset++}function or(t,e,o,i,n,a){const r=t.elements.stride*t.elements.offset,l=r/t.views.position.BYTES_PER_ELEMENT,s=r/t.views.direction.BYTES_PER_ELEMENT;t.views.position[l]=A+e[0],t.views.position[l+1]=A+e[1],t.views.direction[s]=o,t.views.direction[s+1]=i,t.views.widenDirection[s]=n,t.views.widenDirection[s+1]=a,t.elements.offset++}function ir(t,e,o,i,n,a,r,l){const s=t.buffer,c=t.offset;s[c]=e+o,s[c+1]=e+i,s[c+2]=e+n,s[c+3]=e+a,s[c+4]=e+r,s[c+5]=e+l,t.offset=c+6}const nr=[0,0,0],ar=[0,0],rr={symbol:"labelLine",sinks:{raster:{stride:28,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.texCoords=new Uint16Array(e,8),t.views.cornerOffset=new Float32Array(e,12),t.views.styleZoomLimits=new Float32Array(e,20)},packObjectAttributes:(t,e,o,i)=>bo([t.styleId,t.layer.innerId,e,o,i],t.tileData),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],animDirection:t[2],range:t[3],fontIndex:t[4],tileData:t.slice(5)})}},processElement(t,e,o,i,n,a,r){var l;const{label:s,anchorPosition:c,anchorSegmentIndex:d,halfLabelWidth:m,layer:p}=o;if("labelLine"!==p.type)return;const{axis:u}=s,{center:g,styleZoom:f}=a,b=bi(f,a.styleState,!1,s.tileData),y=fi(p.style.textFont,b),_=null!==(l=t.fontNameToIndex[y])&&void 0!==l?l:t.fontNameToIndex.Noto_Sans,x={};for(const t of s.ranges)x[t]=e.getBucket("labelLine","raster",rr.sinks.raster.packObjectAttributes(s,i,t,_),rr.sinks.raster.binder);const v=s.textMetrics.lines[0],z=gi(p.style.textFontSize,b)/h,w=v.glyphs,S=function(t,e,o,i){const n=t.interpolate(e-o,t.getSegmentIndex(e-o)),a=t.interpolate(e+o,t.getSegmentIndex(e+o)),r=Math.atan2(a[1]-n[1],a[0]-n[0])-i;return Math.cos(r)<0}(u,c,m,a.rotation);ar[0]=-v.width/2,ar[1]=0;for(let t=0;t<w.length;t++){const e=w[t],i=(ar[0]+e.left+e.width/2)*z*(S?-1:1),n=wt(i)||1;let a=-1/0,l=1/0;for(let t=d;t>=1&&t<u.vertexCount&&!(l<o.overflowStyleZoom);t+=n,l=a){const s=1===n?t:t-1;a=_t((I=i,k=u.lengths[s]-c,0===I?-1/0:-Math.log(k*C/(I*F))/Math.LN2),g);const d=u.interpolate(c,t);ne(nr,d,r),re(nr)&&void 0!==e.bitmap&&Ja(x[e.range],nr,ar,e,d[3]+(S?Math.PI:0),Math.max(a,o.overflowStyleZoom),l)}ar[0]+=e.advance+h*p.style.textLetterSpacing}var I,k},getLabelingInfo(){}};const lr=[0,0,0],sr={symbol:"oneWayLine",sinks:{raster:{stride:12,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.direction=new Int8Array(e,8),t.views.widenDirection=new Int8Array(e,10)},packObjectAttributes:(t,e)=>bo([t.styleId,t.layer.innerId,e],t.tileData),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],animDirection:t[2],tileData:t.slice(3)})}},processElement(t,e,o,i,n,a,r){const{label:l,anchorWorld:s}=o;if(ne(lr,s,r),!re(lr))return;!function(t,e,o){const i=t.elements.offset,n=je(Math.cos(o)),a=je(Math.sin(o));or(t,e,n,a,-1,-1),or(t,e,n,a,1,-1),or(t,e,n,a,1,1),or(t,e,n,a,-1,1),ir(t.indices,i,0,1,2,2,3,0)}(e.getBucket("oneWayLine","raster",sr.sinks.raster.packObjectAttributes(l,i),sr.sinks.raster.binder),lr,s[3])},getLabelingInfo(){}},cr={symbol:"heatmap",sinks:{fill:{stride:8,binder:(t,e)=>{t.views.position=new Float32Array(e)},packObjectAttributes:(t,e,o,i)=>[t,e,o,i],unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],textureIndex:t[2],rampTextureIndex:t[3],tileData:t.slice(4)})},framebuffer:{stride:12,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.weight=new Float32Array(e,4),t.views.widen=new Int8Array(e,8)},packObjectAttributes:(t,e)=>[t,e],unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],tileData:t.slice(2)})}},generate(t,e,o,i,n){const a=i[0],r=i[1],l=Number(pi(o.style.weight,n));if(Number.isNaN(l))return void console.error("Can't resolve style.weight to number");const s=t.getBucket(o.type,"framebuffer",cr.sinks.framebuffer.packObjectAttributes(e,o.innerId),cr.sinks.framebuffer.binder);for(let t=0;t<a.length;t++)pr(s,0,1,2,2,1,3),mr(s,a[t],r[t],-1,-1,l),mr(s,a[t],r[t],1,-1,l),mr(s,a[t],r[t],-1,1,l),mr(s,a[t],r[t],1,1,l)},generateTexture(t,e,o,i,n){const a=[-1,1,1,-1],r=[-1,-1,1,1],l=t.getBucket(o.type,"fill",cr.sinks.fill.packObjectAttributes(e,o.innerId,i,n),cr.sinks.fill.binder);let s=l.elements.offset;!function(t,e,o,i,n,a,r,l){const s=t.buffer,c=t.offset;s[c]=e+o,s[c+1]=e+i,s[c+2]=e+n,s[c+3]=e+a,s[c+4]=e+r,s[c+5]=e+l,t.offset=c+6}(l.indices,s,0,1,2,0,2,3),dr(l,s++,a[0],r[0]),dr(l,s++,a[1],r[1]),dr(l,s++,a[2],r[2]),dr(l,s++,a[3],r[3]),l.elements.offset=s}};function dr(t,e,o,i){const n=2*e;t.views.position[n]=o,t.views.position[n+1]=i}function mr(t,e,o,i,n,a){const r=t.elements.offset*t.elements.stride,l=r>>1,s=l>>1;t.views.position[l]=A+e,t.views.position[l+1]=A+o,t.views.weight[s]=a,t.views.widen[r]=i,t.views.widen[r+1]=n,t.elements.offset++}function pr(t,e,o,i,n,a,r){const{elements:l,indices:s}=t,{buffer:c,offset:d}=s,m=l.offset;c[d]=m+e,c[d+1]=m+o,c[d+2]=m+i,c[d+3]=m+n,c[d+4]=m+a,c[d+5]=m+r,s.offset=d+6}const hr=(t,e,o,i,n,a,r)=>{const l={type:Ri.Line,styleId:e,layerId:o.innerId,sourceId:n,tileCoords:i,id:a.tileAttrs[a.tileProps.id],componentDistanceStart:Ui(a.tileAttrs[a.tileProps.componentDistanceStart],0),componentDistanceEnd:Ui(a.tileAttrs[a.tileProps.componentDistanceEnd],0),objectLength:Ui(a.tileAttrs[a.tileProps.objectLength],0),labelPriority:Ui(a.tileAttrs[a.tileProps.db_label_priority],0),vertices:[r[0],r[1]],tileData:fo([],o.dataKeys,a)};t.addLabel(l)},ur=(t,e,o,i,n,a,r)=>{const l={type:Ri.OneWayLine,styleId:e,layerId:o.innerId,sourceId:n,tileCoords:i,id:a.tileAttrs[a.tileProps.id],componentDistanceStart:Ui(a.tileAttrs[a.tileProps.componentDistanceStart],0),componentDistanceEnd:Ui(a.tileAttrs[a.tileProps.componentDistanceEnd],0),objectLength:Ui(a.tileAttrs[a.tileProps.objectLength],0),labelPriority:Ui(a.tileAttrs[a.tileProps.db_label_priority],0),vertices:[r[0],r[1]],tileData:fo([],o.dataKeys,a)};t.addLabel(l)};function gr(){let t=new L(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function fr(t,e,o){let i=e[0],n=e[1],a=e[2],r=e[3],l=o[0],s=o[1],c=o[2],d=o[3];return t[0]=i*d+r*l+n*c-a*s,t[1]=n*d+r*s+a*l-i*c,t[2]=a*d+r*c+i*s-n*l,t[3]=r*d-i*l-n*s-a*c,t}function br(t,e,o){o*=.5;let i=e[0],n=e[1],a=e[2],r=e[3],l=Math.sin(o),s=Math.cos(o);return t[0]=i*s+r*l,t[1]=n*s+a*l,t[2]=a*s-n*l,t[3]=r*s-i*l,t}function yr(t,e,o){o*=.5;let i=e[0],n=e[1],a=e[2],r=e[3],l=Math.sin(o),s=Math.cos(o);return t[0]=i*s-a*l,t[1]=n*s+r*l,t[2]=a*s+i*l,t[3]=r*s-n*l,t}function _r(t,e,o,i){let n,a,r,l,s,c=e[0],d=e[1],m=e[2],p=e[3],h=o[0],u=o[1],g=o[2],f=o[3];return c*h+d*u+m*g+p*f,a<0&&(-a,-h,-u,-g,-f),1-a>1e-6?(Math.acos(a),Math.sin(n),Math.sin((1-i)*n)/r,Math.sin(i*n)/r):(1-i,i),t[0]=l*c+s*h,t[1]=l*d+s*u,t[2]=l*m+s*g,t[3]=l*p+s*f,t}const xr=Pa;(function(){let t=Y(),e=$(1,0,0),o=$(0,1,0)})(),function(){let t=gr(),e=gr()}(),function(){let t=function(){let t=new L(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}()}();const vr=new RegExp("^(?:[a-z]+:)?//","i");function zr(t){return vr.test(t)}function Cr(...t){const e=t.filter((t=>t.length>0));let o=e[0];for(let t=1;t<e.length;t++){"/"!==o[o.length-1]&&(o+="/");const i=e[t];"/"===i[0]?o+=i.slice(1):o+=i}return o}const Fr={symbol:"gltfModel",sinks:{anchor:{stride:8,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.localID=new Uint32Array(e,4)},packObjectAttributes(t,e,o,i,n){const a=n;return fo([t,e,i.tileAttrs[i.tileProps.model_name],i.tileAttrs[i.tileProps.model_src],i.tileAttrs[i.tileProps.building_id],a,i.tileAttrs[i.tileProps.direction].coordinates],o,i)},unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],name:t[2],modelSrc:t[3],buildingId:t[4],lngLat:t[5],lngLatDirection:t[6],tileData:t.slice(2)})},instances:{stride:52,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.offset=new Float32Array(e,8),t.views.scale=new Float32Array(e,20),t.views.rotate=new Float32Array(e,32),t.views.localID=new Uint32Array(e,48)},packObjectAttributes:(t,e,o,i,n,a)=>fo([t,e,o,i],n,a),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],modelId:t[2],linkedIds:t[3],tileData:t.slice(4)})},fill:{stride:0,binder:(t,e)=>{},packObjectAttributes:(t,e,o,i)=>fo([t,e],o,i),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],tileData:t.slice(2)})}},generate(t,e,o,i,n,a){const r=n[0][0],l=n[1][0],s=[0,0,0];ie(s,[n[0][0],n[1][0]],Xt(a));const c=ft([s[0],s[1]]),d=t.getBucket(o.type,"anchor",Fr.sinks.anchor.packObjectAttributes(e.id,o.innerId,o.dataKeys,i,c),Fr.sinks.anchor.binder),m=d.elements.offset,p=d.indices.buffer,h=d.indices.offset;p[h]=m,d.indices.offset=h+1;const u=4*m;d.views.position[u]=r,d.views.position[u+1]=l,d.elements.offset=m+1},generateInstanced(t,e,o,i,n,a,r){var l;const s=n[0][0],c=n[1][0],d=pi(o.style.linkedIds,i),m=Array.isArray(d)?d:[d];let p,h=fi(o.style.modelSrc,i),u=e.modelIndex[h];const{tileProps:g,tileAttrs:f}=i,b=f[i.tileProps.direction];if(b&&"coordinates"in b){const t=[0,0,0];ie(t,[n[0][0],n[1][0]],Xt(a)),p=[t,gt(b.coordinates)]}void 0===u&&(!zr(h)&&r&&(h=Cr(r,h)),u=t.addModelToLoadByUrl(h)),t.addModelToLoad(u);const y=null===(l=o.interactive)||void 0===l||l;let _=mo;!f[g.hovered]&&y&&(_=t.idIndexer.getIndex({id:f[g.id],styleId:e.id,layer:o,sublayer:f[g.db_sublayer]}));!function(t,e,o,i,n,a,r,l,s){const c=2,d=4,m=t.elements.offset*Fr.sinks.instances.stride/d,p=t.elements.offset*Fr.sinks.instances.stride/c,h=[e,o,i],u=[],g=Xt(s);ie(u,h,g);const f=xt(ft(u)[1]),b=wr(pi(n.style.offset,a),[0,0,0]),y=function(t,e,o,i){const n=o[0]*ut*e,a=o[1]*ut*e,r=o[2]*ut*e,l=[t[0]+n,t[1]+a,t[2]+r],s=[];return ne(s,l,i),s}(u,f,b,g);t.views.position[p]=A+y[0],t.views.position[p+1]=A+y[1],t.views.position[p+2]=y[2];const _=gr(),x=wr(pi(n.style.scale,a),[1,1,1]);void 0!==r?function(t,e,o,i){const n=i[0]-o[0],a=i[1]-o[1];br(t,t,Math.PI/2),yr(t,t,Math.atan2(a,n));const r=R(o,i);e[0]*=r,e[1]*=r,e[2]*=r}(_,x,r[0],r[1]):(z=x,br(v=_,v,Math.PI/2),z[0]*=ut,z[1]*=ut,z[2]*=ut);var v,z;t.views.scale[m]=x[0]*f,t.views.scale[m+1]=x[1]*f,t.views.scale[m+2]=x[2]*f;const C=wr(pi(n.style.rotation,a),[0,0,0]),F=gr();br(F,F,C[0]*Math.PI/180);const w=gr();yr(w,w,C[1]*Math.PI/180);const S=gr();!function(t,e,o){o*=.5;let i=e[0],n=e[1],a=e[2],r=e[3],l=Math.sin(o),s=Math.cos(o);t[0]=i*s+n*l,t[1]=n*s-i*l,t[2]=a*s+r*l,t[3]=r*s-a*l}(S,S,C[2]*Math.PI/180);const I=gr();fr(I,F,_),fr(I,w,I),fr(I,S,I),t.views.rotate[m]=I[0],t.views.rotate[m+1]=I[1],t.views.rotate[m+2]=I[2],t.views.rotate[m+3]=I[3],t.views.offset[m]=0,t.views.offset[m+1]=0,t.views.offset[m+2]=0,t.views.localID[m]=l;const k=t.indices;k.buffer[k.offset]=t.elements.offset,k.offset++,t.elements.offset++}(t.getBucket(o.type,"instances",Fr.sinks.instances.packObjectAttributes(e.id,o.innerId,u,m,o.dataKeys,i),Fr.sinks.instances.binder),s,c,0,o,i,p,_,a)}};function wr(t,e){let o=e;return"number"==typeof t?o=[t,t,t]:t instanceof Array&&"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]?(o[0]=t[0],o[1]=t[1],o[2]=t[2]):console.warn(`Could not cast ${JSON.stringify(t)} to [number, number, number]`),o}const Sr=[0,0,0],Ir=[0,0,0],kr=[0,0,0],Mr=[0,0,0],Ar={symbol:"mesh",sinks:{fill:{stride:20,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.normal=new Int8Array(e,8),t.views.localID=new Uint32Array(e,12),t.views.demPosition=new Int16Array(e,16)},packObjectAttributes:(t,e,o,i)=>fo([t,e],o,i),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],tileData:t.slice(2)})},raster:{stride:24,binder:(t,e)=>{t.views.position=new Uint16Array(e),t.views.normal=new Int8Array(e,8),t.views.localID=new Uint32Array(e,12),t.views.textCoord=new Uint16Array(e,16),t.views.demPosition=new Int16Array(e,20)},packObjectAttributes:(t,e,o,i,n)=>fo([t,e,o],i,n),unpackObjectAttributes:t=>({styleId:t[0],layerId:t[1],textureIndex:t[2],tileData:t.slice(3)})}},generate(t,e,o,i,n,a,r){var l,s,c;const d=n[0],m=n[1],p=n[3]?n[3]:void 0,h=d.length,u=i.tileAttrs[i.tileProps.hovered],g=i.tileAttrs[i.tileProps.textureId],f=i.tileAttrs[i.tileProps.id],b=u?mo:t.idIndexer.getIndex({id:f,styleId:e,layer:o,sublayer:i.tileAttrs[i.tileProps.db_sublayer]});if(!g){const n=t.getBucket("mesh","fill",Ar.sinks.fill.packObjectAttributes(e,o.innerId,o.dataKeys,i),Ar.sinks.fill.binder);for(let t=0;t<h-2;t++){const e=!(t%2);Pr(n);const o=e?t+1:t+2,i=e?t+2:t+1,h=ae(a[2]),u=I/h;Z(Sr,d[t],m[t],(null!==(l=null==p?void 0:p[t])&&void 0!==l?l:0)*u),Z(Ir,d[o],m[o],(null!==(s=null==p?void 0:p[o])&&void 0!==s?s:0)*u),Z(kr,d[i],m[i],(null!==(c=null==p?void 0:p[i])&&void 0!==c?c:0)*u),We(Mr,Sr,Ir,kr),Sr[2]/=u,Ir[2]/=u,kr[2]/=u,Wr(n,Sr,Mr,b,r),Wr(n,Ir,Mr,b,r),Wr(n,kr,Mr,b,r)}}}};function Wr(t,e,o,i,n){var a,r;const l=t.elements.offset,s=t.elements.stride,c=l*(s/t.views.position.BYTES_PER_ELEMENT),d=l*(s/t.views.normal.BYTES_PER_ELEMENT),m=l*(s/t.views.localID.BYTES_PER_ELEMENT);t.views.position[c]=A+e[0],t.views.position[c+1]=A+e[1],t.views.position[c+2]=le(e[2]),t.views.normal[d]=je(o[0]),t.views.normal[d+1]=je(o[1]),t.views.normal[d+2]=je(o[2]),t.views.demPosition[c]=null!==(a=null==n?void 0:n[0])&&void 0!==a?a:e[0],t.views.demPosition[c+1]=null!==(r=null==n?void 0:n[1])&&void 0!==r?r:e[1],t.views.localID[m]=i,t.elements.offset++}function Pr(t){const e=t.indices.buffer,o=t.indices.offset,i=t.elements.offset;e[o]=i,e[o+1]=i+1,e[o+2]=i+2,t.indices.offset=o+3}const Hr=T(),jr=T(),Or=T(),Nr=T(),Lr=T(),Tr=[0,0,0];let Er=0,Br=0;const Dr={symbol:"roadPolygon",sinks:{},generate(t,e,o,i,n,a,r){const l=a[0],s=a[1];if(l.length<2)return;const c=Xt(n),d=gi(o.style.laneWidth,i,3.75),m=(((Number.isNaN(i.tileAttrs[i.tileProps.tech_db_road_left_lanes])?0:i.tileAttrs[i.tileProps.tech_db_road_left_lanes])+(Number.isNaN(i.tileAttrs[i.tileProps.tech_db_road_right_lanes])?0:i.tileAttrs[i.tileProps.tech_db_road_right_lanes]))/2||1)*d*(I/ae(n[2])*ut),p=function(t,e){const o=[];Pe(Hr,t[0],e[0],t[1],e[1]),Er=0;for(let i=1;i<t.length;i++)Rr(o,t,e,i);return o}(l,s),h=function(t,e,o,i,n){const a=[[],[],[]];if(t.length<2)return a;for(let r=0;r<t.length;r++){D(Nr,t[r],e[r]);const l=me(n,Nr);a[0].push(t[r]+o[r][0][0]*i*l),a[1].push(e[r]+o[r][0][1]*i*l),a[2].push(1),a[0].push(t[r]+o[r][1][0]*i*l),a[1].push(e[r]+o[r][1][1]*i*l),a[2].push(1)}return a}(l,s,p,m/2,c);h[2][0]=0,h[2][h[2].length-1]=0,Mi.generate(t,e,o,i,h,r)}};function Rr(t,e,o,i){const n=i===e.length-1;if(D(Or,e[i-1],o[i-1]),D(Nr,e[i],o[i]),Ne(Tr,Hr),n)Br=0;else{D(Lr,e[i+1],o[i+1]),Pe(jr,Nr[0],Nr[1],Lr[0],Lr[1]);const t=Ft(V(Hr,jr),-1,1),n=Math.sqrt((1-t)/(1+t)),a=wt(V(Tr,jr));Br=n*a}let a=Tr[0]+Hr[0]*Er,r=Tr[1]+Hr[1]*Er;t.push([[a,r],[-a,-r]]),n&&(a=Tr[0]+Hr[0]*Br,r=Tr[1]+Hr[1]*Br,t.push([[a,r],[-a,-r]])),n||(B(Hr,jr),Er=Br)}const Ur={arrow:oa,line:_n,polygon:Mi,roadPolygon:Dr,labelLine:rr,lineExtrusion:ha,polygonExtrusion:Co,oneWayLine:sr,dashedLine:Zn,shiftedLine:xn,circle:aa,buildingModel:Kn,gltfModel:Fr,point:Ya,raster:ua,heatmap:cr,dem:Ho,mesh:Ar};function Vr(t,e){const o=Ur[t];return o?o.sinks[e].stride:0}function Gr(t,e,o,i,n,a,r,s,c,d,m,p,h){o.forEach((o=>{if((void 0===a||!(o.maxzoom<=a||o.minzoom>=a+1&&a!==l.maxDetailLevel))&&(!i.tileProps.hovered||Number.isNaN(i.tileAttrs[i.tileProps.hovered])||1!==i.tileAttrs[i.tileProps.hovered]||"polygon"===o.type||"polygonExtrusion"===o.type||"point"===o.type))do{switch(o.type){case"line":_n.generate(t,e.id,o,i,d);break;case"dashedLine":Zn.generate(t,e.id,o,i,d);break;case"shiftedLine":xn.generate(t,e.id,o,i,d);break;case"polygon":Mi.generate(t,e,o,i,d,c,m);break;case"roadPolygon":Dr.generate(t,e,o,i,s,d,c);break;case"mesh":Ar.generate(t,e.id,o,i,d,s);break;case"polygonExtrusion":Co.generate(t,e.id,o,i,d,!0,m);break;case"labelLine":hr(t,e.id,o,s,r,i,d);break;case"oneWayLine":ur(t,e.id,o,s,r,i,d);break;case"point":Gi(t,e,o,i,n,s,r,d,c,p,void 0);break;case"lineExtrusion":ha.generate(t,e.id,o,i,d);break;case"arrow":oa.generate(t,e.id,o,i,d);break;case"heatmap":cr.generate(t,e.id,o,d,i);break;case"gltfModel":o.style.useThreeJs?Fr.generate(t,e,o,i,d,s):Fr.generateInstanced(t,e,o,i,d,s,h);break}}while(t.isOverloaded())}))}const qr=.8;class Yr{constructor(t,e){this.offset=0,this.stride=e,this.buffer=new ArrayBuffer(t),this.view=new Int32Array(this.buffer),this.comittedOffsets=0,this.watermark=t/e*qr}extend(){const t=2*this.buffer.byteLength;this.watermark=t/this.stride*qr;const e=new ArrayBuffer(t),o=new Int32Array(e);return o.set(this.view),this.buffer=e,this.view=o,e}}class $r{constructor(t){this.offset=0,this.buffer=new Int32Array(t),this.comittedOffsets=0,this.watermark=t*qr}extend(){const t=2*this.buffer.length;this.watermark=t*qr;const e=new Int32Array(t);e.set(this.buffer),this.buffer=e}}class Zr{constructor(t,e,o,i,n){this.drawMode=n;const a="buildingModel"!==t?67200:336e3,r=Vr(t,e);this.elements=new Yr(a,r),this.indices=new $r(2*a/r),this.views={},this.binder=i,i(this,this.elements.buffer),this.attributes=o}resetOffsets(){this.elements.offset=0,this.elements.comittedOffsets=0,this.indices.offset=0,this.indices.comittedOffsets=0}commit(){this.elements.comittedOffsets=this.elements.offset,this.indices.comittedOffsets=this.indices.offset}rollback(){this.elements.offset=this.elements.comittedOffsets,this.indices.offset=this.indices.comittedOffsets}checkWatermarks(){let t=0;const e=this.elements;e.offset>e.watermark&&(e.offset>=e.buffer.byteLength/e.stride&&(t=1),this.binder(this,e.extend()));const o=this.indices;return o.offset>o.watermark&&(o.offset>=o.buffer.length&&(t=1),o.extend()),t}}const Xr=Kr;function Kr(t,e,o){o=o||{},this.w=t||64,this.h=e||64,this.autoResize=!!o.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function Jr(t,e,o){this.x=0,this.y=t,this.w=this.free=e,this.h=o}function Qr(t,e,o,i,n,a,r){this.id=t,this.x=e,this.y=o,this.w=i,this.h=n,this.maxw=a||i,this.maxh=r||n,this.refcount=0}Kr.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var o,i,n,a,r=[],l=0;l<t.length;l++)if(o=t[l].w||t[l].width,i=t[l].h||t[l].height,n=t[l].id,o&&i){if(!(a=this.packOne(o,i,n)))continue;e.inPlace&&(t[l].x=a.x,t[l].y=a.y,t[l].id=a.id),r.push(a)}return this.shrink(),r},Kr.prototype.packOne=function(t,e,o){var i,n,a,r,l,s,c,d,m={freebin:-1,shelf:-1,waste:1/0},p=0;if("string"==typeof o||"number"==typeof o){if(i=this.getBin(o))return this.ref(i),i;"number"==typeof o&&(this.maxId=Math.max(o,this.maxId))}else o=++this.maxId;for(r=0;r<this.freebins.length;r++){if(e===(i=this.freebins[r]).maxh&&t===i.maxw)return this.allocFreebin(r,t,e,o);e>i.maxh||t>i.maxw||e<=i.maxh&&t<=i.maxw&&(a=i.maxw*i.maxh-t*e)<m.waste&&(m.waste=a,m.freebin=r)}for(r=0;r<this.shelves.length;r++)if(p+=(n=this.shelves[r]).h,!(t>n.free)){if(e===n.h)return this.allocShelf(r,t,e,o);e>n.h||e<n.h&&(a=(n.h-e)*t)<m.waste&&(m.freebin=-1,m.waste=a,m.shelf=r)}return-1!==m.freebin?this.allocFreebin(m.freebin,t,e,o):-1!==m.shelf?this.allocShelf(m.shelf,t,e,o):e<=this.h-p&&t<=this.w?(n=new Jr(p,this.w,e),this.allocShelf(this.shelves.push(n)-1,t,e,o)):this.autoResize?(l=s=this.h,((c=d=this.w)<=l||t>c)&&(d=2*Math.max(t,c)),(l<c||e>l)&&(s=2*Math.max(e,l)),this.resize(d,s),this.packOne(t,e,o)):null},Kr.prototype.allocFreebin=function(t,e,o,i){var n=this.freebins.splice(t,1)[0];return n.id=i,n.w=e,n.h=o,n.refcount=0,this.bins[i]=n,this.ref(n),n},Kr.prototype.allocShelf=function(t,e,o,i){var n=this.shelves[t].alloc(e,o,i);return this.bins[i]=n,this.ref(n),n},Kr.prototype.shrink=function(){if(this.shelves.length>0){for(var t=0,e=0,o=0;o<this.shelves.length;o++){var i=this.shelves[o];e+=i.h,t=Math.max(i.w-i.free,t)}this.resize(t,e)}},Kr.prototype.getBin=function(t){return this.bins[t]},Kr.prototype.ref=function(t){if(1==++t.refcount){var e=t.h;this.stats[e]=1+(0|this.stats[e])}return t.refcount},Kr.prototype.unref=function(t){return 0===t.refcount?0:(0==--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},Kr.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},Kr.prototype.resize=function(t,e){this.w=t,this.h=e;for(var o=0;o<this.shelves.length;o++)this.shelves[o].resize(t);return!0},Jr.prototype.alloc=function(t,e,o){if(t>this.free||e>this.h)return null;var i=this.x;return this.x+=t,this.free-=t,new Qr(o,i,this.y,t,e,t,this.h)},Jr.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0};class tl{constructor(){this.packer=new Xr(c[0],c[1]),this.currentAtlasIndex=0,this.packedRasters=[],this.rastersToLoad=[],this.newRasterSets=new Map}addNewRasterSet(t,e){let o=this.newRasterSets.get(t);o||(o=[],this.newRasterSets.set(t,o)),o.push(e)}pack(t,e,o){t.isSvg?this.packSvg(t,e.map((t=>({w:t,h:t}))),o):this.packPng(t,e,o)}packSvg(t,e,o){const{rasters:i}=t,n=new Set;for(const{w:t,h:e}of i)n.add(`${t}_${e}`);for(const a of e){const e=a.w*o,r=a.h*o;if(n.has(`${e}_${r}`))continue;let l=this.packer.packOne(e+2,r+2);null===l&&(this.packer=new Xr(c[0],c[1]),this.currentAtlasIndex++,l=this.packer.packOne(e+2,r+2));const s=i.length,d={rasterSetIndex:t.index,rasterIndex:s,w:e,h:r,x:l.x+1,y:l.y+1,anchorX:t.anchorX,anchorY:t.anchorY,atlasIndex:this.currentAtlasIndex,isPacked:!0};i.push(d),this.packedRasters.push(t.index,s,d.x,d.y,d.w,d.h,this.currentAtlasIndex)}}addRastersToLoad(t,e){this.rastersToLoad.push(t,e.rasterSetIndex,e.rasterIndex)}getNewRasterSets(){const t=this.newRasterSets;return this.newRasterSets=new Map,t}getPackedRasters(){if(0===this.packedRasters.length)return;const t=new Uint16Array(this.packedRasters);return this.packedRasters=[],t}getRastersToLoad(){const t=new Float64Array(this.rastersToLoad);return this.rastersToLoad=[],t}packPng(t,e,o){const{rasters:i}=t;for(const n of e){const e=Ni(i,n*o,!1);if(void 0===e)continue;const a=t.rasters[e];if(a.isPacked)continue;let r=this.packer.packOne(a.w+2,a.h+2);null===r&&(this.packer=new Xr(c[0],c[1]),this.currentAtlasIndex++,r=this.packer.packOne(a.w+2,a.h+2)),a.x=r.x+1,a.y=r.y+1,a.atlasIndex=this.currentAtlasIndex,a.isPacked=!0,this.packedRasters.push(t.index,e,a.x,a.y,a.w,a.h,this.currentAtlasIndex)}}}class el{constructor(t={}){this.map=t}set(t,e){let o=this.map[t.lo];void 0===o&&(o=this.map[t.lo]={}),o[t.hi]=e}get(t){if(void 0!==this.map[t.lo])return this.map[t.lo][t.hi]}serialize(){return this.map}forEach(t){for(const e in this.map)for(const o in this.map[e])t(this.map[e][o],he(Number(e),Number(o)))}clear(){this.map={}}}class ol{constructor(t){this.atlasPacker=new tl,this.geoIds=new Uint32Array(0),this.floorHidingMap=new el,this.modelsToLoad=new Set,this.dataModels=new Map,this.dataModelsIndex=0,this.addedBuckets=[],this.labels=[],this.idIndexer=new go(t),this.buckets={},this.reset()}reset(){this.buckets={},this.addedBuckets=[],this.geoIds=new Uint32Array(0),this.floorHidingMap.clear(),this.labels=[],this.modelsToLoad.clear()}addLabel(t){this.labels.push(t)}addModelToLoad(t){this.modelsToLoad.add(t)}addModelToLoadByUrl(t){const e=this.dataModels.get(t);if(e)return e;this.dataModelsIndex++;const o=-this.dataModelsIndex;return this.dataModels.set(t,o),o}getDataModelUrl(t){let e;return this.dataModels.forEach(((o,i)=>{o===t&&(e=i)})),e}getBucket(t,e,o,i,n=4){let a=this.buckets[t];void 0===a&&(a={},this.buckets[t]=a);let r=a[e];void 0===r&&(r=a[e]=[]);for(let t=r.length-1;t>=0;t--){const e=r[t];if(yo(o,e.attributes))return this.addedBuckets.push(e),e}const l=new Zr(t,e,o,i,n);return r.push(l),this.addedBuckets.push(l),l}isOverloaded(){const t=this.addedBuckets;let e=0,o=0;for(;o<t.length;)e+=t[o++].checkWatermarks();const i=e>0;if(i)for(;o--;)t[o].rollback();else for(;o--;)t[o].commit();return t.length=0,i}setGeoIds(t){this.geoIds=t}addFloorHidingMap(t,e){let o=this.floorHidingMap.get(e);void 0===o&&(o=[]),o.push(t.lo,t.hi),this.floorHidingMap.set(e,o)}getAccumulatedData(){const t=this.buckets,e=[],o=[];for(const i in t){const n=i,a=t[n];if(a)for(const t in a){const i=t,r=a[i];if(!r)continue;const l=Vr(n,i)/4;let s=0;for(let t=0;t<r.length;t++)s+=r[t].indices.offset;if(0===s)continue;const c=[],d=new Int32Array(s*l);let m=0;for(let t=0;t<r.length;t++){const e=r[t],{elements:o,indices:i,attributes:n}=e,{view:a}=o,{buffer:s}=i;if(0===o.offset)continue;const p=m;for(let t=0;t<i.offset;t++){const e=s[t]*l;for(let t=0;t<l;t++)d[m++]=a[e+t]}c.push({attributes:n,drawMode:e.drawMode,rangeStart:4*p,rangeEnd:4*m}),e.resetOffsets()}e.push({symbol:n,sink:i,buffer:d.buffer,generatedObjects:c}),o.push(d.buffer)}}const i=this.idIndexer.getPacked();o.push(i.idBuffer,i.phaseBuffer,i.floorIdBuffer);const n=this.atlasPacker.getPackedRasters();void 0!==n&&o.push(n.buffer);const a=this.atlasPacker.getRastersToLoad();o.push(a.buffer);const r=new Int32Array(this.modelsToLoad);o.push(r.buffer),this.modelsToLoad=new Set;const l=new Uint32Array(this.geoIds);o.push(l.buffer);const s=this.floorHidingMap.serialize();this.floorHidingMap.clear();const c=this.labels;return this.labels=[],{data:e,labels:c,geoIds:l,floorHidingMap:s,packedRasters:n,rastersToLoad:a,modelsToLoad:r,identifyIds:i,transferable:o}}}function il(t,e){const o=new XMLHttpRequest;if(o.open("GET",t.url,!0),o.responseType="arraybuffer",t.headers)for(const e in t.headers)o.setRequestHeader(e,t.headers[e]);return o.onerror=function(){e({status:0,message:"Network error"},new ArrayBuffer(0))},o.onload=function(){o.status>=200&&o.status<300&&o.response?e(void 0,o.response):e({status:o.status,message:o.statusText},new ArrayBuffer(0))},o.send(),o}function nl(t,e){const o=new XMLHttpRequest;if(o.open("GET",t.url,!0),t.headers)for(const e in t.headers)o.setRequestHeader(e,t.headers[e]);return o.onerror=function(){e({status:0,message:"Network error"},{})},o.onload=function(){if(0===o.response.byteLength&&200===o.status)return e({status:0,message:"No content"},{});if(o.status>=200&&o.status<300&&o.response&&o.response.length){let i;try{i=JSON.parse(o.response),e(void 0,i)}catch(o){e({status:0,message:`Json parse data error from url ${t.url}`},{})}}else e({status:o.status,message:o.statusText},{})},o.send(),o}var al,rl,ll=o(7721);!function(t){t[t.Main=0]="Main",t[t.Parser=1]="Parser",t[t.Labeling=2]="Labeling",t[t.All=3]="All"}(al||(al={})),function(t){t[t.FunctionUse=0]="FunctionUse",t[t.FunctionResult=1]="FunctionResult"}(rl||(rl={}));class sl{constructor(){this.events={}}on(t,e){let o=this.events[t];return o||(o=this.events[t]=[]),o.push(e),this}once(t,e){const o=i=>{this.off(t,o),e.call(this,i)};return this.on(t,o),this}off(t,e){const o=this.events[t];if(!o)return this;const i=o.indexOf(e);return-1!==i&&o.splice(i,1),this}emit(t,e){const o=this.events[t];if(!o)return this;const i=o.slice();for(let t=0;t<i.length;t++)i[t].call(this,e);return this}}class cl extends sl{constructor(t){super(),this.worker=t,t.addEventListener("message",(t=>{const e=t.data;this.emit("message",e)}))}send(t,e,o){const i={to:t,msg:e,transferable:o};this.worker.postMessage(i,o)}broadcast(t){const e={to:al.All,msg:t};this.worker.postMessage(e)}}class dl{constructor(t){this.onMessage=t=>{const{from:e,msg:o}=t;switch(o.type){case rl.FunctionUse:this.onFunctionUse(o,e);break;case rl.FunctionResult:this.onFunctionResult(o)}},this.connector=t,this.functions=new Map,this.functionIdCounter=0,this.pendingFunctions=new Map,t.on("message",this.onMessage)}set(t,e){this.functions.set(t,e)}get(t,e){return(...o)=>{const i=this.functionIdCounter++,n=new Promise((t=>{this.pendingFunctions.set(i,t)})),a={type:rl.FunctionUse,data:{id:i,name:e,args:o}};return this.connector.send(t,a),n}}onFunctionUse(t,e){const{data:{name:o,args:i,id:n}}=t,a=this.functions.get(o);if(a){const t=a(...i);t&&t.then?Promise.resolve(t).then((t=>this.sendFunctionResult(e,n,t))):this.sendFunctionResult(e,n,t)}else console.error(`FnRegistry#onFunctionUse: function ${o} not found`)}sendFunctionResult(t,e,o){const i={type:rl.FunctionResult,data:{id:e,result:o}};o&&o.transferable?this.connector.send(t,i,o.transferable):this.connector.send(t,i)}onFunctionResult(t){const{data:{id:e,result:o}}=t,i=this.pendingFunctions.get(e);i?(i(o),this.pendingFunctions.delete(e)):console.error(`FnRegistry#onFunctionResult: pending function ${e} not found`)}}let ml=[];class pl{constructor(){this.cache=new Map,this.pendingRequests=new Map}fetch(t,e,o,i,n){return new Promise((a=>{const r=function(t,e,o,i,n){const a=Math.pow(2,t[2])-1,r=t[0],l=(a-t[1]&16777215)*(1<<24)+(16777215&r);return Dt(m,{protocol:n,host:i,z:String(t[2]),tiles:String(l),regions:e.join(","),time:String(o)})}(t,i,n,e,o),l=Kt(t),s=nl({url:r},((t,e)=>{if(this.pendingRequests.delete(l),void 0!==t)return 204!==t.status&&console.error(t),this.cache.set(l,void 0),void a();const o=e[0];o?this.cache.set(l,o):this.cache.set(l,void 0),a()}));this.pendingRequests.set(l,{xhr:s,resolve:a})}))}get(t){return this.cache.get(t)}delete(t){this.cache.delete(t)}abortRequest(t){const e=this.pendingRequests.get(t);void 0!==e&&(e.xhr.abort(),e.resolve(),this.pendingRequests.delete(t))}}function hl(t){return"boolean"!=typeof t&&"attrs"===t.type}function ul(t){return"boolean"!=typeof t&&"unextractable"===t.type}function gl(t){if(!Uo(t))return[Boolean(t)];let e=[];const o=[];switch(t.type){case"all":const i=t.array.map(gl);for(const t of i){const i=[];for(const e of t){if(!1===e)return[!1];hl(e)?i.push(e):ul(e)&&o.push(e)}i.length>0&&(e=0===e.length?i:fl(e,i))}break;case"match":if(!Yo(t.input))return[{type:"unextractable",exp:t}];const n=t.input.property,a=t.defaultOutput;for(const i of t.cases){const t=gl(i.output),r=[];i.values.forEach((t=>{r.push({type:"attrs",attrs:{[n]:t}})}));for(const i of t)if(hl(i))for(const t of fl([i],r))e.push(t);else if(ul(i)){o.push(i);for(const t of r)e.push(t)}else if(!0===i&&!a)for(const t of r)e.push(t)}break;case"==":{let o,i;if(Yo(t.leftValue)&&qo(t.rightValue))o=t.leftValue.property,i=t.rightValue;else{if(!Yo(t.rightValue)||!qo(t.leftValue))return[{type:"unextractable",exp:t}];o=t.rightValue.property,i=t.leftValue}e.push({type:"attrs",attrs:{[o]:i}});break}default:return[{type:"unextractable",exp:t}]}return e.concat(o)}function fl(t,e){const o=[];for(const i of t)for(const t of e)o.push({type:"attrs",attrs:Object.assign(Object.assign({},i.attrs),t.attrs)});return o}class bl{constructor(){this.layers=[],this.keyStat={},this.orderedKeys=[],this.tree=null,this.treeNodesCount=0,this.traverseCount=0,this.traverseIterations=0}addLayers(t){for(const e of t)"custom"!==e.type&&e.filter&&(this.layers.push(e),this.statLayerKeys(e));this.buildTree()}getLayers(t,e){const o=[],i=(n,a)=>{if(this.traverseIterations+=1,!n)return;for(const t of n.leafs)o.push(t);const r=this.orderedKeys[a];if(!r)return;const l=e[t[r]],s=ue(l)?fe(l):l;void 0!==s?(i(n.children[s],a+1),i(n.novalue,a+1)):i(n.novalue,a+1)};return this.traverseCount+=1,i(this.tree,0),o}stat(){const t=this.traverseIterations/this.traverseCount||0;return{tree:this.tree,treeNodes:this.treeNodesCount,layers:this.layers.length,keyStat:this.keyStat,itersPerTraverse:t}}statLayerKeys(t){const e=gl(t.filter).filter((t=>hl(t)))[0];if(e&&hl(e))for(const t in e.attrs)void 0===this.keyStat[t]&&(this.keyStat[t]=0),this.keyStat[t]+=1}getOrderedKeys(){return Object.entries(this.keyStat).sort((([t,e],[o,i])=>i-e)).map((([t,e])=>t))}buildTree(){this.orderedKeys=this.getOrderedKeys();const t=[];for(const e of this.layers){const o=gl(e.filter).filter(hl);0===o.length&&t.push(e);for(const t of o){const o=new Set(Object.keys(t.attrs));let i=0;const n=t.attrs;let a=this.tree;for(let t=0;t<=this.orderedKeys.length;t++){if(i===o.size){null==a||a.leafs.push(e);break}const r=this.orderedKeys[t],l=this.orderedKeys[t+1]||"";if(a||(a=this.makeTreeNode(r),null===this.tree&&(this.tree=a)),o.has(r)){const t=n[r];a.children[t]||(a.children[t]=this.makeTreeNode(l)),a=a.children[t],i+=1}else a.novalue||(a.novalue=this.makeTreeNode(l)),a=a.novalue}}}t.length>0&&(this.tree||(this.tree=this.makeTreeNode("")),this.tree.leafs=t)}makeTreeNode(t){return this.treeNodesCount+=1,{key:t,children:{},novalue:null,leafs:[]}}}class yl{constructor(){this.metaStyles=new Map,this.layerTrees=new Map}proxySyncStyle(t){const e=new bl;e.addLayers(t.layers),this.layerTrees.set(t.id,e),this.metaStyles.set(t.id,t)}getStyle(t){return this.metaStyles.get(t)}getLayers(t,e,o){const i=this.layerTrees.get(t);return i?i.getLayers(e,o):[]}}class _l extends class{constructor(){this.dictionaries={},this.reverseDictionaries={},this.version="",this.defaultProps={},this.tileProps=Nt,this.tilePropsByIndex=Mt(Nt),this.hash=-3}}{constructor(t){super(),this.obClassEnumIndex=0,this.sublayerEnumIndex=0,this.workerParserSyncMetatile=t.get(al.Main,"syncMetatile")}addData(t){this.dictionaries.db_sublayer||(this.dictionaries.db_sublayer={},this.reverseDictionaries.db_sublayer={}),t.sublayers.forEach((t=>{if(void 0===this.dictionaries.db_sublayer[t]){const e=this.sublayerEnumIndex++;this.dictionaries.db_sublayer[t]=e,this.reverseDictionaries.db_sublayer[e]=t}})),this.dictionaries.db_object_class||(this.dictionaries.db_object_class={},this.reverseDictionaries.db_object_class={}),t.objectClasses.forEach((t=>{if(void 0===this.dictionaries.db_object_class[t]){const e=this.obClassEnumIndex++;this.dictionaries.db_object_class[t]=e,this.reverseDictionaries.db_object_class[e]=t}})),this.workerParserSyncMetatile({dictionaries:this.dictionaries,reverseDictionaries:this.reverseDictionaries})}}class xl{constructor(t){this.fnRegistry=t,this.onClassCreate=({id:t,name:e,args:o})=>{const i=this.classes.get(e);if(!i)return void console.error(`ClassRegistry#onClassCreate: class ${e} not found`);const n=i.scope?new i.ClassConstructor(i.scope,...o):new i.ClassConstructor(...o);i.hosts.set(t,n)},this.onMethodUse=({id:t,name:e,method:o,args:i})=>{const n=this.classes.get(e);if(!n)return void console.error(`ClassRegistry#onMethodUse: class ${e} not found`);const a=n.hosts.get(t);if(a){if(a[o])return"destroy"===o&&n.hosts.delete(t),a[o](...i);console.error(`ClassRegistry#onMethodUse: method ${o} in instance ${t} in class ${e} not found`)}else console.error(`ClassRegistry#onMethodUse: instance ${t} in class ${e} not found`)},this.classes=new Map,this.idCounter=0,this.fnRegistry.set("createClass",this.onClassCreate),this.fnRegistry.set("classMethodUse",this.onMethodUse)}set(t,e,o){const i=this,n={ClassConstructor:e,hosts:new Map,proxies:new Map,scope:o};return this.classes.set(t,n),{get:o=>{class n{constructor(...e){this.id=i.idCounter++,i.fnRegistry.get(o,"createClass")({id:this.id,args:e,name:t})}}return Object.getOwnPropertyNames(e.prototype).forEach((e=>{"constructor"!==e&&(n.prototype[e]=function(...n){return i.fnRegistry.get(o,"classMethodUse")({id:this.id,name:t,method:e,args:n})})})),n}}}}const vl={point:{point:!0,heatmap:!0,gltfModel:!0},polygon:{polygon:!0,polygonExtrusion:!0,mesh:!0},line:{line:!0,lineExtrusion:!0,labelLine:!0,dashedLine:!0,oneWayLine:!0}};function zl(t,e){const o=new Set(e[0].map(((o,i)=>e[0][i]===t[0]&&t[1]===e[1][i]?i:-1)));return Array.from(o)}function Cl(t,e){const o=zl([t[0][0],t[1][0]],e),i=zl([t[0][1],t[1][1]],e),n=zl([t[0][2],t[1][2]],e);o.forEach((e=>i.forEach((o=>n.forEach((i=>{!function(t,e,o,i){e>=0&&o>=0&&1===Math.abs(e-o)&&(t[2][0]=1),o>=0&&i>=0&&1===Math.abs(o-i)&&(t[2][1]=1),e>=0&&i>=0&&1===Math.abs(e-i)&&(t[2][2]=1)}(t,e,o,i)}))))))}var Fl,wl,Sl,Il;!function(t){t[t.Stationary=0]="Stationary",t[t.ZoomingIn=1]="ZoomingIn",t[t.ZoomingOut=2]="ZoomingOut"}(Fl||(Fl={})),function(t){t[t.ByOne=0]="ByOne",t[t.WaitingLayer=1]="WaitingLayer",t[t.GlobalWaiting=2]="GlobalWaiting"}(wl||(wl={})),function(t){t[t.Tile=0]="Tile",t[t.Custom=1]="Custom"}(Sl||(Sl={}));class kl{constructor(t,e,o=!1){this.elementsType=null,this._glBuffer=null,this._glContext=null,this._initData=t,this.byteLength="number"==typeof t?t:t.byteLength,this.type=o?kl.ElementArrayBuffer:kl.ArrayBuffer,this.options=Object.assign({},kl.defaultOptions,e),this.drawType=this.options.instanceDivisor?kl.DynamicDraw:kl.StaticDraw;const i=[kl.UnsignedByte,kl.UnsignedShort,kl.UnsignedInt];o&&!i.includes(this.options.dataType)&&(console.warn("Please provide dataType of one of the following values:Buffer.UnsignedByte, Buffer.UnsignedShort, Buffer.UnsignedInt. Defaulting to UnsignedInt"),this.options.dataType=kl.UnsignedInt)}bind(t,e,o,i){if(this._glBuffer||this.prepare(t),this.type===kl.ArrayBuffer){t.bindBuffer(t.ARRAY_BUFFER,this._glBuffer),e=e||0,o=o||this.options;const n=this._toGlParam(t,o.dataType)||t.FLOAT;t.vertexAttribPointer(e,o.itemSize,n,o.normalized,o.stride,o.offset),this._hasRealWebGLContext()&&o.instanceDivisor&&(t instanceof WebGLRenderingContext?i?i.vertexAttribDivisorANGLE(e,o.instanceDivisor):console.error("Can't set up instanced attribute divisor. Missing ANGLE_instanced_arrays extension"):t.vertexAttribDivisor(e,o.instanceDivisor))}else this.type===kl.ElementArrayBuffer&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._glBuffer);return this}remove(){return this._unprepare(),this}subData(t,e,o){const i=this._toGlParam(t,this.type)||t.ARRAY_BUFFER;return t.bindBuffer(i,this._glBuffer),t.bufferSubData(i,e,o),this}prepare(t){this._glContext=t,this._glBuffer=t.createBuffer();const e=this._toGlParam(t,this.type)||t.ARRAY_BUFFER,o=this._toGlParam(t,this.drawType)||t.STATIC_DRAW;return t.bindBuffer(e,this._glBuffer),t.bufferData(e,this._initData,o),this._initData=null,this}getGLType(t){return this._toGlParam(t,this.options.dataType)}_unprepare(){this._glBuffer&&this._glContext&&(this._glContext.deleteBuffer(this._glBuffer),this._glBuffer=null,this._glContext=null)}_toGlParam(t,e){return e===kl.ArrayBuffer?t.ARRAY_BUFFER:e===kl.ElementArrayBuffer?t.ELEMENT_ARRAY_BUFFER:e===kl.StaticDraw?t.STATIC_DRAW:e===kl.DynamicDraw?t.DYNAMIC_DRAW:e===kl.Byte?t.BYTE:e===kl.Short?t.SHORT:e===kl.Int?t.INT:e===kl.Float?t.FLOAT:e===kl.UnsignedByte?t.UNSIGNED_BYTE:e===kl.UnsignedShort?t.UNSIGNED_SHORT:e===kl.UnsignedInt?t.UNSIGNED_INT:null}_hasRealWebGLContext(){return"undefined"!=typeof window&&("WebGLRenderingContext"in window||"WebGL2RenderingContext"in window)}}function Ml(t,e,o,i){return e+o/i*t}Il=kl,kl.ArrayBuffer=1,kl.ElementArrayBuffer=2,kl.StaticDraw=10,kl.DynamicDraw=11,kl.Float=20,kl.UnsignedByte=21,kl.UnsignedShort=22,kl.UnsignedInt=23,kl.Byte=24,kl.Short=25,kl.Int=26,kl.defaultOptions={itemSize:3,dataType:Il.Float,stride:0,offset:0,normalized:!1,instanceDivisor:0};const Al=o(6636)(.25,.1,.25,1);function Wl(t,e,o,i){return e+o*Al(t/i)}function Pl(t,e,o,i){return o*(t/=i)*t+e}function Hl(t,e,o,i){return-o*(t/=i)*(t-2)+e}function jl(t,e,o,i){return(t/=i/2)<1?o/2*t*t+e:-o/2*(--t*(t-2)-1)+e}function Ol(t,e,o,i){return o*(t/=i)*t*t+e}function Nl(t,e,o,i){return o*((t=t/i-1)*t*t+1)+e}function Ll(t,e,o,i){return(t/=i/2)<1?o/2*t*t*t+e:o/2*((t-=2)*t*t+2)+e}function Tl(t,e,o,i){return o*(t/=i)*t*t*t+e}function El(t,e,o,i){return-o*((t=t/i-1)*t*t*t-1)+e}function Bl(t,e,o,i){return(t/=i/2)<1?o/2*t*t*t*t+e:-o/2*((t-=2)*t*t*t-2)+e}function Dl(t,e,o,i){return o*(t/=i)*t*t*t*t+e}function Rl(t,e,o,i){return o*((t=t/i-1)*t*t*t*t+1)+e}function Ul(t,e,o,i){return(t/=i/2)<1?o/2*t*t*t*t*t+e:o/2*((t-=2)*t*t*t*t+2)+e}function Vl(t,e,o,i){return-o*Math.cos(t/i*(Math.PI/2))+o+e}function Gl(t,e,o,i){return o*Math.sin(t/i*(Math.PI/2))+e}function ql(t,e,o,i){return-o/2*(Math.cos(Math.PI*t/i)-1)+e}function Yl(t,e,o,i){return 0==t?e:o*Math.pow(2,10*(t/i-1))+e}function $l(t,e,o,i){return t==i?e+o:o*(1-Math.pow(2,-10*t/i))+e}function Zl(t,e,o,i){return 0==t?e:t==i?e+o:(t/=i/2)<1?o/2*Math.pow(2,10*(t-1))+e:o/2*(2-Math.pow(2,-10*--t))+e}function Xl(t,e,o,i){return-o*(Math.sqrt(1-(t/=i)*t)-1)+e}function Kl(t,e,o,i){return o*Math.sqrt(1-(t=t/i-1)*t)+e}function Jl(t,e,o,i){return(t/=i/2)<1?-o/2*(Math.sqrt(1-t*t)-1)+e:o/2*(Math.sqrt(1-(t-=2)*t)+1)+e}function Ql(t,e,o,i){var n=1.70158,a=0,r=o;if(0==t)return e;if(1==(t/=i))return e+o;if(a||(a=.3*i),r<Math.abs(o)){r=o;n=a/4}else n=a/(2*Math.PI)*Math.asin(o/r);return-r*Math.pow(2,10*(t-=1))*Math.sin((t*i-n)*(2*Math.PI)/a)+e}function ts(t,e,o,i){var n=1.70158,a=0,r=o;if(0==t)return e;if(1==(t/=i))return e+o;if(a||(a=.3*i),r<Math.abs(o)){r=o;n=a/4}else n=a/(2*Math.PI)*Math.asin(o/r);return r*Math.pow(2,-10*t)*Math.sin((t*i-n)*(2*Math.PI)/a)+o+e}function es(t,e,o,i){var n=1.70158,a=0,r=o;if(0==t)return e;if(2==(t/=i/2))return e+o;if(a||(a=i*(.3*1.5)),r<Math.abs(o)){r=o;n=a/4}else n=a/(2*Math.PI)*Math.asin(o/r);return t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*i-n)*(2*Math.PI)/a)*-.5+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*i-n)*(2*Math.PI)/a)*.5+o+e}function os(t,e,o,i,n){return null==n&&(n=1.70158),o*(t/=i)*t*((n+1)*t-n)+e}function is(t,e,o,i,n){return null==n&&(n=1.70158),o*((t=t/i-1)*t*((n+1)*t+n)+1)+e}function ns(t,e,o,i,n){return null==n&&(n=1.70158),(t/=i/2)<1?o/2*(t*t*((1+(n*=1.525))*t-n))+e:o/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e}function as(t,e,o,i){return(t/=i)<1/2.75?o*(7.5625*t*t)+e:t<2/2.75?o*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?o*(7.5625*(t-=2.25/2.75)*t+.9375)+e:o*(7.5625*(t-=2.625/2.75)*t+.984375)+e}function rs(t,e,o,i){return o*(1-Math.pow(1-t/i,g+1))+e}var ls,ss;!function(t){t[t.Initial=0]="Initial",t[t.Loading=1]="Loading",t[t.Loaded=2]="Loaded",t[t.Generating=3]="Generating",t[t.Generated=4]="Generated"}(ls||(ls={}));!function(t){t[t.Initial=0]="Initial",t[t.Loading=1]="Loading",t[t.Loaded=2]="Loaded"}(ss||(ss={}));function cs(t,e,o,i,n=2){const a=n+1;let r=i;const l=o-e>>1;let s,c=o-e;const d=t[e],m=t[e+1],p=t[o],h=t[o+1];for(let i=e+a;i<o;i+=a){const e=ds(t[i],t[i+1],d,m,p,h);if(e>r)s=i,r=e;else if(e===r){const t=Math.abs(i-l);t<c&&(s=i,c=t)}}r>i&&(s-e>a&&cs(t,e,s,i,n),t[s+2]=r,o-s>a&&cs(t,s,o,i,n))}function ds(t,e,o,i,n,a){let r=n-o,l=a-i;if(0!==r||0!==l){const s=((t-o)*r+(e-i)*l)/(r*r+l*l);s>1?(o=n,i=a):s>0&&(o+=r*s,i+=l*s)}return r=t-o,l=e-i,r*r+l*l}function ms(t,e,o,i,n,a=3){const r={id:null==t?null:t,index:n,type:e,geometry:o,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if("Point"===e||"MultiPoint"===e||"LineString"===e)ps(r,o,a);else if("Polygon"===e)ps(r,o[0],a);else if("MultiLineString"===e)for(const t of o)ps(r,t,a);else if("MultiPolygon"===e)for(const t of o)ps(r,t[0],a);return r}function ps(t,e,o=3){for(let i=0;i<e.length;i+=o)t.minX=Math.min(t.minX,e[i]),t.minY=Math.min(t.minY,e[i+1]),t.maxX=Math.max(t.maxX,e[i]),t.maxY=Math.max(t.maxY,e[i+1])}function hs(t,e,o,i){if(!e.geometry)return;const n=e.geometry.coordinates,a=e.geometry.type,r=Math.pow(o.tolerance/((1<<o.maxZoom)*o.extent),2);let l=[],s=e.id;if(o.promoteId?s=e.properties[o.promoteId]:o.generateId&&(s=i||0),"Point"===a)us(n,l,o.dimensions);else if("MultiPoint"===a)for(const t of n)us(t,l,o.dimensions);else if("LineString"===a)gs(n,l,r,!1,o.dimensions);else if("MultiLineString"===a){if(o.lineMetrics){for(const a of n)l=[],gs(a,l,r,!1,o.dimensions),t.push(ms(s,"LineString",l,e.properties,i,o.dimensions+1));return}fs(n,l,r,!1,o.dimensions)}else if("Polygon"===a)fs(n,l,r,!0,o.dimensions);else{if("MultiPolygon"!==a){if("GeometryCollection"===a){for(const n of e.geometry.geometries)hs(t,{id:s,geometry:n,properties:e.properties},o,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const t of n){const e=[];fs(t,e,r,!0,o.dimensions),l.push(e)}}t.push(ms(s,a,l,e.properties,i,o.dimensions+1))}function us(t,e,o=2){e.push(bs(t[0]),ys(t[1]),0);for(let i=2;i<o;i++)e.push(t[i])}function gs(t,e,o,i,n=2){let a,r,l=0;for(let o=0;o<t.length;o++){const s=bs(t[o][0]),c=ys(t[o][1]);e.push(s,c,0);for(let i=2;i<n;i++)e.push(t[o][i]);o>0&&(l+=i?(a*c-s*r)/2:Math.sqrt(Math.pow(s-a,2)+Math.pow(c-r,2))),a=s,r=c}const s=e.length-(n+1);e[2]=1,cs(e,0,s,o,n),e[s+2]=1,e.size=Math.abs(l),e.start=0,e.end=e.size}function fs(t,e,o,i,n=2){for(let a=0;a<t.length;a++){const r=[];gs(t[a],r,o,i,n),e.push(r)}}function bs(t){return t/360+.5}function ys(t){const e=Math.sin(t*Math.PI/180),o=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return o<0?0:o>1?1:o}function _s(t,e,o,i,n,a,r,l){const s=(void 0===l.dimensions?2:l.dimensions)+1;if(i/=e,a>=(o/=e)&&r<i)return t;if(r<o||a>=i)return null;const c=[];for(const e of t){const t=e.geometry;let a=e.type;const r=0===n?e.minX:e.minY,d=0===n?e.maxX:e.maxY;if(r>=o&&d<i){c.push(e);continue}if(d<o||r>=i)continue;let m=[];if("Point"===a||"MultiPoint"===a)xs(t,m,o,i,n,s);else if("LineString"===a)vs(t,m,o,i,n,!1,l.lineMetrics,s);else if("MultiLineString"===a)Cs(t,m,o,i,n,!1,s);else if("Polygon"===a)Cs(t,m,o,i,n,!0,s);else if("MultiPolygon"===a)for(const e of t){const t=[];Cs(e,t,o,i,n,!0,s),t.length&&m.push(t)}if(m.length){if(l.lineMetrics&&"LineString"===a){for(const t of m)c.push(ms(e.id,a,t,e.tags,e.index,s));continue}"LineString"!==a&&"MultiLineString"!==a||(1===m.length?(a="LineString",m=m[0]):a="MultiLineString"),"Point"!==a&&"MultiPoint"!==a||(a=m.length===s?"Point":"MultiPoint"),c.push(ms(e.id,a,m,e.tags,e.index,s))}}return c.length?c:null}function xs(t,e,o,i,n,a=3){for(let r=0;r<t.length;r+=a){const l=t[r+n];if(l>=o&&l<=i){Fs(e,t[r],t[r+1],t[r+2]);for(let o=3;o<a;o++)e.push(t[r+o])}}}function vs(t,e,o,i,n,a,r,l=3){let s=zs(t);const c=0===n?ws:Ss;let d,m,p=t.start;for(let h=0;h<t.length-l;h+=l){const u=t[h],g=t[h+1],f=t[h+2],b=t[h+l],y=t[h+l+1],_=0===n?u:g,x=0===n?b:y;let v=!1;if(r&&(d=Math.sqrt(Math.pow(u-b,2)+Math.pow(g-y,2))),_<o){if(x>o){m=c(s,u,g,b,y,o);for(let e=3;e<l;e++){const o=t[h+e];s.push((t[h+l+e]-o)*m+o)}r&&(s.start=p+d*m)}}else if(_>i){if(x<i){m=c(s,u,g,b,y,i);for(let e=3;e<l;e++){const o=t[h+e];s.push((t[h+l+e]-o)*m+o)}r&&(s.start=p+d*m)}}else{Fs(s,u,g,f);for(let e=3;e<l;e++)s.push(t[h+e])}if(x<o&&_>=o){m=c(s,u,g,b,y,o);for(let e=3;e<l;e++){const o=t[h+e];s.push((t[h+l+e]-o)*m+o)}v=!0}if(x>i&&_<=i){m=c(s,u,g,b,y,i);for(let e=3;e<l;e++){const o=t[h+e];s.push((t[h+l+e]-o)*m+o)}v=!0}!a&&v&&(r&&(s.end=p+d*m),e.push(s),s=zs(t)),r&&(p+=d)}let h=t.length-l;const u=t[h],g=t[h+1],f=t[h+2],b=0===n?u:g;if(b>=o&&b<=i){Fs(s,u,g,f);for(let e=3;e<l;e++)s.push(t[h+e])}if(h=s.length-l,a&&h>=3&&(s[h]!==s[0]||s[h+1]!==s[1])){Fs(s,s[0],s[1],s[2]);for(let t=3;t<l;t++)s.push(s[t])}s.length&&e.push(s)}function zs(t){const e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function Cs(t,e,o,i,n,a,r){for(const l of t)vs(l,e,o,i,n,a,!1,r)}function Fs(t,e,o,i){t.push(e,o,i)}function ws(t,e,o,i,n,a){const r=(a-e)/(i-e);return Fs(t,a,o+(n-o)*r,1),r}function Ss(t,e,o,i,n,a){const r=(a-o)/(n-o);return Fs(t,e+(i-e)*r,a,1),r}function Is(t,e,o=3){const i=[];for(let n=0;n<t.length;n++){const a=t[n],r=a.type;let l;if("Point"===r||"MultiPoint"===r||"LineString"===r)l=ks(a.geometry,e,o);else if("MultiLineString"===r||"Polygon"===r){l=[];for(const t of a.geometry)l.push(ks(t,e,o))}else if("MultiPolygon"===r){l=[];for(const t of a.geometry){const i=[];for(const n of t)i.push(ks(n,e,o));l.push(i)}}i.push(ms(a.id,r,l,a.tags,a.index,o))}return i}function ks(t,e,o=3){const i=[];i.size=t.size,void 0!==t.start&&(i.start=t.start,i.end=t.end);for(let n=0;n<t.length;n+=o){i.push(t[n]+e,t[n+1],t[n+2]);for(let e=3;e<o;e++)i.push(t[n+e])}return i}function Ms(t,e,o=2){if(t.transformed)return t;const i=1<<t.z,n=t.x,a=t.y;for(const r of t.features){const t=r.geometry,l=r.type;if(r.geometry=[],1===l)for(let l=0;l<t.length;l+=o)r.geometry.push(Ws(t,l,o,e,i,n,a));else if(2===l)r.geometry=As(t,e,i,n,a,o);else for(let l=0;l<t.length;l++)r.geometry.push(As(t[l],e,i,n,a,o))}return t.transformed=!0,t}function As(t,e,o,i,n,a=2){const r=[];for(let l=0;l<t.length;l++){const s=[];for(let r=0;r<t[l].length;r+=a)s.push(Ws(t[l],r,a,e,o,i,n));r.push(s)}return r}function Ws(t,e,o,i,n,a,r){const l=[Math.round(i*(t[e]*n-a)),Math.round(i*(t[e+1]*n-r))];for(let i=2;i<o;i++)l.push(t[e+i]);return l}function Ps(t,e,o,i,n){const a=e===n.maxZoom?0:n.tolerance/((1<<e)*n.extent),r={features:[],numPoints:0,numSimplified:0,numFeatures:t.length,source:null,x:o,y:i,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const e of t)Hs(r,e,a,n);return r}function Hs(t,e,o,i){const n=e.geometry,a=e.type,r=i.dimensions+1;let l=[];if(t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),"Point"===a||"MultiPoint"===a)for(let e=0;e<n.length;e+=r){l.push(n[e],n[e+1]);for(let t=3;t<r;t++)l.push(n[e+t]);t.numPoints++,t.numSimplified++}else if("LineString"===a)js(l,n,t,o,!1,!1,r);else if("MultiLineString"===a||"Polygon"===a){for(let e=0;e<n.length;e++)js(l,n[e],t,o,"Polygon"===a,0===e,r);"Polygon"===a&&l.length&&(l=[l])}else if("MultiPolygon"===a)for(let e=0;e<n.length;e++){const i=n[e],a=[];for(let e=0;e<i.length;e++)js(a,i[e],t,o,!0,0===e,r);a.length&&l.push(a)}if(l.length){let o=e.tags||null;if("LineString"===a&&i.lineMetrics){o={};for(const t in e.tags)o[t]=e.tags[t];o.mapbox_clip_start=n.start/n.size,o.mapbox_clip_end=n.end/n.size}const r={geometry:l,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:o};null!==e.id&&(r.id=e.id),i.generateIndex&&(r.index=e.index),t.features.push(r)}}function js(t,e,o,i,n,a,r=3){const l=i*i;if(i>0&&e.size<(n?l:i))return void(o.numPoints+=e.length/r);const s=[];for(let t=0;t<e.length;t+=r){if(0===i||e[t+2]>l){o.numSimplified++,s.push(e[t],e[t+1]);for(let o=3;o<r;o++)s.push(e[t+o])}o.numPoints++}n&&function(t,e,o=2){let i=0;for(let e=0,n=t.length,a=n-o;e<n;a=e,e+=o)i+=(t[e]-t[a])*(t[e+1]+t[a+1]);if(i>0===e)for(let e=0,i=t.length;e<i/2;e+=o)for(let n=0;n<o;n++){const a=t[e+n],r=i-e-(o-n);t[e+n]=t[r],t[r]=a}}(s,a,r-1),t.push(s)}const Os=1,Ns=2,Ls=3,Ts={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,generateIndex:!1,debug:0,dimensions:2};class Es{constructor(t,e){e=this.options=function(t,e){for(const o in e)t[o]=e[o];return t}(Object.create(Ts),e);const o=e.debug;if(o&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");let i=function(t,e){const o=[];if("FeatureCollection"===t.type)for(let i=0;i<t.features.length;i++)hs(o,t.features[i],e,i);else"Feature"===t.type?hs(o,t,e,0):hs(o,{geometry:t},e,0);return o}(t,e);this.tiles={},this.tileCoords=[],o&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i=function(t,e){const o=e.buffer/e.extent,i=e.dimensions+1;let n=t;const a=_s(t,1,-1-o,o,0,-1,2,e),r=_s(t,1,1-o,2+o,0,-1,2,e);return(a||r)&&(n=_s(t,1,-o,1+o,0,-1,2,e)||[],a&&(n=Is(a,1,i).concat(n)),r&&(n=n.concat(Is(r,-1,i)))),n}(i,e),i.length&&this.splitTile(i,0,0,0),o&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(t,e,o,i,n,a,r){const l=[t,e,o,i],s=this.options,c=s.debug;for(;l.length;){i=l.pop(),o=l.pop(),e=l.pop(),t=l.pop();const d=1<<e,m=Bs(e,o,i);let p=this.tiles[m];if(!p&&(c>1&&console.time("creation"),p=this.tiles[m]=Ps(t,e,o,i,s),this.tileCoords.push({z:e,x:o,y:i}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,o,i,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));const t=`z${e}`;this.stats[t]=(this.stats[t]||0)+1,this.total++}if(p.source=t,null==n){if(e===s.indexMaxZoom||p.numPoints<=s.indexMaxPoints)continue}else{if(e===s.maxZoom||e===n)continue;if(null!=n){const t=n-e;if(o!==a>>t||i!==r>>t)continue}}if(p.source=null,0===t.length)continue;c>1&&console.time("clipping");const h=.5*s.buffer/s.extent,u=.5-h,g=.5+h,f=1+h;let b=null,y=null,_=null,x=null,v=_s(t,d,o-h,o+g,0,p.minX,p.maxX,s),z=_s(t,d,o+u,o+f,0,p.minX,p.maxX,s);t=null,v&&(b=_s(v,d,i-h,i+g,1,p.minY,p.maxY,s),y=_s(v,d,i+u,i+f,1,p.minY,p.maxY,s),v=null),z&&(_=_s(z,d,i-h,i+g,1,p.minY,p.maxY,s),x=_s(z,d,i+u,i+f,1,p.minY,p.maxY,s),z=null),c>1&&console.timeEnd("clipping"),l.push(b||[],e+1,2*o,2*i),l.push(y||[],e+1,2*o,2*i+1),l.push(_||[],e+1,2*o+1,2*i),l.push(x||[],e+1,2*o+1,2*i+1)}}getTile(t,e,o){t=+t,e=+e,o=+o;const i=this.options,{extent:n,debug:a}=i;if(t<0||t>24)return null;const r=1<<t,l=Bs(t,e=e+r&r-1,o);if(this.tiles[l])return Ms(this.tiles[l],n,i.dimensions);a>1&&console.log("drilling down to z%d-%d-%d",t,e,o);let s,c=t,d=e,m=o;for(;!s&&c>0;)c--,d>>=1,m>>=1,s=this.tiles[Bs(c,d,m)];return s&&s.source?(a>1&&(console.log("found parent tile z%d-%d-%d",c,d,m),console.time("drilling down")),this.splitTile(s.source,c,d,m,t,e,o),a>1&&console.timeEnd("drilling down"),this.tiles[l]?Ms(this.tiles[l],n,i.dimensions):null):null}}function Bs(t,e,o){return 32*((1<<t)*o+e)+t}function Ds(t,e,o){const i=[];return t.geometry.forEach((n=>{const a=[],r=[],l=[];n.forEach((t=>{l.push(...function(t,e){const o=[];let i=[];for(let n=0;n<t.length;n++){const a=t[n];if(i.push(Gs(a,e)),!qs(a,e))continue;const r=t[n+1];if(!r)break;Ys(a,r,e)&&(i.length>1&&o.push(i),i=[])}i.length>1&&o.push(i);return o}(t,e)),a.length&&r.push(a.length),a.push(...t)}));const s=[];for(let t=0;t<a.length;t++)for(let e=0;e<o;e++)s.push(a[t][e]);const c=j(s,r,o),d=Y();for(let n=0;n<c.length;n+=3){const r=o>2?[[],[],[],[]]:[[],[],[]];for(let t=0;t<3;t++)Vs(d,a[c[n+2-t]],e),r[0][t]=d[0],r[1][t]=d[1],r[2][t]=0,o>2&&(r[3][t]=d[2]);l.forEach((t=>{const e=[[],[],[]];t.forEach(((t,o)=>{e[0][o]=t[0],e[1][o]=t[1]})),Cl(r,e)})),i.push({tags:t.tags,id:t.id,index:t.index,type:"polygon",vertices:r})}})),i}function Rs(t,e,o){const i=Y();return t.geometry.map((n=>{const a=o>2?[[],[],[]]:[[],[]];return n.forEach(((t,n)=>{Vs(i,t,e),a[0][n]=i[0],a[1][n]=i[1],o>2&&(a[2][n]=i[2])})),{tags:t.tags,id:t.id,index:t.index,type:"line",vertices:a}}))}function Us(t,e,o){const i=Y();return t.geometry.map((n=>(Vs(i,n,e),{tags:t.tags,id:t.id,index:t.index,type:"point",vertices:o>2?[[i[0]],[i[1]],[i[2]]]:[[i[0]],[i[1]]]})))}function Vs(t,e,o){const i=Gs(e,o);t[0]=i[0],t[1]=i[1],t[2]=void 0===e[2]?0:e[2]*ut}function Gs(t,e){return[Ft(t[0]/e*I,0,I),Ft((e-t[1])/e*I,0,I)]}function qs(t,e){return t[0]<0||t[0]>e||t[1]<0||t[1]>e}function Ys(t,e,o){return t[0]>o&&e[0]>o||t[0]<0&&e[0]<0||t[1]>o&&e[1]>o||t[1]<0&&e[1]<0}const $s=4096,Zs={maxZoom:15,tolerance:3,extent:$s,buffer:1,debug:0,lineMetrics:!1,promoteId:null,generateId:!1,generateIndex:!0,indexMaxZoom:0,indexMaxPoints:1e5,dimensions:2};class Xs{constructor(t){this.options=t}get geoJsonVtInstance(){var t,e,o,i;return this.geoJsonVT||(this.geoJsonVT=(o=this.options.data,i=Object.assign(Object.assign({},Zs),{maxZoom:null!==(t=this.options.maxZoom)&&void 0!==t?t:Zs.maxZoom,dimensions:null!==(e=this.options.dimensions)&&void 0!==e?e:Zs.dimensions}),new Es(o,i))),this.geoJsonVT}fetchTile(t){var e;const[o,i,n]=de(t),a={components:[],byId:new el},r=this.geoJsonVtInstance.getTile(n,o,i),l=null!==(e=this.options.dimensions)&&void 0!==e?e:2;if(!r)return Promise.resolve(a);for(const t of r.features)switch(t.type){case Os:a.components=a.components.concat(Us(t,$s,l));break;case Ns:a.components=a.components.concat(Rs(t,$s,l));break;case Ls:a.components=a.components.concat(Ds(t,$s,l));break;default:console.warn("unsupported type ",r)}return Promise.resolve(a)}destroy(){this.geoJsonVT=void 0}}function Ks(t,e){const o={components:[],byId:new el};return t.features.forEach(((t,i)=>{o.components.push(...Js(t.geometry,e).map((e=>Object.assign(Object.assign({},e),{index:i,id:t.id,tags:t.properties||{}}))))})),o}function Js(t,e){switch(t.type){case"GeometryCollection":{let o=[];return t.geometries.forEach((t=>{o=o.concat(Js(t,e))})),o}case"Point":case"MultiPoint":return function(t,e){if("Point"===t.type)return[Qs(t.coordinates,e)];return t.coordinates.map((t=>Qs(t,e)))}(t,e);case"LineString":case"MultiLineString":return function(t,e){if("LineString"===t.type)return[tc(t.coordinates,e)];return t.coordinates.map((t=>tc(t,e)))}(t,e);case"Polygon":case"MultiPolygon":return function(t,e){if("Polygon"===t.type)return ec(t.coordinates,e);return t.coordinates.reduce(((t,o)=>t.concat(ec(o,e))),[])}(t,e)}}function Qs(t,e){const o=[0,0,0];return ne(o,gt(t),e),{type:"point",vertices:[[o[0]],[o[1]]]}}function tc(t,e){const o=[[],[]],i=[0,0,0];return t.forEach(((t,n)=>{ne(i,gt(t),e),o[0][n]=i[0],o[1][n]=i[1]})),{type:"line",vertices:o}}function ec(t,e){const o=[],i=[],n=[],a=[],r=[];t.forEach((t=>{const o=t.map((t=>(ne(r,gt(t),e),[Ft(r[0],0,I),Ft(r[1],0,I)])));a.push(o),i.length&&n.push(i.length),i.push(...o)}));const l=[];for(let t=0;t<i.length;t++)l.push(i[t][0]),l.push(i[t][1]);const s=j(l,n);for(let t=0;t<s.length;t+=3){const e=[[],[],[]];for(let o=0;o<3;o++)e[0][o]=i[s[t+o]][0],e[1][o]=i[s[t+o]][1],e[2][o]=0;a.forEach((t=>{const o=[[],[],[]];t.forEach(((t,e)=>{o[0][e]=t[0],o[1][e]=t[1]})),Cl(e,o)})),o.push({type:"polygon",vertices:e})}return o}class oc{constructor(t,e=!1){this.dataType=t,this.pendingRequests=new Map,this.ignoredStatusCodes=e?[204,404]:[204]}fetch(t,e){return new Promise((o=>{const i=e(t),n=Kt(t),a=("json"===this.dataType?nl:il)({url:i},((t,e)=>{if(this.pendingRequests.delete(n),void 0!==t)return this.ignoredStatusCodes.includes(t.status)||console.error(t),void o({});o({data:e})}));this.pendingRequests.set(n,{xhr:a,resolve:o})}))}destroy(){this.pendingRequests.forEach(((t,e)=>{this.abortRequest(e)}))}abortRequest(t){const e=this.pendingRequests.get(t);void 0!==e&&(e.xhr.abort(),e.resolve({rejected:!0}),this.pendingRequests.delete(t))}}class ic{constructor(t){this.tileLoader=new oc("json",t.ignoreMissingTiles),this.options=t,this.url=t=>{const[e,o,i]=this.options.flipY?t:de(t);return Vt(this.options.url,{x:e.toString(),y:o.toString(),z:i.toString(),subdomain:l.subdomains[Math.abs(e+o)%l.subdomains.length]})}}fetchTile(t){return this.tileLoader.fetch(t,this.url).then((e=>e.data?Ks(e.data,Xt(t)):{components:[],byId:new el}))}abortTile(t){this.tileLoader.abortRequest(Kt(t))}destroy(){this.tileLoader.destroy()}}class nc{constructor(t,e,o){this.scope=t,this.options=e,this.id=o,t.sources[o]=this,this.tileData={},this.styleManager=t.styleManager,this.collector=t.collector,this.sourceAttrs=this.options.attributes||{},this.metatile=Ht(["id","db_label","db_label2","selected","hovered","componentDistanceStart","objectLength","beginningIsCut","endingIsCut"],["Commercial_poi_default","Commercial_poi_city"]),this.tileServer="url"in e?new ic(e):new Xs(e)}fetchTile(t){const e=Kt(t);return this.tileData[e]?Promise.resolve(this.tileData[e]):this.tileServer.fetchTile(t).then((t=>(this.tileData[e]=t,t)))}abortTileFetch(t){this.tileServer instanceof ic&&this.tileServer.abortTile(t)}generateTile(t,e,o,i,n,a){const r=Kt(e),l=this.tileData[r],s=Xt(e),c=[],d=[],m=this.styleManager.getStyle(o),p=new Do,h=new Do(i),u=di(e[0]+e[1]+e[2]+1);if(!m)return Promise.resolve({results:c,transferable:d});l&&l.components.forEach(((e,o)=>{var i;const{tileProps:r}=this.metatile,c=[],d=Object.keys(e.tags);jt(this.metatile,d);for(const t of d)c[r[t]]=e.tags[t];const g=Object.keys(this.sourceAttrs);jt(this.metatile,g);for(const t of g)c[r[t]]=this.sourceAttrs[t];const f="url"in this.options&&this.options.preventInteractions,b=this.options.identifyAsDefaultSource,y=f?NaN:b?be(null!==(i=c[r.db_id])&&void 0!==i?i:""):he(e.index,this.id);if("number"!=typeof y){const t=h.has(y);c[r.selected]=t?1:0,p.add(y),l.byId.set(y,o)}const{coords:_}=s,x=_[3],v=Ci(n),z=yi(t.styleState,this.sourceAttrs,r,c,Lt,u),C=this.styleManager.getLayers(m.id,r,c).filter((t=>{return o=e.type,i=t.type,!!vl[o][i];var o,i})).filter((t=>pi(t.filter,z)));c[r.id]=y,"point"!==e.type&&"line"!==e.type||(void 0===c[r.db_label]&&(c[r.db_label]=NaN),void 0===c[r.db_label2]&&(c[r.db_label2]=NaN)),"line"===e.type&&(c[r.componentDistanceStart]=0,c[r.objectLength]=function(t){const e=t.vertices[0],o=t.vertices[1];let i=0;for(let t=0;t<e.length-1;t++)i+=Math.hypot(e[t]-e[t+1],o[t]-o[t+1]);return i}(e),c[r.beginningIsCut]=0,c[r.endingIsCut]=0),Gr(this.collector,m,C,z,this.metatile,x,this.id,_,v,e.vertices,new Do,void 0,a)})),this.collector.setGeoIds(new Uint32Array(p.toFlatArray()));const g=this.collector.getAccumulatedData();return c.push({regionId:0,metatileHash:-4,collectorOutput:g,styleId:m.id}),d.push(...g.transferable),this.scope.debouncedResetCollector(),this.scope.syncNewRasterSets(),Promise.resolve({results:c,transferable:d})}getObjectAttributes(t,e){const o=this.tileData[e];if(o){const e=o.byId.get(t);if(void 0===e)return;const i=o.components[e];if(void 0===i)return;return i.tags}}deleteTile(t){delete this.tileData[Kt(t)]}setSourceAttrs(t){this.sourceAttrs=t}destroy(){delete this.scope.sources[this.id],this.tileData={},this.sourceAttrs={},this.tileServer.destroy()}setData(t){if("string"==typeof t){if(this.tileServer instanceof ic)return this.tileServer.destroy(),this.options=Object.assign(Object.assign({},this.options),{url:t}),this.tileServer=new ic(this.options),this.tileData={},Promise.resolve(!0)}else if(this.tileServer instanceof Xs)return this.tileServer.destroy(),this.options=Object.assign(Object.assign({},this.options),{data:t}),this.tileServer=new Xs(this.options),this.tileData={},Promise.resolve(!0);return Promise.resolve(!1)}}class ac{constructor(){this.cache=new Map,this.pendingRequests=new Map}fetch({coords:t,tileServer:e,tileSet:o,tileProtocol:i,subdomains:n,tileKey:r,appId:l,lang:s,defaultLang:c,sessionId:d}){return new Promise((m=>{const p=function(t,e,o,i,n,r,l,s,c,d){const m=new(a()),p={tiles:[{x:n[0],y:n[1],zoom:n[2]}]};return $t.w.write(p,m),Ut("tiles",{host:t,tileSet:e,tileKey:r,sessionId:d,protocol:o,appId:l,lang:s,defaultLang:c,subdomain:i[Math.abs(n[0]+n[1])%i.length],request:encodeURIComponent(it.c(m.finish()))})}(e,o,i,n,t,r,l,s,c,d),h=Kt(t),u=il({url:p},((t,e)=>{let o=!1;if(this.pendingRequests.delete(h),void 0!==t||0===e.byteLength)return void 0!==t&&(console.error(t),403===t.status&&(o=!0)),this.cache.set(h,[]),void m({metadata:[],invalidTileKey:o});const i=function(t){const e=new(a())(t),o=$t.F.read(e),{x:i,y:n,zoom:r,tiles:l}=o.tileGroups[0];return l.map((({regionId:t,hash:e,data:o})=>(o||(console.warn(`Tile ${r}_${i}_${n} from region ${t} is corrupt (has no data)`),o=new Uint8Array(0)),{data:o,regionId:t,metatileHash:At(e)})))}(e),n=i.map((t=>({regionId:t.regionId,metatileHash:t.metatileHash})));this.cache.set(h,i),m({metadata:n,invalidTileKey:o})}));this.pendingRequests.set(h,{xhr:u,resolve:m})}))}get(t){return this.cache.get(t)||[]}delete(t){this.cache.delete(t)}abortRequest(t){const e=this.pendingRequests.get(t);void 0!==e&&(e.xhr.abort(),e.resolve(),this.pendingRequests.delete(t))}destroy(){this.cache.clear(),this.pendingRequests.clear()}}class rc extends class{constructor(t){this.map=(null==t?void 0:t.map)||{}}set(t,e,o){void 0===this.map[t]&&(this.map[t]={}),this.map[t][e]=o}get(t,e){const o=this.map[t];if(void 0!==o)return o[e]}has(t,e){const o=this.map[t];return void 0!==o&&void 0!==o[e]}}{constructor(t){super(t),this.featureAttrs=(null==t?void 0:t.featureAttrs)||new Set,this.clearAttrs=!0}set(t,e,o){super.set(t,e,o),Object.keys(o).forEach((t=>this.featureAttrs.add(t)))}}const lc=-1;class sc{constructor(t=0){this.index=t,this.keysMap={}}getIndex(){const t=this.index;return this.index+=1,t}getUniqueIndex(t){return void 0===this.keysMap[t]&&(this.keysMap[t]=this.index,this.index+=1),this.keysMap[t]}getIndexedKeys(){return this.keysMap}}function cc(t){const e=function(t){const e=(t.groups||[]).concat(Ma.groups).reduce(((t,e)=>(t.includes(e)||t.push(e),t)),[]),o=(t.overlay||[]).concat(Ma.overlay).concat(e.reduce(((t,e)=>(e===ka||e===Sa||e===Ia||t.push([e,Sa]),t)),[])).reduce(((t,o)=>{const i=[];for(const t of o)e.includes(t)&&i.push(t);return i.length>1&&t.push(i),1===o.length&&1===i.length&&t.push(i),t}),[]);return{groups:e,overlay:o,intersect:Ma.intersect}}(t),{groups:o,table:i}=function(t){const{groups:e,overlay:o,intersect:i}=t,n=e.reduce(((t,e,o)=>(t[e]=o,t)),{}),a=[];for(let t=0;t<e.length;t++){const t=[];for(let o=0;o<e.length;o++)t.push(!0);a.push(t)}for(let t=0;t<o.length;t++){const e=o[t];for(let t=0;t<e.length;t++)for(let o=t+1;o<e.length;o++){const i=n[e[t]],r=n[e[o]];a[i][r]=!1,a[r][i]=!1}}for(let t=0;t<i.length;t++){const e=i[t];for(let t=0;t<e.length;t++)for(let o=t+1;o<e.length;o++){const i=n[e[t]],r=n[e[o]];a[i][r]=!0,a[r][i]=!0}}return{groups:e,table:a}}(e),n={};for(let t=0;t<i.length;t++){const e=i[t],a=o[t];n[a]={};for(let r=0;r<e.length;r++){const e=o[r];n[a][e]=i[t][r]}}const a=o.reduce(((t,e,o)=>(t[e]=o,t)),{});return{indexToGroup:o,groupToIndex:a,table:n}}const dc={db_id:"id",tech_db_beginning_is_cut:"beginningIsCut",tech_db_ending_is_cut:"endingIsCut",tech_db_previous_point_x:"previousPointX",tech_db_previous_point_y:"previousPointY",tech_db_next_point_x:"nextPointX",tech_db_next_point_y:"nextPointY",tech_db_object_length:"objectLength",tech_db_component_distance_start:"componentDistanceStart",tech_db_component_distance_end:"componentDistanceEnd"},mc=t=>{var e;return null!==(e=dc[t])&&void 0!==e?e:t},pc={objectClass:"db_object_class",sublayer:"db_sublayer",db_id:"id"};function hc(t){var e;return null!==(e=pc[t])&&void 0!==e?e:t}const uc={Class:"db_class",DisputePosition:"db_dispute_position",ObjectClass:"db_object_class",ParkingType:"db_parking_type",Sublayer:"db_sublayer",Subsublayer:"db_subsublayer"},gc=t=>{var e,o,i;t.enumerationValues?t.enumerationValues=Object.keys(t.enumerationValues).reduce(((e,o)=>(e[(t=>{var e;return null!==(e=uc[t])&&void 0!==e?e:t})(o)]=t.enumerationValues[o],e)),{}):t.enumerationValues={db_class:null!==(e=t.classes)&&void 0!==e?e:{},db_object_class:null!==(o=t.objectClasses)&&void 0!==o?o:{},db_sublayer:null!==(i=t.sublayers)&&void 0!==i?i:{}}};const fc=[{id:"__2gis_comm_poi",type:"point",style:{textFont:["Noto_Sans_Semibold",["step",["zoom"],"Noto_Sans",16,"Noto_Sans"]],iconImage:"peak",iconWidth:["interpolate",["linear"],["zoom"],15,22,16.8,30],textColor:"#3A3A3A",visibility:"visible",textFontSize:[["interpolate",["linear"],["zoom"],15.5,11,18,13],["interpolate",["linear"],["zoom"],15.5,10,18,12]],textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:.9,iconLabelingGroup:Ia,iconLabelingMargin:{leftRight:6,topBottom:6}},filter:["all",["match",["get","db_sublayer"],["Commercial_poi_default","Commercial_poi_city"],!0,!1],["any",["==",["in",["get","db_building_id"],["global","_activeFloorBuildingIds"]],!1],["in",["get","db_plan_id"],["global","_activeFloorIds"]]]]}],bc={verticalScale:["interpolate",["linear"],["zoom"],11,0,12,1.2],shadingIntensity:["interpolate",["linear"],["zoom"],13,0,14,.19]};function yc(t){const e={};let o=0;for(const i in t)e[i]=o,o+=1;return e}class _c extends Error{constructor(t){super(`Unknown expression type '${t[0]}' in '${JSON.stringify(t)}'`),this.name="UnknownExpressionTypeError",Object.setPrototypeOf(this,new.target.prototype)}}function xc(t,e){if("number"==typeof(o=t)||"boolean"==typeof o||"string"==typeof o||null===o)return ei(t)?ii(t):t;var o;switch(t[0]){case"all":return function(t,e){return{type:"all",array:t.slice(1).map((t=>xc(t,e)))}}(t,e);case"any":return function(t,e){return{type:"any",array:t.slice(1).map((t=>xc(t,e)))}}(t,e);case"match":return function(t,e){const o={type:"match",input:xc(t[1],e),cases:[],defaultOutput:xc(t[t.length-1],e)},i=t.slice(2,-1);for(let t=0;t<i.length;t+=2){const n=i[t].reduce(((t,e)=>("boolean"==typeof e&&t.push(Number(e)),t.push(e),t)),[]),a={values:new Set(n),output:xc(i[t+1],e)};o.cases.push(a)}return o}(t,e);case"in":return function(t,e){const o=xc(t[1],e),i=t[2][0];if("get"!==i&&"global"!==i&&"sourceAttr"!==i)throw new Error("InExpression supports only get, global or source attr expression as a second argument");const n=xc(t[2],e);return{type:"in",element:o,array:n}}(t,e);case"interpolate":return zc(t,e);case"step":return function(t,e){const o={type:"step",steps:[],value:xc(t[1],e)},i={key:0,value:xc(t[2],e)};o.steps.push(i);const n=t.slice(3);for(let t=0;t<n.length;t+=2){const i={key:n[t],value:xc(n[t+1],e)};o.steps.push(i)}return o}(t,e);case"featureState":return function(t,e){const o=t[0],i=hc(t[1]);return{type:o,dataIndex:e?e.getUniqueIndex(`${o}:${i}`):NaN,property:i}}(t,e);case"get":case"sourceAttr":case"global":return Cc(t,e);case"zoom":return{type:"zoom"};case"height":return{type:"height"};case"heatmap-density":return{type:"heatmap-density"};case"shading-intensity":return{type:"shading-intensity"};case"to-boolean":case"to-color":case"!":case"log10":return function(t,e){return{type:t[0],value:xc(t[1],e)}}(t,e);case"==":case"!=":case"<":case"<=":case">":case">=":return function(t,e){const o=xc(t[1],e),i=xc(t[2],e);return{type:t[0],leftValue:o,rightValue:i}}(t,e);case"+":return function(t,e){return{type:"+",array:t.slice(1).map((t=>xc(t,e)))}}(t,e);case"*":return function(t,e){return{type:"*",array:t.slice(1).map((t=>xc(t,e)))}}(t,e);case"^":return function(t,e){const o=xc(t[1],e),i=xc(t[2],e);return{type:"^",base:o,exponent:i}}(t);case"random":return function(t,e){const o=xc(t[1],e),i=xc(t[2],e);return{type:"random",start:o,end:i}}(t,e);case"literal":return Array.isArray(t[1])?function(t,e){return{type:"literalArray",array:t[1].map((t=>xc(t,e)))}}(t,e):t[1];default:throw new _c(t)}}function vc(t,e){return void 0===t?t:xc(t,e)}function zc(t,e){const o={type:"interpolate",base:1,argument:xc(t[2],e),steps:[]};"exponential"===t[1][0]&&void 0!==t[1][1]&&(o.base=t[1][1]);const i=t.slice(3);for(let t=0;t<i.length;t+=2){const n={key:xc(i[t],e),value:xc(i[t+1],e)};o.steps.push(n)}return o}function Cc(t,e){const o=t[0],i=hc(t[1]);return{type:o,dataIndex:e?e.getUniqueIndex(`${o}:${i}`):NaN,property:i}}function Fc(t,e){let o=0,i=0;function n(t,e){"custom"!==t.type&&(function(t){if(void 0===t||"boolean"==typeof t)return Boolean(t);const e=JSON.stringify(t);return Boolean(e.match(/\["get","(db_)?sublayer"]/))}(t.filter)&&(o=e),"point"===t.type&&t.style.iconPriority&&t.style.iconPriority>i&&(i=t.style.iconPriority))}return t.forEach(((t,e)=>{"group"===t.type?t.layers.forEach((t=>n(t,e))):n(t,e)})),e.forEach((t=>{"point"===t.type&&(t.style.iconPriority=i)})),[...t.slice(0,o+1),...e,...t.slice(o+1)]}function wc(t,e,o,i){var n,a,r;const l="eb10e2c3-3c28-4b81-b74b-859c9c4cf47e"===i?bc:{},s=function(t){const e=function(t){return kt(t,{lightingDirection:315,shadingIntensity:.15,verticalScale:1.2,shadingPalette:["interpolate",["exponential",2],["shading-intensity"],0,0,1,.95]})}(t);return{id:"dem",type:"dem",innerId:Wo,filter:!0,dataKeys:[],minzoom:-1/0,maxzoom:1/0,renderIndex:-1/0,style:{lightingDirection:xc(e.lightingDirection),shadingIntensity:xc(e.shadingIntensity),shadingPalette:zc(e.shadingPalette),verticalScale:xc(e.verticalScale)},framebufferId:{elevation:lc,hillshade:lc,flatBottom:lc}}}(null!==(n=t.terrain)&&void 0!==n?n:l),c={id:e,revision:0,background:{color:ii(t.background.color)},light:{ambientColor:{type:"color",value:[1,1,1]},direction:[1,0,0]},layers:[],layersById:{[Wo]:s},layerIdToInnerId:{},groupsById:{},iconBaseUrl:"",legacyIconBaseUrl:"",iconNameTemplate:"",fontUrlTemplate:"",modelsBaseUrl:"",fonts:P,fontNameToIndex:wi(P),rasterSets:{byIndex:{},byKey:{}},icons:t.icons||{},models:Object.values(null!==(a=t.models)&&void 0!==a?a:{}),modelIndex:yc(t.models||{}),labelingGroups:cc(null!==(r=t.labelingGroups)&&void 0!==r?r:{}),dem:s},d=new sc;let m=t.layers;o&&(m=Fc(t.layers,fc));for(const t of m){const e="group"===(p=t).type?function(t){var e;const o=new sc,i=null===(e=t.orderBy)||void 0===e?void 0:e.map((t=>Cc(t,o))),n={id:t.id,innerId:Ao(),renderIndex:Ic.getIndex(),type:t.type,layers:[],orderBy:null!=i?i:[]};return t.layers.forEach(((t,e)=>{const o=Mc(t,i);o&&(o.groupId=n.innerId,o.groupIndex=e,o.renderIndex=n.renderIndex,n.layers.push(o))})),n}(p):Mc(p);if(!e)continue;"group"===e.type&&(c.groupsById[e.innerId]=e,c.layerIdToInnerId[e.id]=e.innerId);("group"===e.type?e.layers:[e]).forEach((t=>{if(c.layers.push(t),c.layersById[t.innerId]=t,c.layerIdToInnerId[t.id]=t.innerId,"point"===t.type||"polygon"===t.type){Sc(t,d).forEach((t=>{c.rasterSets.byKey[t.key]||(c.rasterSets.byIndex[t.index]=t,c.rasterSets.byKey[t.key]=t)}))}}))}var p;return c}function Sc(t,e){const o=[],{image:i,imageType:n,anchor:a}=function(t){if("point"===t.type)return{image:t.style.iconImage,imageType:"icon",anchor:t.style.iconAnchor};return{image:t.style.textureImage,imageType:"texture",anchor:[0,0]}}(t);return i?(vi(i).forEach((t=>{t.length&&o.push(function(t,e,o,i){const n="icon"===e?Zo(t,i[0],i[1]):Xo(t);return{type:Pi.Static,index:o.getUniqueIndex(n),key:n,isSvg:!0,name:t,fileName:t,anchorX:i[0],anchorY:i[1],rasters:[]}}(t,n,e,a))})),o):o}const Ic=new sc;function kc(t,e){return"appearance"===t.type?{type:t.type,tipMovementAmplitude:xc(t.tipMovementAmplitude,e)}:t}function Mc(t,e){var o;if("custom"===t.type)return{type:"custom",id:t.id,innerId:Ao(),renderIndex:Ic.getIndex(),filter:!1,minzoom:-1/0,maxzoom:1/0,dataKeys:[],style:{}};if(!t.style||"none"===t.style.visibility)return;const i=new sc(e?e.length:0);let n;try{const e={id:t.id,innerId:Ao(),renderIndex:Ic.getIndex(),filter:xc(t.filter||!1),minzoom:Ac(t.minzoom,-1/0),maxzoom:Ac(t.maxzoom,1/0),dataKeys:[],farLimit:t.farLimit,webglState:t.webglState};switch(t.type){case"line":{const o=function(t){const e={color:"#000000",width:1,visibility:"visible"};return wa(e,t),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{color:xc(o.color,i),width:xc(o.width,i)}});break}case"lineExtrusion":{const o=function(t){const e={sideColor:"#000000",strokeColor:"#000000",strokeWidth:1,height:0,visibility:"visible"};return wa(e,t),void 0===t.strokeColor&&(e.strokeColor=e.sideColor),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{sideColor:xc(o.sideColor,i),strokeWidth:xc(o.strokeWidth,i),strokeColor:xc(o.strokeColor,i),height:xc(o.height,i)}});break}case"polygon":{const o=function(t){const e={color:"#000000",textureImage:"",textureSize:16,textureOpacity:1,strokeColor:"#00000000",strokeWidth:1,visibility:"visible"};return wa(e,t),void 0!==t.strokeColor||Boolean(e.textureImage)||(e.strokeColor=e.color),Array.isArray(e.textureSize)?(e.textureSize.length?1===e.textureSize.length&&(e.textureSize=e.textureSize[0]):e.textureSize=16,e):e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{color:xc(o.color,i),textureImage:xc(o.textureImage,i),textureSize:o.textureSize,textureOpacity:xc(o.textureOpacity,i),strokeColor:xc(o.strokeColor,i),strokeWidth:xc(o.strokeWidth,i)}});break}case"roadPolygon":{const o=function(t){const e={color:"#000000",strokeColor:"#000000",strokeWidth:1,visibility:"visible",laneWidth:3.75};return wa(e,t),void 0===t.strokeColor&&(e.strokeColor=e.color),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{color:xc(o.color,i),strokeColor:xc(o.strokeColor,i),strokeWidth:xc(o.strokeWidth,i),laneWidth:xc(o.laneWidth,i)}});break}case"mesh":{const o=function(t){const e={color:"#000000",strokeColor:"#000000",strokeWidth:1,visibility:"visible"};return wa(e,t),void 0===t.strokeColor&&(e.strokeColor=e.color),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{color:xc(o.color,i),strokeColor:xc(o.strokeColor,i),strokeWidth:xc(o.strokeWidth,i)}});break}case"polygonExtrusion":{const o=function(t){const e={topColor:"#000000",strokeColor:"#000000",strokeWidth:1,sideColor:"#000000",visibility:"visible"};return wa(e,t),void 0===t.strokeColor&&(e.strokeColor=e.topColor),void 0===t.sideColor&&(e.sideColor=e.topColor),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{topColor:xc(o.topColor,i),sideColor:xc(o.sideColor,i),strokeColor:xc(o.strokeColor,i),strokeWidth:xc(o.strokeWidth,i)}});break}case"dashedLine":{const o=function(t){const e={color:"#000000",gapColor:"#00000000",width:1,gapLength:1,dashLength:1,visibility:"visible"};return wa(e,t),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{color:xc(o.color,i),gapColor:xc(o.gapColor,i),width:xc(o.width,i),gapLength:xc(o.gapLength,i),dashLength:xc(o.dashLength,i)}});break}case"shiftedLine":{const o=function(t){const e={color:"#000000",width:1,shift:0,visibility:"visible"};return wa(e,t),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{color:xc(o.color,i),width:xc(o.width,i),shift:xc(o.shift,i)}});break}case"oneWayLine":{const o=function(t){const e={color:"#000000",lineWidth:2,lineLength:10,tipWidth:1.5,tipHeight:2,priority:0,duplicationSpacing:0,endingOffsets:0,visibility:"visible",labelingGroup:ka};return wa(e,t),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{color:xc(o.color,i),lineWidth:xc(o.lineWidth,i),lineLength:xc(o.lineLength,i),tipWidth:o.tipWidth,tipHeight:o.tipHeight,priority:o.priority,duplicationSpacing:xc(o.duplicationSpacing,i),endingOffsets:o.endingOffsets,labelingGroup:o.labelingGroup}});break}case"buildingModel":{const o=function(t){const e={color:"#000000",strokeColor:"#000000",strokeWidth:1,visibility:"visible"};return wa(e,t),void 0===t.strokeColor&&(e.strokeColor=e.color),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{color:xc(o.color,i),strokeColor:xc(o.strokeColor,i),strokeWidth:xc(o.strokeWidth,i)}});break}case"labelLine":{const o=function(t){const e={textField:["get","db_label"],textFont:"Noto_Sans",textColor:"#000000",textFontSize:16,textLetterSpacing:0,textHaloColor:"rgba(0, 0, 0, 0)",textHaloWidth:0,textPriority:0,textLabelingSideMargin:0,textDuplicationSpacing:0,lineEndingOffsets:0,visibility:"visible",labelingGroup:ka};return wa(e,t),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{textField:xc(o.textField,i),textFont:o.textFont,textColor:xc(o.textColor,i),textFontSize:xc(o.textFontSize,i),textLetterSpacing:o.textLetterSpacing,textHaloColor:xc(o.textHaloColor,i),textHaloWidth:o.textHaloWidth,textPriority:o.textPriority,textLabelingSideMargin:o.textLabelingSideMargin,textDuplicationSpacing:xc(o.textDuplicationSpacing,i),labelingGroup:o.labelingGroup,lineEndingOffsets:o.lineEndingOffsets}});break}case"point":{const o=function(t){const e={allowOverlap:!1,allowElevation:!1,elevation:0,iconOpacity:1,iconImage:"",iconAnchor:[.5,.5],iconOffset:[0,0],iconWidth:16,iconTextField:["get","db_label2"],iconTextFont:"",iconTextAnchor:[.5,.5],iconTextOffset:[0,0],iconTextColor:"#000000",iconTextFontSize:16,iconTextLineHeight:1.2,iconTextLetterSpacing:0,iconTextPadding:[0,0,0,0],iconTextHaloWidth:0,iconTextHaloColor:"rgba(0, 0, 0, 0)",iconPriority:0,iconRotation:0,iconLabelingGroup:ka,iconLabelingMargin:{topBottom:0,leftRight:0},textField:[["get","db_label"],["get","db_label2"]],textFont:"",textColor:"#000000",textFontSize:16,textLineHeight:1.2,textLetterSpacing:0,textPlacement:"bottomCenter",textOffset:0,textHaloColor:"rgba(0, 0, 0, 0)",textHaloWidth:0,textLabelingMargin:{topBottom:0,leftRight:0},textPriority:0,textMaxLengthPerLine:30,visibility:"visible",textLabelingGroup:ka,duplicationSpacing:100,endingOffsets:0};return wa(e,t),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{allowOverlap:o.allowOverlap,allowElevation:o.allowElevation,elevation:xc(o.elevation,i),iconImage:xc(o.iconImage,i),iconAnchor:o.iconAnchor,iconOffset:o.iconOffset,iconWidth:xc(o.iconWidth,i),iconTextField:xc(o.iconTextField,i),iconTextFont:vc(o.iconTextFont,i),iconTextAnchor:o.iconTextAnchor,iconTextOffset:o.iconTextOffset,iconTextColor:xc(o.iconTextColor,i),iconTextFontSize:xc(o.iconTextFontSize,i),iconTextLineHeight:o.iconTextLineHeight,iconTextLetterSpacing:o.iconTextLetterSpacing,iconTextPadding:o.iconTextPadding,iconTextHaloWidth:Jo(o.iconTextHaloWidth),iconTextHaloColor:xc(o.iconTextHaloColor,i),iconOpacity:xc(o.iconOpacity,i),iconPriority:o.iconPriority,iconLabelingMargin:o.iconLabelingMargin,iconLabelingGroup:o.iconLabelingGroup,iconRotation:xc(o.iconRotation,i),textField:xc(Jo(o.textField),i),textFont:xc(Jo(o.textFont),i),textColor:xc(Jo(o.textColor),i),textFontSize:xc(Jo(o.textFontSize),i),textLineHeight:Jo(o.textLineHeight),textLetterSpacing:Jo(o.textLetterSpacing),textField2:vc(Qo(o.textField),i),textFont2:vc(Qo(o.textFont),i),textColor2:vc(Qo(o.textColor),i)||xc(Jo(o.textColor),i),textFontSize2:vc(Qo(o.textFontSize),i)||xc(Jo(o.textFontSize),i),textMaxLengthPerLine:o.textMaxLengthPerLine,textPlacement:o.textPlacement,textPriority:o.textPriority,textOffset:xc(Jo(o.textOffset),i),textOffset2:vc(Qo(o.textOffset),i),textHaloColor:xc(Jo(o.textHaloColor),i),textHaloColor2:vc(Qo(o.textHaloColor),i)||xc(Jo(o.textHaloColor),i),textHaloWidth:Jo(o.textHaloWidth),textHaloWidth2:Qo(o.textHaloWidth)||Jo(o.textHaloWidth),textLabelingMargin:Jo(o.textLabelingMargin),textLabelingMargin2:Qo(o.textLabelingMargin)||Jo(o.textLabelingMargin),textLabelingGroup:Jo(o.textLabelingGroup),textLabelingGroup2:Qo(o.textLabelingGroup)||Jo(o.textLabelingGroup),duplicationSpacing:xc(o.duplicationSpacing,i),endingOffsets:o.endingOffsets}});break}case"arrow":{const o=function(t){const e={color:"#000000",strokeColor:"#000000",lineWidth:1,strokeWidth:0,tipWidth:1,tipHeight:1,animation:{type:"appearance",tipMovementAmplitude:0},visibility:"visible"};return void 0===t.strokeColor&&(e.strokeColor=e.color),wa(e,t),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{color:xc(o.color,i),strokeColor:xc(o.strokeColor,i),lineWidth:xc(o.lineWidth,i),strokeWidth:xc(o.strokeWidth,i),tipWidth:xc(o.tipWidth,i),tipHeight:xc(o.tipHeight,i),animation:kc(o.animation,i)}});break}case"raster":{const o=function(t){const e={opacity:1,visibility:"visible"};return wa(e,t),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{opacity:xc(o.opacity,i)}});break}case"circle":{const o=function(t){const e={color:"#ffffff",strokeColor:"#3388ff",strokeColor2:"#00000000",width:20,strokeWidth:3,strokeWidth2:0,visibility:"visible"};return wa(e,t),e}(t.style);n=Object.assign(Object.assign({},e),{type:t.type,style:{color:xc(o.color,i),strokeColor:xc(o.strokeColor,i),strokeColor2:xc(o.strokeColor2,i),width:xc(o.width,i),strokeWidth:xc(o.strokeWidth,i),strokeWidth2:xc(o.strokeWidth2,i)}});break}case"heatmap":{const o=kt(t.style,{color:["interpolate",["linear"],["heatmap-density"],0,"rgba(53, 136, 253, 0)",.2,"rgba(53, 136, 253, 0.2)",.4,"rgb(255, 201, 77)",.6,"rgb(255, 202, 20)",.75,"rgb(245, 0, 7)",1,"rgb(255, 0, 0)"],radius:30,opacity:1,intensity:1,weight:1,downscale:1,visibility:"visible"});n=Object.assign(Object.assign({},e),{type:t.type,style:{color:xc(o.color,i),radius:xc(o.radius,i),opacity:xc(o.opacity,i),intensity:xc(o.intensity,i),weight:xc(o.weight,i),downscale:o.downscale},framebufferId:{framebuffer:lc}});break}case"model":{const a=function(t){return kt(t,{modelSrc:"",offset:0,scale:1,rotation:0,color:"#fff",linkedIds:"",useThreeJs:!1,visibility:"visible"})}(t.style),r=null===(o=t.interactive)||void 0===o||o;n=Object.assign(Object.assign({},e),{interactive:r,type:"gltfModel",style:{modelSrc:xc(a.modelSrc,i),offset:xc(a.offset,i),scale:xc(a.scale,i),rotation:xc(a.rotation,i),color:xc(a.color,i),linkedIds:xc(a.linkedIds),useThreeJs:a.useThreeJs}});break}}}catch(e){if(e instanceof _c)return void console.warn(`Problem with layer #${t.id}: ${e}`);throw e}if(n){n.dataKeys=function(t){const e=[];for(const o in t){const[i,...n]=o.split(":");e[t[o]]={type:i,key:n.join(":")}}return e}(i.getIndexedKeys());for(const t of null!=e?e:[])n.dataKeys[t.dataIndex]={type:t.type,key:t.property};const t=n.dataKeys.findIndex((t=>"selected"===t.key));-1!==t&&(n.selectedIdx=t)}return n}function Ac(t,e){return"number"!=typeof t||Number.isNaN(t)?e:t}Pi.Static,Zo("",.5,.5);function Wc(t,e,o){const i=I,n=[new Uint16Array([0,i,i,0,0]),new Uint16Array([0,0,i,i,0])],a=function(t){const e=[],o=Object.keys(Nt).length;for(let t=0;t<o;t++)e[t]=NaN;for(const o in t){if(void 0===Nt[o])throw new Error(`No such tile prop '${o}'`);e[Nt[o]]=t[o]}return e}({}),r=yi(o,Tt,Nt,a,Lt);!function({collector:t,generator:e,args:o}){do{e(t,...o)}while(t.isOverloaded())}({collector:t,generator:_n.generate,args:[0,e,r,n]})}const Pc={1:function(t){let e=0;for(let o=0;o<t.length;o++)e=e+t[o]&255,t[o]=e},2:function(t){let e=0;for(let o=0;o<t.length;o++)e=e+t[o]&65535,t[o]=e},4:function(t){let e=0;for(let o=0;o<t.length;o++)e=e+t[o]>>>0,t[o]=e},8:function(t){let e=0,o=0,i=0;for(let n=0;n<t.length;n+=2)i=o+t[n],o=i>>>0,t[n]=o,e=e+t[n+1]+(i>4294967295?1:0)>>>0,t[n+1]=e}};class Hc{constructor(t){this.offset=0,this.buffer=t,this.u8=new Uint8Array(t),this.u16=new Uint16Array(t),this.u32=new Uint32Array(t),this.s8=new Int8Array(t),this.s16=new Int16Array(t),this.s32=new Int32Array(t),this.f32=new Float32Array(t)}readS8(){return this.s8[this.offset++]}readU16(){const t=this.u16[this.offset>>1];return this.offset+=2,t}readU32(){const t=this.u32[this.offset>>2];return this.offset+=4,t}readF32(){const t=this.f32[this.offset>>2];return this.offset+=4,t}readU8Vector(t=1){const e=this.readU32()*t,o=3&-e,i=this.u8.subarray(this.offset,this.offset+e);return this.offset+=e+o,i}readU16Vector(t=1){const e=this.readU32()*t*2,o=3&-e,i=this.u16.subarray(this.offset>>1,this.offset+e>>1);return this.offset+=e+o,i}}function jc(t,e,o,i){const n=e.BYTES_PER_ELEMENT;t.offset+=-t.offset&n-1;const a=new e(t.buffer,t.offset,o);return t.offset+=n*o,i&&Pc[n](a),a}function Oc(t,e,o){t.offset+=7&-t.offset;const i=new Uint32Array(t.buffer,t.offset,2*e);return t.offset+=8*e,o&&Pc[8](i),i}function Nc(t,e,o){t.offset+=3&-t.offset;const i=new Uint32Array(t.buffer,t.offset,e),n=new Float32Array(t.buffer,t.offset,e);let a;if(t.offset+=4*e,o){let t=0;for(a=0;a<e;a++)t=t+i[a]>>>0,n[a]=t/1e3}else for(a=0;a<e;a++)n[a]=i[a]/1e3;return n}function Lc(t,e,o){t.offset+=3&-t.offset;const i=new Int32Array(t.buffer,t.offset,e),n=new Float32Array(t.buffer,t.offset,e);let a;if(t.offset+=4*e,o){let t=0;for(a=0;a<e;a++)t=t+i[a]>>>0,n[a]=(0|t)/1e3}else for(a=0;a<e;a++)n[a]=i[a]/1e3;return n}function Tc(t,e,o){switch(o){case 2:case 10:return jc(t,Uint8Array,e);case 3:return jc(t,Uint8Array,e,!0);case 4:return jc(t,Uint16Array,e);case 5:return jc(t,Uint16Array,e,!0);case 6:case 25:return jc(t,Uint32Array,e);case 7:return jc(t,Uint32Array,e,!0);case 8:case 19:return Oc(t,e);case 9:case 20:return Oc(t,e,!0);case 11:return function(t,e){let o=t.offset;const i=t.u8,n=t.buffer,a=[];for(;e--;)a.push(0|i[o++]);const r=[];for(;++e<a.length;){let t=a[e];255===t&&(t=i[o++]|i[o++]<<8|i[o++]<<16|0),r.push(new Uint8Array(n,o,t)),o+=t}return t.offset=o,r}(t,e);case 12:return function(t,e){t.offset+=3&-t.offset;let o=t.offset;const i=t.u32,n=t.buffer,a=[];for(let t=0;t<e;t++)a.push(i[o>>2]),o+=4;const r=[];for(let t=0;t<e;t++){const e=a[t];o+=7&-o,r.push(new Uint8Array(n,o,e)),o+=e}return t.offset=o,r}(t,e);case 13:return jc(t,Int8Array,e);case 14:return jc(t,Int8Array,e,!0);case 15:return jc(t,Int16Array,e);case 16:return jc(t,Int16Array,e,!0);case 17:return jc(t,Int32Array,e);case 18:return jc(t,Int32Array,e,!0);case 21:return Nc(t,e);case 22:return Nc(t,e,!0);case 23:return Lc(t,e);case 24:return Lc(t,e,!0);default:throw new Error("Unknown stream type "+o)}}function Ec(t){let e=0;for(let o=0;o<t.length;o++)e+=t[o];return e}function Bc(t,e,o){return new t.constructor(t.buffer,t.byteOffset+e*t.BYTES_PER_ELEMENT,o)}const Dc=[],Rc=new Int32Array(256);let Uc;const Vc=[],Gc=[],qc=[0,0,0,0,0];let Yc=0,$c=0,Zc=0;const Xc=[];function Kc(t,e,o,i,n,a,r,l,s){const{styleState:c,sourceId:d,sourceAttrs:m,tileInfo:p,pixelRatio:h,selectedIds:u,floorsEnabled:g,hoverId:f,generateOnlySelectedPoi:b,generateOnlyHoveredPoi:y,modelsPath:_}=n,{data:x}=a,v=new Do(u),z=function(t){const e=4*Math.ceil(t.byteLength/4),o=new ArrayBuffer(e);return new Uint8Array(o).set(t),o}(x);if(z.byteLength<8)return i.getAccumulatedData();Dc.length=0;const C=new Hc(z);if(1279676242!==C.readU32())return i.getAccumulatedData();const F=C.readU16();if(2!==F&&3!==F)return console.error(`Unsupported tile format version: "${F}"`),i.getAccumulatedData();C.readU16();const{coords:w}=p,S=Ci(h);!function(t){const e=t.u8;let o=t.offset,i=t.u32[o>>2];o+=4,Yc=i,$c=o;for(;i--;)o=2*e[o++]+o,o=e[o++]+o;t.offset=o+(3&-o)}(C),function(t){const e=t.u32[t.offset>>2];t.offset+=4,Uc=jc(t,Uint8Array,e);const o=jc(t,Uint32Array,e);for(let i=0;i<e;i++){const e=Uc[i];Dc[i]=Tc(t,o[i],e),Rc[i]=0}}(C);return function(t,e,o,i,n,a,r,l,s,c,d,m,p,h,u,g,f,b,y,_,x){const v=Array.from(n.featureAttrs);jt(d,v);const z=Yc,C=jc(r,Int32Array,z),F=Ec(C),w=jc(r,Uint8Array,F,!0),S=jc(r,Uint8Array,Ec(w),!0),I=jc(r,Uint8Array,F,!0),k=jc(r,Uint8Array,Ec(I),!0),M=jc(r,Uint16Array,F,!0);let A=0,W=0,P=0;for(let v=0;v<z;v++){const z=C[v];if(ed(r,d,m),0===v){const t=Dc[Gc[1]];a.setGeoIds(t)}for(let r=0;r<z;r++){const r=w[A];r>0&&(Jc(m,r,S,W,d,t),W+=r);const v=I[A];v>0&&(Qc(m,v,k,P),P+=v);const z=yi(i,g,d.tileProps,m,[],x),C=M[A];C>0&&td(t,e,o,z,n,a,C,l,s,c,d,p,h,u,f,b,y,_),A++}}od()}(F,t,e,c,o,i,C,w,S,v,r,l,s,g,d,m,f,b,y,_,di(w[0]+w[1]+w[2]+1)),i.getAccumulatedData()}function Jc(t,e,o,i,n,a){for(var r;e--;){const e=o[i++],l=Gc[e],s=Vc[e],c=Uc[l];if(8===c||9===c||19===c||20===c)t[s]=he(Dc[l][Rc[l]],Dc[l][Rc[l]+1]),Rc[l]+=2;else{const e=Dc[l][Rc[l]];switch(s){case n.tileProps.objectLength:case n.tileProps.db_centroid_x:case n.tileProps.db_centroid_y:case n.tileProps.componentDistanceEnd:case n.tileProps.componentDistanceStart:case n.tileProps.previousPointX:case n.tileProps.previousPointY:case n.tileProps.nextPointX:case n.tileProps.nextPointY:t[s]=2===a?e*M:e;break;case n.tileProps.db_label:case n.tileProps.db_label2:t[s]=ri(e);break;default:{const o=n.tilePropsByIndex[s];o&&n.reverseDictionaries[o]?t[s]=null!==(r=n.reverseDictionaries[o][e])&&void 0!==r?r:e:t[s]=e}}Rc[l]++}}}function Qc(t,e,o,i){for(;e--;){const e=o[i++];t[Vc[e]]=NaN}}function td(t,e,o,i,n,a,r,l,s,c,d,m,p,h,u,g,f,y){const{tileProps:_,defaultProps:x}=d,{tileAttrs:v,featureAttrs:z}=i,C=l[3];for(let e=0;e<Zc;e++){const o=qc[e];Xc[e]=id(Bc(Dc[o],Rc[o],r),e,t),Rc[o]=Rc[o]+r}if(void 0!==_.db_sublayer&&!Number.isNaN(v[_.db_sublayer])&&Eo(v[_.db_sublayer]))return;const F=v[_.id];let w="number"!=typeof F&&c.has(F);g&&(w=!0);let S=!!f;if(!S&&void 0!==u){if("number"==typeof F||!ge(u,F))return;S=!0}v[_.selected]=w?1:0,v[_.hovered]=S?1:0;for(const t in x){const e=x[t];Number.isNaN(v[e.index])&&(v[e.index]=e.value)}if("number"!=typeof F&&p&&v[_.db_hidden_by_plan_building_id]&&C>=Math.floor(b)&&(m.add(F),a.addFloorHidingMap(F,v[_.db_hidden_by_plan_building_id])),n.featureAttrs.size>0){const t="number"!=typeof F&&n.get(F.hi,F.lo);if(t)for(const e of n.featureAttrs)n.clearAttrs=!1,z[_[e]]=t[e];else if(!1===n.clearAttrs){n.clearAttrs=!0;for(const t in _)void 0!==z[_[t]]&&(z[_[t]]=void 0)}}Gr(a,e,o.getLayers(e.id,_,v).filter((t=>pi(t.filter,i))),i,d,C,h,l,s,Xc,m,g||f,y)}function ed(t,e,o){const i=Object.keys(e.tileProps).length,n=t.u8;let a,r,l=$c;for(r=1;r<i;r++)o[r]=NaN;for(a=n[l++],r=0;r<a;r++)Vc[r]=n[l++],Gc[r]=n[l++];for(a=n[l++],r=0;r<a;r++)qc[r]=n[l++];Zc=a,$c=l,od()}function od(){Xc.length=0}function id(t,e,o){if(2===o&&e<3&&t instanceof Uint16Array)for(let e=0;e<t.length;e++)t[e]*=M;return t}const nd=[[0],[0],[0]],ad=[];function rd(t,e,o,i,n,a,r,l){const{matrix:s,offset:c,id:d,selected:m}=n,p=new Hc(i),h=[];if(!t)return{objects:o.getAccumulatedData(),textures:h};if(1296191066!==p.readU32()||1!==p.readU16())return{objects:o.getAccumulatedData(),textures:[]};p.readU16();const u=p.readU32();for(let t=0;t<u;t++)h.push(p.readU8Vector());const{tileProps:g}=a,f=[],b=Object.keys(g).length;for(let t=0;t<b;t++)f[t]=NaN;if(f[g.db_sublayer]="Building_model",f[g.id]=d,f[g.selected]=m?1:0,f[g.db_region]=r,l.featureAttrs.size>0){jt(a,Array.from(l.featureAttrs))}const y=[],_="number"!=typeof d&&l.get(d.hi,d.lo);if(_)for(const t of l.featureAttrs)l.clearAttrs=!1,y[g[t]]=_[t];else if(!1===l.clearAttrs){l.clearAttrs=!0;for(const t in g)void 0!==y[g[t]]&&(y[g[t]]=void 0)}o.setGeoIds(new Uint32Array([d.lo,d.hi]));const x=p.offset,v=yi(e,Tt,g,f,y);return t.layers.forEach((e=>{if("buildingModel"!==e.type)return;pi(e.filter,v)&&(p.offset=x,function(t,e,o,i,n,a,r){const l=n.readU32();for(let s=0;s<l;s++){const l=n.readU32(),s=$(n.readF32(),n.readF32(),n.readF32()),c=$(n.readF32(),n.readF32(),n.readF32()),d=et(Y(),c,s),m=[];lt(m,a,s),st(m,m,d),m[12]+=r[0],m[13]+=r[1];const p=n.readU16Vector(5),h=n.readU32();for(let a=0;a<h;a++){const a=1===n.readU32()?5:4,r=n.readU16Vector();do{Kn.processSubmesh(t.id,e,o,i,p,r,a,l,m)}while(i.isOverloaded())}const u=n.readU16Vector();do{Kn.processOuterEdge(t.id,e,o,i,p,u,m)}while(i.isOverloaded());const g=qi(ld(p)),f=Zi(g);for(let e=0;e<g.length-2;e++){for(let t=0;t<3;t++){const o=sd(e+t,g.length);nd[0][t]=g[o][0],nd[1][t]=g[o][1],nd[2][t]=0,ad[t]=f[o]}do{Ho.generateFloorsBottomFill(i,t.id,nd,ad,Xn,m)}while(i.isOverloaded())}}}(t,e,v,o,p,s,c))})),{objects:o.getAccumulatedData(),textures:h}}function ld(t){const e=[];for(let o=0;o<t.length;o+=5)e.push([t[o],t[o+1]]);return e}function sd(t,e){return 0===t?0:t%2?(t+1)/2:e-t/2}class cd{constructor(t){this.scope=t,this.tileLoader=new ac,this.tileAttrs=[],this.models={},this.featureStateMap=new rc}fetchTile(t){return this.tileLoader.fetch(t)}abortTileRequest(t){this.tileLoader.abortRequest(t)}generateTile(t){const{styleManager:e,collector:o,hiddenObjectIds:i,metatiles:n}=this.scope,{tileInfo:a}=t,r=Kt(a.coords),l=this.tileLoader.get(r),s=[],c=[];return l.forEach((a=>{const{regionId:r,metatileHash:l}=a,d=this.scope.styleManager.getStyle(t.styleId);if(!d)return;if(t.areTileBoundsVisible&&t.isDefaultSource){const i=e.getStyle(0).layers.find((t=>"debug-tile-bounds"===t.id));Wc(o,i,t.styleState)}const m=Kc(d,e,this.featureStateMap,o,t,a,n[l],this.tileAttrs,i);s.push({regionId:r,metatileHash:l,collectorOutput:m,styleId:d.id}),c.push(...m.transferable)})),this.scope.resetCollector(),this.scope.syncRasterSets(),Promise.resolve({results:s,transferable:c})}deleteTile(t){this.tileLoader.delete(t)}setFeatureStateMap(t){this.featureStateMap=this.buildFeatureState(t)}setFeatureStateMapBinary(t){this.featureStateMap=this.buildFeatureStateFromBinary(t)}generateModel(t){const{regionId:e,metatileHash:o,styleId:i,url:n,id:a}=t,r=fe(a);return new Promise((a=>{const l=this.models[r];(l?Promise.resolve(l):new Promise((t=>{il({url:n},((e,o)=>{if(e||0===o.byteLength){const e=this.models[r]=new ArrayBuffer(0);t(e)}else this.models[r]=o,t(o)}))}))).then((n=>{if(0===n.byteLength)return void a({objects:this.scope.collector.getAccumulatedData(),textures:{isBitmap:!1,data:[]}});const r=this.scope.styleManager.getStyle(i);if(!r)return void a({objects:this.scope.collector.getAccumulatedData(),textures:{isBitmap:!1,data:[]}});const{objects:l,textures:s}=rd(r,t.styleState,this.scope.collector,n,t,this.scope.metatiles[o],e,this.featureStateMap);if(this.scope.createImageBitmap){const t=s.map((t=>{const e=new Blob([t],{type:"image/png"});return createImageBitmap(e)}));Promise.all(t).then((t=>{a({objects:l,textures:{isBitmap:!0,data:t},transferable:[...l.transferable,...t]}),this.scope.resetCollector()}))}else a({objects:l,textures:{isBitmap:!1,data:s},transferable:[...l.transferable,n]}),this.scope.resetCollector()}))}))}destroy(){this.tileLoader.destroy(),this.tileAttrs=[],this.models={}}buildFeatureState(t){const e=new rc;for(const o in t){const i=be(o);e.set(i.hi,i.lo,t[o])}return e}buildFeatureStateFromBinary(t){return function(t){const e=new rc,{attributes:o,size:i}=t,n={stride:o.id.stride,view:new Uint32Array(o.id.buffer,o.id.offset)},a=[];for(const e in t.attributes)if("id"!==e){const{stride:o,buffer:i,offset:n}=t.attributes[e];a.push({name:e,stride:o,view:new Float32Array(i,n)})}for(let t=0;t<i;t++){const o=n.view[t*n.stride/4],i=n.view[t*n.stride/4+1],r={};for(const e of a){const o=e.view[t*e.stride/4];r[e.name]=Number.isNaN(o)?null:o}e.set(i,o,r)}return e}(t)}}function dd(t,e,o,i){return new(o||(o=Promise))((function(n,a){function r(t){try{s(i.next(t))}catch(t){a(t)}}function l(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(r,l)}s((i=i.apply(t,e||[])).next())}))}Object.create;Object.create;function md(t){return{copyright:t.copyright,generator:t.generator,version:t.version,minVersion:t.minVersion}}function pd(t=[]){return t.map((t=>{var e;return{bufferView:t.bufferView,byteOffset:null!==(e=t.byteOffset)&&void 0!==e?e:0,componentType:t.componentType,normalized:t.normalized,count:t.count,type:t.type,max:t.max,min:t.min,sparse:t.sparse,name:t.name,extensions:t.extensions,extras:t.extras}}))}function hd(t=[]){return t.map((t=>({channels:t.channels,samplers:t.samplers,name:t.name,extensions:t.extensions,extras:t.extras})))}function ud(t=[]){return t.map((t=>({uri:t.uri,byteLength:t.byteLength,name:t.name,extensions:t.extensions,extras:t.extras,buffer:void 0})))}function gd(t=[]){return t.map((t=>({buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,byteStride:t.byteStride,target:t.target,name:t.name,extensions:t.extensions,extras:t.extras})))}function fd(t=[]){return t.map((t=>({type:t.type,orthographic:t.orthographic,perspective:t.perspective,name:t.name,extensions:t.extensions,extras:t.extras})))}function bd(t=[]){return t.map((t=>({primitives:t.primitives,name:t.name,weights:t.weights,extensions:t.extensions,extras:t.extras})))}function yd(t=[]){return t.map((t=>({alphaCutoff:t.alphaCutoff,alphaMode:t.alphaMode,doubleSided:t.doubleSided,emissiveFactor:t.emissiveFactor,emissiveTexture:t.emissiveTexture,normalTexture:t.normalTexture,occlusionTexture:t.occlusionTexture,pbrMetallicRoughness:t.pbrMetallicRoughness,name:t.name,extras:t.extras,extensions:t.extensions})))}function _d(t=[]){return t.map((t=>({nodes:t.nodes,extensions:t.extensions,extras:t.extras,name:t.name})))}function xd(t=[]){return t.map((t=>{var e,o,i;const n=null!==(e=t.rotation)&&void 0!==e?e:[0,0,0,1],a=null!==(o=t.scale)&&void 0!==o?o:[1,1,1],r=null!==(i=t.translation)&&void 0!==i?i:[0,0,0];return{camera:t.camera,children:t.children,matrix:t.matrix?nt(...t.matrix):void 0,rotation:Aa(...n),scale:$(...a),translation:$(...r),name:t.name,mesh:t.mesh,skin:t.skin,extras:t.extras,extensions:t.extensions}}))}function vd(t=[]){return t.map((t=>({bufferView:t.bufferView,mimeType:t.mimeType,name:t.name,uri:t.uri,extensions:t.extensions,extras:t.extras,image:void 0})))}function zd(t=[]){return t.map((t=>({extensions:t.extensions,extras:t.extras,name:t.name,sampler:t.sampler,source:t.source})))}function Cd(t=[]){return t.map((t=>({extensions:t.extensions,extras:t.extras,name:t.name,magFilter:t.magFilter,minFilter:t.minFilter,wrapS:t.wrapS,wrapT:t.wrapT})))}function Fd(t=[]){return t.map((t=>({joints:t.joints,extensions:t.extensions,extras:t.extras,inverseBindMatrices:t.inverseBindMatrices,name:t.name,skeleton:t.skeleton})))}const wd="image/jpeg",Sd="image/png",Id="image/texture";function kd(t){return t.substring(0,t.lastIndexOf("/")+1)}function Md(t){const e=atob(t.split(",")[1]),o=new ArrayBuffer(e.length),i=new Uint8Array(o);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return o}class Ad{constructor(t){this.data=t}extractGlbData(){if(void 0===this.getCheckedGlbInfo())return{json:Ed,buffers:[]};let t;const e=[],o=this.getAllChunkInfos();for(const i of o)i.type!==Ad.jsonChunkType||t?i.type===Ad.binaryChunkType&&e.push(this.getBufferFromChunk(i)):t=this.getJsonFromChunk(i);return{json:t||Ed,buffers:e}}getCheckedGlbInfo(){const t=new Uint32Array(this.data,0,Ad.glbHeaderInts),e=t[0],o=t[1],i=t[2];if(this.checkEquality(e,Ad.glbMagic,"glb magic")&&this.checkEquality(o,Ad.glbVersion,"glb header version")&&this.checkEquality(i,this.data.byteLength,"glb byte length"))return{magic:e,version:o,length:i}}getAllChunkInfos(){const t=[];let e=4*Ad.glbHeaderInts;for(;e<this.data.byteLength;){const o=this.getChunkInfo(e);t.push(o),e+=o.length+4*Ad.glbChunkHeaderInts}return t}getChunkInfo(t){const e=new Uint32Array(this.data,t,Ad.glbChunkHeaderInts);return{start:t+4*Ad.glbChunkHeaderInts,length:e[0],type:e[1]}}getJsonFromChunk(t){const e=t.length,o=4*(Ad.glbHeaderInts+Ad.glbChunkHeaderInts),i=new Uint8Array(this.data,o,e),n=new TextDecoder("utf-8").decode(i);return JSON.parse(n)}getBufferFromChunk(t){return this.data.slice(t.start,t.start+t.length)}checkEquality(t,e,o){return t===e||(console.error(`[GLB MODEL PARSING ERROR] Found invalid/unsupported ${o}, expected: ${e}, but was: ${t}`),!1)}}Ad.glbHeaderInts=3,Ad.glbChunkHeaderInts=2,Ad.glbMagic=1179937895,Ad.glbVersion=2,Ad.jsonChunkType=1313821514,Ad.binaryChunkType=5130562;let Wd;function Pd(){Wd=function(){return dd(this,void 0,void 0,(function*(){const t=yield function(){return dd(this,void 0,void 0,(function*(){let t=yield fetch(r).then((t=>t.text()));const e="if (typeof exports === 'object' && typeof module === 'object')",o=t.indexOf(e);return 0!==o&&(t=t.slice(0,o),t+="return DracoDecoderModule;"),t}))}();return new Function(t)()()}))}().then((t=>t)).catch((t=>{const e="Draco decoder module failed to initialize"+((null==t?void 0:t.message)?` with the following error: ${t.message}`:".");throw new Error(e)}))}function Hd(t){switch(t){case 5120:return"Int8Array";case 5121:return"Uint8Array";case 5122:return"Int16Array";case 5123:return"Uint16Array";case 5124:return"Int32Array";case 5125:return"Uint32Array";default:return"Float32Array"}}function jd(t,e,o,i,n,a){const r=n.num_components(),l=o.num_points()*r;let s,c,d;switch(a){case"Float32Array":d=4*l,s=t._malloc(d),e.GetAttributeDataArrayForAllPoints(o,n,t.DT_FLOAT32,d,s),c=new Float32Array(t.HEAPF32.buffer,s,l).slice(),t._free(s);break;case"Int8Array":s=t._malloc(l),e.GetAttributeDataArrayForAllPoints(o,n,t.DT_INT8,l,s),c=new Int8Array(t.HEAP8.buffer,s,l).slice(),t._free(s);break;case"Int16Array":d=2*l,s=t._malloc(d),e.GetAttributeDataArrayForAllPoints(o,n,t.DT_INT16,d,s),c=new Int16Array(t.HEAP16.buffer,s,l).slice(),t._free(s);break;case"Int32Array":d=4*l,s=t._malloc(d),e.GetAttributeDataArrayForAllPoints(o,n,t.DT_INT32,d,s),c=new Int32Array(t.HEAP32.buffer,s,l).slice(),t._free(s);break;case"Uint8Array":s=t._malloc(l),e.GetAttributeDataArrayForAllPoints(o,n,t.DT_UINT8,l,s),c=new Uint8Array(t.HEAPU8.buffer,s,l).slice(),t._free(s);break;case"Uint16Array":d=2*l,s=t._malloc(d),e.GetAttributeDataArrayForAllPoints(o,n,t.DT_UINT16,d,s),c=new Uint16Array(t.HEAPU16.buffer,s,l).slice(),t._free(s);break;case"Uint32Array":d=4*l,s=t._malloc(d),e.GetAttributeDataArrayForAllPoints(o,n,t.DT_UINT32,d,s),c=new Uint32Array(t.HEAPU32.buffer,s,l).slice(),t._free(s);break;default:throw new Error("DRACOLoader: Unexpected attribute type.")}return{name:i,array:c,itemSize:r,componentType:a}}function Od(t,e,o,i){const n=t.bufferView,a=e.bufferViews[n],r=e.buffers[a.buffer],l=new Int8Array(r.buffer).slice(a.byteOffset,a.byteOffset+a.byteLength),s=new o.Decoder,c=new o.DecoderBuffer;c.Init(l,a.byteLength);const d=function(t,e,o,i,n,a){let r,l;const s=e.GetEncodedGeometryType(o);if(s!==t.TRIANGULAR_MESH)throw new Error("DRACOLoader: Unexpected geometry type.");if(r=new t.Mesh,l=e.DecodeBufferToMesh(o,r),!l.ok()||0===r.ptr)throw new Error("DRACOLoader: Decoding failed: "+l.error_msg());const c={index:null,attributes:{}},d=r.num_points();for(const o in i){let l,s=5120;for(const[t,e]of Object.entries(a))if(t===o){s=n.accessors[e].componentType,l=n.accessors[e].count;break}if(d!==l)throw new Error(`DRACOLoader: Accessor vertex count ${l} does not match draco decoder vertex count  ${d}`);s=Hd(s);const m=e.GetAttributeByUniqueId(r,i[o]),p=jd(t,e,r,o,m,s);c.attributes[p.name]=p}if(s===t.TRIANGULAR_MESH){const o=3*r.num_faces(),i=4*o,n=t._malloc(i);e.GetTrianglesUInt32Array(r,i,n);const a=new Uint32Array(t.HEAPU32.buffer,n,o).slice();t._free(n),c.index={array:a,itemSize:1}}return t.destroy(r),c}(o,s,c,t.attributes,e,i);return o.destroy(c),d}function Nd(t,e,o,i,n){const a={buffer:t,byteLength:t.byteLength,extensions:void 0,extras:void 0,name:void 0,uri:void 0};e.buffers.push(a);const r={buffer:e.buffers.length-1,byteLength:t.byteLength,byteOffset:0,byteStride:0,extensions:void 0,extras:void 0,name:n,target:i};e.bufferViews.push(r),e.accessors[o].byteOffset=0,e.accessors[o].bufferView=e.bufferViews.length-1}function Ld(t,e){let o;switch(e){case"Int8Array":o=new ArrayBuffer(t.length);new Int8Array(o).set(t);break;case"Uint8Array":o=new ArrayBuffer(t.length);new Uint8Array(o).set(t);break;case"Int16Array":o=new ArrayBuffer(2*t.length);new Int16Array(o).set(t);break;case"Uint16Array":o=new ArrayBuffer(2*t.length);new Uint16Array(o).set(t);break;case"Int32Array":o=new ArrayBuffer(4*t.length);new Int32Array(o).set(t);break;case"Uint32Array":o=new ArrayBuffer(4*t.length);new Uint32Array(o).set(t);break;default:o=new ArrayBuffer(4*t.length);new Float32Array(o).set(t)}return o}function Td(t,e,o,i){const n=e.index.array;if(void 0!==i&&(Nd(n,t,i,34963,"index buffer view"),t.accessors[i].componentType=5125),void 0!==e.attributes.POSITION){Nd(Ld(e.attributes.POSITION.array,e.attributes.POSITION.componentType),t,o.POSITION,34962,"position buffer view")}if(void 0!==e.attributes.NORMAL){Nd(Ld(e.attributes.NORMAL.array,e.attributes.NORMAL.componentType),t,o.NORMAL,34962,"normal buffer view")}if(void 0!==e.attributes.TEXCOORD_0){Nd(Ld(e.attributes.TEXCOORD_0.array,e.attributes.TEXCOORD_0.componentType),t,o.TEXCOORD_0,34962,"TEXCOORD_0 buffer view")}if(void 0!==e.attributes.TEXCOORD_1){Nd(Ld(e.attributes.TEXCOORD_1.array,e.attributes.TEXCOORD_1.componentType),t,o.TEXCOORD_1,34962,"TEXCOORD_1 buffer view")}if(void 0!==e.attributes.TANGENT){Nd(Ld(e.attributes.TANGENT.array,e.attributes.TANGENT.componentType),t,o.TANGENT,34962,"Tangent buffer view")}if(void 0!==e.attributes.COLOR_0){Nd(Ld(e.attributes.COLOR_0.array,e.attributes.COLOR_0.componentType),t,o.COLOR_0,34962,"color buffer view")}if(void 0!==e.attributes.JOINTS_0){Nd(Ld(e.attributes.JOINTS_0.array,e.attributes.JOINTS_0.componentType),t,o.JOINTS_0,34963,"JOINTS_0 buffer view")}if(void 0!==e.attributes.WEIGHTS_0){Nd(Ld(e.attributes.WEIGHTS_0.array,e.attributes.WEIGHTS_0.componentType),t,o.WEIGHTS_0,34963,"WEIGHTS_0 buffer view")}if(void 0!==e.attributes.JOINTS_1){Nd(Ld(e.attributes.JOINTS_1.array,e.attributes.JOINTS_1.componentType),t,o.JOINTS_1,34963,"JOINTS_1 buffer view")}if(void 0!==e.attributes.WEIGHTS_1){Nd(Ld(e.attributes.WEIGHTS_1.array,e.attributes.WEIGHTS_1.componentType),t,o.WEIGHTS_1,34963,"WEIGHTS_1 buffer view")}}const Ed={asset:{version:""}};function Bd(t,e){return dd(this,void 0,void 0,(function*(){if(void 0===e.uri)return!1;const o=e.mimeType||((i=e.uri).startsWith("data:image")?i.split(";")[0].split(":")[1]:".png"===i.substring(i.lastIndexOf("."))?Sd:wd);var i;if(e.mimeType=o,"undefined"==typeof createImageBitmap||o!==wd&&o!==Sd)return console.error(`Unsupported image type ${o}`),!1;if(e.uri.startsWith("data:image")){const t=Md(e.uri);e.image=yield createImageBitmap(new Blob([t],{type:o}))}else{const i=yield fetch(`${kd(t.path)}${e.uri}`);if(!i.ok)return console.error(yield i.text()),!1;const n=yield i.arrayBuffer();e.image=yield createImageBitmap(new Blob([n],{type:o}))}return!0}))}function Dd(t,e){return dd(this,void 0,void 0,(function*(){yield Promise.all(t.images.map((o=>dd(this,void 0,void 0,(function*(){if(o.image)return void(o.mimeType!==Id&&console.error("Image has already been loaded"));const i=yield function(t,e,o){var i;return dd(this,void 0,void 0,(function*(){if(!e.bufferView)return!1;const n=t.bufferViews[e.bufferView];if(void 0===n)return!1;yield o;const a=t.buffers[n.buffer].buffer;if(!a)return!1;const r=new Uint8Array(a,n.byteOffset,n.byteLength);if("undefined"==typeof createImageBitmap||!function(t){const e=137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7],o=255===t[0]&&216===t[1]&&255===t[2];return e||o}(r))return console.error(`Unsupported image type ${null!==(i=e.mimeType)&&void 0!==i?i:""}`),!1;{const t=new Blob([r],{type:e.mimeType});e.image=yield createImageBitmap(t)}return!0}))}(t,o,e);if(i)return;(yield Bd(t,o))||console.error(`Was not able to resolve image with uri ${o.uri}`)})))))}))}function Rd(t){return dd(this,void 0,void 0,(function*(){const e=t.endsWith(".glb"),o=function(t){return t.startsWith("/")?`${self.origin}${t}`:t}(t),i=yield self.fetch(o);let n,a=Ed;if(e){const t=yield i.arrayBuffer(),e=new Ad(t).extractGlbData();a=e.json,n=e.buffers}else a=yield i.json();const r=function(t,e){var o,i,n;return{path:e,extensions:t.extensions,extensionsRequired:null!==(o=t.extensionsRequired)&&void 0!==o?o:[],extensionsUsed:null!==(i=t.extensionsUsed)&&void 0!==i?i:[],extras:t.extras,accessors:pd(t.accessors),buffers:ud(t.buffers),bufferViews:gd(t.bufferViews),cameras:fd(t.cameras),scene:null!==(n=t.scene)&&void 0!==n?n:0,scenes:_d(t.scenes),nodes:xd(t.nodes),materials:yd(t.materials),meshes:bd(t.meshes),asset:md(t.asset),animations:hd(t.animations),images:vd(t.images),textures:zd(t.textures),samplers:Cd(t.samplers),skins:Fd(t.skins)}}(a,o),l=function(t,e){return dd(this,void 0,void 0,(function*(){e?t.buffers[0].buffer=e[0]||[]:yield Promise.all(t.buffers.map((e=>dd(this,void 0,void 0,(function*(){if(e.buffer)console.error("Buffer is already loaded");else if(e.uri)if(e.uri.startsWith("data:"))e.buffer=Md(e.uri);else{const o=yield self.fetch(kd(t.path)+e.uri).then((t=>t.arrayBuffer()));e.buffer=o}else console.error("Buffer can not be loaded. No uri")})))))}))}(r,n),s=Dd(r,l),c=function(t){var e;return dd(this,void 0,void 0,(function*(){if(!Array.isArray(t.meshes))return Promise.resolve();for(const o of t.meshes)if(Array.isArray(o.primitives))for(const i of o.primitives){if(void 0===(null===(e=i.extensions)||void 0===e?void 0:e.KHR_draco_mesh_compression))continue;Wd||Pd();const o=yield Wd;if(!o)continue;const n=Od(i.extensions.KHR_draco_mesh_compression,t,o,i.attributes);Td(t,n,i.attributes,i.indices)}}))}(r);return yield Promise.all([l,s,c]),r}))}function Ud(t){const e=new cl(t),o=new dl(e),i=new xl(o),n=new pl,r=new yl,l={main:{addNewRasterSets:o.get(al.Main,"addNewRasterSets")},labeling:{addNewRasterSets:o.get(al.Labeling,"addNewRasterSets")}},s={},c=new Do,d={},m=new ol("parser"),p=function(t,e,o){let i,n,a,r;const l=function(){const s=Date.now()-a;s<e&&s>=0?i=setTimeout(l,e-s):(i=null,o||(r=t(...n),i||(n=null)))};return function(...s){n=s,a=Date.now();const c=o&&!i;return i||(i=setTimeout(l,e)),c&&(r=t(...n),n=null),r}}((()=>m.reset()),3e3),h=()=>{const t=m.atlasPacker.getNewRasterSets();t.size&&t.forEach(((t,e)=>{l.main.addNewRasterSets(e,t),l.labeling.addNewRasterSets(e,t)}))},u={sources:{},collector:m,styleManager:r,syncNewRasterSets:h,debouncedResetCollector:p};i.set("GeoJsonSource",nc,u);const g={hiddenObjectIds:c,collector:m,metatiles:s,styleManager:r,syncRasterSets:h,resetCollector:p,createImageBitmap:t.createImageBitmap};i.set("ZenithWorker",cd,g);const f=(t,e)=>{s[t]=e};o.set("setMetatile",f);const b=new _l(o);f(-3,b);o.set("appendHiddenObjectIds",(t=>{t.forEach((t=>c.add(t)))}));o.set("syncStyle",((...t)=>r.proxySyncStyle(...t)));o.set("prepareAtlas",(e=>new Promise((o=>{il({url:e},((e,i)=>{if(e||0===i.byteLength)o(void 0);else if(t.createImageBitmap){const t=new Blob([i],{type:"image/png"});createImageBitmap(t).then((t=>{o({isBitmap:!0,data:[t],transferable:[t]})}))}else o({isBitmap:!1,data:[i],transferable:[i]})}))}))));o.set("packRasters",(t=>{for(let e=0;e<t.length;e+=3){const o=t[e+2],i={type:Pi.Loaded,isSvg:!1,index:o,key:`loaded-${o}`,name:"",fileName:"",rasters:[{rasterSetIndex:o,rasterIndex:0,w:t[e],h:t[e+1],atlasIndex:0,x:0,y:0,isPacked:!1,anchorX:0,anchorY:0}]};m.atlasPacker.pack(i,[t[e]],1)}const e=m.atlasPacker.getPackedRasters(),o=[];return void 0!==e&&o.push(e.buffer),{packedRasters:e,transferable:o}}));o.set("fetchTrafficTile",(t=>n.fetch(t.coords,t.tileServer,t.tileProtocol,t.regionIds,t.timestamp)));o.set("deleteTrafficTile",(t=>{n.delete(t)}));o.set("abortTrafficTileRequest",(t=>{n.abortRequest(t)}));const y=Ht(["db_sublayer","traffic_road_class","traffic_color","traffic_road_z_level"],["Traffic_jams"]);o.set("generateTrafficTile",(({coords:t,pixelRatio:e,styleState:o,styleId:i,sourceId:a})=>{const l=Kt(t),s=[],c=[],d=r.getStyle(i);if(!d)return{results:s,transferable:c};const p=n.get(l);if(p){const i=function(t,e,o,i,n,a,r,l){if(!o)return t.getAccumulatedData();const s=r[3],{tileProps:c}=e,d=Object.keys(c).length,m=[],p=Ci(n),h=yi(i,Tt,c,m,Lt);for(const i of a.tile){const{color:n=0,geo:a,road:u,normals:g,zLevel:f=0}=i;for(let t=0;t<d;t++)m[t]=NaN;m[c.db_sublayer]="Traffic_jams",m[c.traffic_color]=n,m[c.traffic_road_class]=u,m[c.traffic_road_z_level]=f,m[c.beginningIsCut]=0,m[c.endingIsCut]=0;for(let i=0;i<a.length;i++){const n=a[i],c=g[i],d=[[],[],[],[]];for(let t=0;t<n.length;t++)d[0][t]=n[t][0]*M,d[1][t]=n[t][1]*M,d[2][t]=c[t][0],d[3][t]=c[t][1];const m=o.layers.filter((t=>pi(t.filter,h)));Gr(t,o,m,h,e,s,l,r,p,d,new Do)}}return t.getAccumulatedData()}(m,y,d,o,e,p,t,a);s.push({regionId:1,metatileHash:0,styleId:d.id,collectorOutput:i})}return{results:s,transferable:c}}));o.set("loadFloor",((t,e)=>new Promise((o=>{il({url:`${e}/complexes/${t}?fields=floorGeometries&format=pbf`},((e,i)=>{if(e||0===i.byteLength)return void o({type:"error",errorStatus:e?e.status:0});const n=new(a())(i),r=ll.Z.read(n),l=r.tileCoords;d[t]=Object.assign(Object.assign({},r),{tileCoords:[l[0],l[1],l[2],l[2]]}),b.addData((t=>{const e=new Set,o=new Set,{floorGeometries:i,entities:n}=t;for(let t=0;t<i.length;t++){const{rooms:o}=i[t];for(let t=0;t<o.length;t++){const{sublayer:i,areaSublayer:n,wallSublayer:a}=o[t];e.add(i),a&&e.add(a),e.add(n)}}for(let t=0;t<n.length;t++){const{humanReadableIconId:i,sublayer:a}=n[t];e.add(a),i&&o.add(i)}return{sublayers:e,objectClasses:o}})(d[t]));const s={};r.entities.forEach((t=>{t.firmId&&(s[t.firmId]=t.floorIndex)})),o({type:"success",center:r.center,bound:r.bound,defaultFloor:r.defaultFloor,floors:r.floorGeometries.map((({ids:t,name:e})=>({ids:t,name:e}))),buildings:r.buildings.concat(r.hybrids),firmsToFloorIndexMap:s})}))}))));o.set("generateFloor",((t,e,o,i,n,a,l,s,c)=>{const u={tileCoords:d[t].tileCoords,collectorOutput:m.getAccumulatedData(),styleId:0},g=r.getStyle(a);if(!g)return u;let f;return f=c?m.getAccumulatedData():function(t,e,o,i,n,a,r,l,s,c){var d;const{floorGeometries:m,defaultFloor:p,tileCoords:h,entities:u}=i,{tileProps:g}=n,f=Ci(r),b=new Do,y=new Do(s),_=[],x=Object.keys(g).length;Number.isNaN(l)&&(l=p);const v=m[l],z=yi(e,Tt,g,_,Lt);for(let e=0;e<v.rooms.length;e++){const i=v.rooms[e];for(let t=0;t<x;t++)_[t]=NaN;const n=be(i.firmIds.length?i.firmIds[0]:i.buildingId);b.add(n);const r=y.has(n);_[g.id]=n,i.isIsland?Qi(i,t,z,o,a,r):(tn(i,z,t,o,a,r,f),en(i,z,t,o,a,r))}for(let e=0;e<u.length;e++){const i=u[e],r=i.sublayer;if(i.floorIndex!==l)continue;if(Eo(r))continue;for(let t=0;t<x;t++)_[t]=NaN;Ji[0]=[i.coordinates[0]*M],Ji[1]=[i.coordinates[1]*M];for(let t=0;t<x;t++)_[t]=NaN;_[g.db_sublayer]=r;let s=!1;const m=i.firmId||i.id;if(m){const t=be(m);s=y.has(t),b.add(t),_[g.id]=t}_[g.selected]=s?1:0,_[g.db_region]=a,Eo(r)||(_[g.db_object_class]=null!==(d=i.humanReadableIconId)&&void 0!==d?d:n.reverseDictionaries.db_object_class[i.iconId]),_[g.db_label]=i.text,_[g.db_label2]=i.text2,_[g.db_icon_priority]=i.priority,_[g.db_label_priority]=i.textPriority;const p=be(i.floorId);t.layers.forEach((e=>{"point"===e.type&&pi(e.filter,z)&&Gi(o,t,e,z,n,h,c,Ji,f,void 0,p)}))}return o.setGeoIds(new Uint32Array(b.toFlatArray())),o.getAccumulatedData()}(g,l,m,d[t],b,e,o,i,n,s),p(),h(),{tileCoords:d[t].tileCoords,collectorOutput:f,transferable:f.transferable,styleId:g.id}}));o.set("generatePersonalPoi",((t,e,o,i,n,a,l,c)=>{const d=r.getStyle(a);if(!d)return;const u=function(t,e,o,i,n,a,r,l,s){var c,d,m;const{tileProps:p,dictionaries:h}=i,u=Object.keys(p).length,g=new Do(r),f=[],b=yi(o,Tt,p,f,Lt);if(void 0===(null===(c=h.db_sublayer)||void 0===c?void 0:c.s_personal_poi))return t.getAccumulatedData();for(let t=0;t<u;t++)f[t]=NaN;const y=Ci(a),_=dt(),x=[];for(const t of l){const e=gt(t.point);mt(_,e),x.push(e)}const v=ce(_),z=Xt(v);for(let o=0;o<l.length;o++){const a=l[o],r=Y();ne(r,x[o],z);const c=be(a.id),h=[[r[0]],[r[1]]];for(let t=0;t<u;t++)f[t]=NaN;f[p.id]=be(a.id),f[p.db_sublayer]="s_personal_poi",f[p.db_object_class]=null!==(d=a.humanReadableClassId)&&void 0!==d?d:null===(m=i.reverseDictionaries.db_object_class)||void 0===m?void 0:m[a.classId],f[p.db_label]=a.name,f[p.db_icon_priority]=1,f[p.db_label_priority]=0,f[p.selected]=g.has(c)?1:0,f[p.db_region]=n,ml=e.layers.filter((t=>pi(t.filter,b)));const _=void 0,C=new Do;Gr(t,e,ml,b,i,_,s,v,y,h,C)}return t.getAccumulatedData()}(m,d,l,s[o],e,i,n,t,c);return p(),h(),{collectorOutput:u,transferable:u.transferable,styleId:d.id}}));o.set("loadModel",((t,e)=>{let o;if(e>=0){const i=r.getStyle(t);if(void 0===i)return Promise.resolve(void 0);o=function(t,e){return Cr(e.modelsBaseUrl,t)}(i.models[e].url,i)}else o=m.getDataModelUrl(e);return o?Rd(o):Promise.resolve(void 0)}))}Ud(self);class Vd{constructor(){this.name="",this.range="",this.glyphs={}}}class Gd{constructor(){this.id=0,this.range=0,this.bitmap=null,this.top=0,this.left=0,this.advance=0,this.x=0,this.y=0,this.width=0,this.height=0,this.texTop=0,this.texLeft=0,this.texRight=0,this.texBottom=0}}class qd{constructor(t,e){this.stacks=t.readFields(Yd,[],e)}}function Yd(t,e,o){if(1===t){const t=o.readMessage($d,new Vd);e.push(t)}}function $d(t,e,o){switch(t){case 1:e.name=o.readString();break;case 2:e.range=o.readString();break;case 3:{const t=o.readMessage(Zd,new Gd);e.glyphs[t.id]=t;break}}}function Zd(t,e,o){switch(t){case 1:e.id=o.readVarint(),e.range=li(e.id);break;case 2:e.bitmap=o.readBytes();break;case 3:e.width=o.readVarint()+6;break;case 4:e.height=o.readVarint()+6;break;case 5:e.left=o.readSVarint()-3;break;case 6:e.top=o.readSVarint()+17+3;break;case 7:e.advance=o.readVarint()}}function Xd(t){const e=new qd(new(a())(new Uint8Array(t))).stacks[0].glyphs,{width:o,height:i}=function(t){const e=[],o=new Xr(512,512,{autoResize:!0}),i=Object.keys(t);for(let o=0;o<i.length;o++){const n=t[Number(i[o])];n.bitmap&&e.push({glyph:n,width:n.width,height:n.height})}o.pack(e,{inPlace:!0}),o.shrink();for(let t=0;t<e.length;t++){const o=e[t].glyph;o.x=e[t].x,o.y=e[t].y}return{width:It(o.w),height:It(o.h)}}(e);!function(t,e,o){const i=Object.keys(t);for(let n=0;n<i.length;n++){const a=t[Number(i[n])];a.bitmap&&(a.texTop=ko(a.y/o),a.texLeft=ko(a.x/e),a.texBottom=ko((a.y+a.height)/o),a.texRight=ko((a.x+a.width)/e))}}(e,o,i);const n=function(t,e,o){const i=new Uint8Array(e*o),n=Object.keys(t);for(let o=0;o<n.length;o++){const a=t[Number(n[o])];if(a.bitmap)for(let t=0;t<a.height;t++){const o=e*(a.y+t)+a.x,n=a.width*t;for(let t=0;t<a.width;t++)i[o+t]=a.bitmap[n+t]}}return i.buffer}(e,o,i);return{glyphData:e,bitmap:n,width:o,height:i}}const Kd="tiles.web-staging.2gis.ru",Jd="mapgl_test";function Qd(t){return fetch(Ut("metatile",{host:Kd,tileSet:Jd,protocol:l.protocol,subdomain:l.subdomains.split("")[0],hash:Wt(t)})).then((t=>t.json()))}function tm(t){const{fonts:e}=t,o=[];return e.forEach((e=>{[0,4].forEach((i=>{const n=fetch(function(t,e,o){return Vt(o.fontUrlTemplate,{name:t,range:String(e)})}(e,i,t)).then((t=>t.arrayBuffer())).then((t=>({name:e,range:i,atlas:Xd(t)})));o.push(n)}))})),Promise.all(o)}function em(t){return e=>new Promise((o=>{setTimeout((()=>{o(e)}),t)}))}const om="function"==typeof log?log:console.log;om("Parser"),om("\n    Тест измеряет скорость работы парсера тайлов и генераторов.\n    Замеры происходят не на одном тайле, а на всех тайлах необходимых для показа карты в конкретной точке.\n    Тайлы берутся с боевого сервера.\n");const im=new(i()),nm={center:[988878729,788676263,0],zoom:16,styleZoom:16,rotation:0,pitch:0,size:[1920,1024],viewport:{top:0,right:0,bottom:0,left:0},padding:{top:0,right:0,bottom:0,left:0},demMode:!1,tilesBounds:[[0,0,0],[0,0,0],[0,0,0],[0,0,0]],demTilesBounds:[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]},am=new class{constructor(t){this.state=t,this.position=[0,0,0],this.projectionMatrix=[],this.viewMatrix=[],this.viewProjectionMatrix=[],this.viewProjectionMatrixInverse=[],this.horizonPixelOffset=0,this.horizonPixelOffset=0,this.update()}setState(t){this.state=t,this.update()}update(){this.updatePosition(),this.updateProjectionMatrix(),this.updateViewMatrix(),rt(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),at(this.viewProjectionMatrixInverse,this.viewProjectionMatrix),this.updateHorizonPixelOffset()}putProject(t,e){const{size:o,viewport:i}=this.state,n=this.viewProjectionMatrix,a=e[0],r=e[1],l=e[2],s=o[0]/2,c=o[1]/2,d=n[3]*a+n[7]*r+n[11]*l+n[15];t[0]=s+i.left+(n[0]*a+n[4]*r+n[12])*s/d,t[1]=c+i.top-(n[1]*a+n[5]*r+n[9]*l+n[13])*c/d}project(t){const e=[0,0,0];return this.putProject(e,t),e}unproject(t){const{size:e,viewport:o}=this.state,i=[(t[0]-o.left)/e[0]*2-1,-(Math.max(this.horizonPixelOffset,t[1])-o.top)/e[1]*2+1,0];!function(t,e,o){let i=e[0],n=e[1],a=e[2],r=o[3]*i+o[7]*n+o[11]*a+o[15];r=r||1,t[0]=(o[0]*i+o[4]*n+o[8]*a+o[12])/r,t[1]=(o[1]*i+o[5]*n+o[9]*a+o[13])/r,t[2]=(o[2]*i+o[6]*n+o[10]*a+o[14])/r}(i,i,this.viewProjectionMatrixInverse),i[0]-=this.position[0],i[1]-=this.position[1],i[2]-=this.position[2],J(i,i);const n=-this.position[2]/i[2];return i[0]=this.position[0]+i[0]*n,i[1]=this.position[1]+i[1]*n,i[2]=this.position[2]+i[2]*n,i}getViewportVertices(){const{size:t,viewport:e}=this.state;return[this.unproject([e.left,t[1]+e.top,0]),this.unproject([t[0]+e.left,t[1]+e.top,0]),this.unproject([t[0]+e.left,e.top,0]),this.unproject([e.left,e.top,0])]}getHorizonPixelOffset(){return this.horizonPixelOffset}updatePosition(){const{center:t,rotation:e,zoom:o,pitch:i,size:n}=this.state,a=function(t,e){return bt(e[1])*F/(512*Math.tan(St(f.fov)/2)*Math.pow(2,t))}(o,n),r=Math.max(a*Math.sin(i),1);this.position[0]=t[0]+Math.sin(e)*r,this.position[1]=t[1]-Math.cos(e)*r,this.position[2]=a*Math.cos(i)}updateViewMatrix(){!function(t,e,o,i){let n,a,r,l,s,c,d,m,p,h,u=e[0],g=e[1],f=e[2],b=i[0],y=i[1],_=i[2],x=o[0],v=o[1],z=o[2];Math.abs(u-x)<N&&Math.abs(g-v)<N&&Math.abs(f-z)<N?mat4.identity(t):(d=u-x,m=g-v,p=f-z,h=1/Math.sqrt(d*d+m*m+p*p),d*=h,m*=h,p*=h,n=y*p-_*m,a=_*d-b*p,r=b*m-y*d,h=Math.sqrt(n*n+a*a+r*r),h?(h=1/h,n*=h,a*=h,r*=h):(n=0,a=0,r=0),l=m*r-p*a,s=p*n-d*r,c=d*a-m*n,h=Math.sqrt(l*l+s*s+c*c),h?(h=1/h,l*=h,s*=h,c*=h):(l=0,s=0,c=0),t[0]=n,t[1]=l,t[2]=d,t[3]=0,t[4]=a,t[5]=s,t[6]=m,t[7]=0,t[8]=r,t[9]=c,t[10]=p,t[11]=0,t[12]=-(n*u+a*g+r*f),t[13]=-(l*u+s*g+c*f),t[14]=-(d*u+m*g+p*f),t[15]=1)}(this.viewMatrix,this.position,this.state.center,vt)}updateProjectionMatrix(){const{fov:t,near:e,far:o}=f,{size:i,view:n}=this.correctViewAndSize(),a=i[0]/i[1];let r=e*Math.tan(St(t)/2),l=2*r,s=a*l,c=-s/2;n&&(c+=n.x*s/i[0],r-=n.y*l/i[1],s*=n.width/i[0],l*=n.height/i[1]);const d=c+s,m=r-l,p=this.projectionMatrix;p[0]=2*e/(d-c),p[5]=2*e/(r-m),p[8]=(d+c)/(d-c),p[9]=(r+m)/(r-m),p[10]=-(o+e)/(o-e),p[11]=-1,p[14]=-2*o*e/(o-e),p[1]=p[2]=p[3]=p[4]=p[6]=p[7]=p[12]=p[13]=p[15]=0}correctViewAndSize(){const{size:t,pitch:e,padding:o}=this.state,i=Math.max(0,o.top-o.bottom)*Math.tan(e),n=bt(t[1])+i,a={x:(o.right-o.left)/2,y:(o.bottom-o.top)/2,width:t[0],height:t[1]};a.y+=(n-t[1])/2;return{view:a,size:[t[0],n]}}updateHorizonPixelOffset(){const{viewport:t,size:e,zoom:o}=this.state,i=this.unproject([t.left,e[1]+t.top,0]),n=this.unproject([t.left+e[0]/2,e[1]+t.top,0]),a=this.unproject([e[0]+t.left,e[1]+t.top,0]);et(Ct,a,i),function(t,e,o,i){let n=[],a=[];n[0]=e[0]-o[0],n[1]=e[1]-o[1],n[2]=e[2]-o[2],a[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),a[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),a[2]=n[2],t[0]=a[0]+o[0],t[1]=a[1]+o[1],t[2]=a[2]+o[2]}(Ct,Ct,zt,St(90)),J(Ct,Ct);const r=function(t,e){return t*Math.pow(2,-e)*F/C}(e[1]*f.perspectiveDistanceLimitRatio,o);var l,s,c;X(Ct,Ct,r),s=n,c=Ct,(l=Ct)[0]=s[0]+c[0],l[1]=s[1]+c[1],l[2]=s[2]+c[2],this.putProject(Ct,Ct),this.horizonPixelOffset=Math.max(0,Math.ceil(Ct[1]))}}(nm);nm.tilesBounds=am.getViewportVertices();om("State:"),om(JSON.stringify(nm,null,2)),om("Count: 100"),om("Preparing test");const rm=[],lm=[],sm=function(){let t,e;return{context:{postMessage:e=>{t({data:e})},addEventListener:(t,o)=>{e=o}},api:{postMessage:t=>{e({data:t})},addEventListener:(e,o)=>{t=o}}}}(),cm=new class extends sl{constructor(){super(),this.workers=new Map}addWorker(t,e){this.workers.set(t,e),e.addEventListener("message",(e=>{const{to:o,msg:i,transferable:n}=e.data,a={from:t,to:o,msg:i,transferable:n};this.routeMessage(a)}))}send(t,e,o){const i=this.workers.get(t);if(i){const n={to:t,from:al.Main,msg:e,transferable:o};void 0!==o?i.postMessage(n,o):i.postMessage(n)}}broadcast(t){this.workers.forEach(((e,o)=>{const i={to:o,from:al.Main,msg:t};e.postMessage(i)}))}routeMessage(t){const{from:e,to:o,transferable:i,msg:{type:n}}=t;if(o===al.Main)this.emit("message",t);else if(o===al.All)e!==al.Main&&this.emit(n,t),this.workers.forEach(((o,n)=>{n!==e&&(void 0!==i?o.postMessage(t,i):o.postMessage(t))}));else{const e=this.workers.get(o);e&&(void 0!==i?e.postMessage(t,i):e.postMessage(t))}}};cm.addWorker(al.Parser,sm.api),Ud(sm.context);const dm=new dl(cm),mm=new(new xl(dm).set("ZenithWorker",cd).get(al.Parser)),pm={parser:{setMetatile:dm.get(al.Parser,"setMetatile"),syncStyle:dm.get(al.Parser,"syncStyle")}};dm.set("addNewRasterSets",(()=>{}));const hm=wc({name:"Онлайн 2ГИС Дневная тема",layers:[{id:"225945",name:"Фон",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],10,"#B1DEEF",12,"#B2DDF4",15,"#8ED6F9"],visibility:"visible"},filter:["match",["get","sublayer"],["Background"],!0,!1],metadata:{group:{id:"783706"}}},{id:"726018",name:"Страна",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],0,"#F8F6E7",8,"#F7F3DF"],visibility:"visible"},filter:["match",["get","sublayer"],["Country_area"],!0,!1],metadata:{group:{id:"783706"}}},{id:"740420",name:"Страна 2ГИС",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],0,"#FFFCF0",9,"#F5F0D6",12,"#EFECDC",14,"#F3EFDD",16,"#F5F2E0"],visibility:"visible"},filter:["match",["get","sublayer"],["Country_2gis_area"],!0,!1],metadata:{group:{id:"783706"}}},{id:"862375",name:"Лес",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],3,"rgba(224,238,182,0)",3.2,"#E0EEB6",10,"#C9E297",12,"#C4E08F",15,"#BDDB84",17,"#B8DB80"],visibility:"visible"},filter:["match",["get","sublayer"],["Forest"],!0,!1],metadata:{group:{id:"783706"}}},{id:"735371",name:"Вода",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],10,"#B1DEEF",12,"#B2DDF4",15,"#8ED6F9"],visibility:"visible"},filter:["match",["get","sublayer"],["Water"],!0,!1],metadata:{group:{id:"783706"}}},{id:"238604",name:"Граница страны подложка",type:"line",style:{color:"rgba(0,0,0,0.05)",width:["interpolate",["linear"],["zoom"],5,1,6,4],visibility:"visible"},filter:["match",["get","sublayer"],["Country_line"],!0,!1],maxzoom:8.9,metadata:{group:{id:"783706"}}},{id:"984043",name:"Граница страны",type:"line",style:{color:["interpolate",["linear"],["zoom"],2,"rgba(148,148,148,0.5)",3,"#9D9D9D",5,"#B1B1B1",6,"#B3B3B3"],width:["interpolate",["linear"],["zoom"],0,.1,6,1],visibility:"visible"},filter:["match",["get","sublayer"],["Country_line"],!0,!1],maxzoom:8.9,metadata:{group:{id:"783706"}}},{id:"579581",name:"Дороги",type:"line",style:{color:["interpolate",["linear"],["zoom"],7,"#FFC16B",10,"#F5A22E"],width:1.5,visibility:"visible"},filter:["match",["get","sublayer"],["Roads"],!0,!1],metadata:{group:{id:"783706"}}},{id:"668765",name:"Граница области",type:"line",style:{color:["interpolate",["linear"],["zoom"],5,"rgba(0,0,0,0.15)",6,"rgba(0,0,0,0.2)"],width:.7,visibility:"visible"},filter:["match",["get","sublayer"],["Region_line"],!0,!1],maxzoom:8.9,metadata:{group:{id:"783706"}}},{id:"921006",name:"Океан",type:"point",style:{textFont:"Noto_Sans_Italic",textColor:"rgba(255,255,255,0.9)",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],2,12,3,14,4,15],textLabelingMargin:{leftRight:0,topBottom:0},textMaxLengthPerLine:15},filter:["match",["get","sublayer"],["Ocean"],!0,!1],metadata:{group:{id:"783706"}}},{id:"474677",name:"Крупное море",type:"point",style:{textFont:"Noto_Sans_Italic",textColor:"rgba(89,128,191,0.7)",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],3,11,5,13],textLabelingMargin:{leftRight:20,topBottom:20}},filter:["match",["get","sublayer"],["Sea_big"],!0,!1],metadata:{group:{id:"783706"}}},{id:"71034",name:"Мелкое море и крупное озеро",type:"point",style:{textFont:"Noto_Sans_Italic",textColor:"rgba(89,128,191,0.7)",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],5,11,7,14],textLabelingMargin:{leftRight:40,topBottom:20}},filter:["match",["get","sublayer"],["Sea_small","Lake_big"],!0,!1],metadata:{group:{id:"783706"}}},{id:"345952",name:"Мелкое озеро",type:"point",style:{textFont:"Noto_Sans_Italic",textColor:"rgba(89,128,191,0.7)",visibility:"visible",textFontSize:11,textLabelingMargin:{leftRight:0,topBottom:0}},filter:["match",["get","sublayer"],["Lake_small"],!0,!1],metadata:{group:{id:"783706"}}},{id:"781821",name:"Страны 2ГИС",type:"point",style:{textFont:"Noto_Sans",textColor:["interpolate",["linear"],["zoom"],5,"#3A3F40",7,"rgba(58,63,64,0.4)"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],2,11,3,13,4,15,5,18],textHaloColor:["interpolate",["linear"],["zoom"],6,"#FFFFFF",7,"rgba(255,255,255,0.4)"],textHaloWidth:1,textLabelingMargin:{leftRight:1,topBottom:1},textMaxLengthPerLine:15},filter:["match",["get","sublayer"],["Country_text_2gis"],!0,!1],metadata:{group:{id:"783706"}}},{id:"5633",name:"Крупные страны",type:"point",style:{textFont:"Noto_Sans",textColor:["interpolate",["linear"],["zoom"],6,"#3A3F40",7,"rgba(58,63,64,0.4)"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],2,11,3,13,4,15,5,18],textHaloColor:["interpolate",["linear"],["zoom"],6,"#FFFFFF",7,"rgba(255,255,255,0.4)"],textHaloWidth:1,textLabelingMargin:{leftRight:1,topBottom:1},textMaxLengthPerLine:15},filter:["match",["get","sublayer"],["Country_text_big"],!0,!1],metadata:{group:{id:"783706"}}},{id:"985820",name:"Средние страны",type:"point",style:{textFont:"Noto_Sans",textColor:["interpolate",["linear"],["zoom"],6,"#3A3F40",7,"rgba(58,63,64,0.4)"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],2,11,3,13,4,15,6,16],textHaloColor:["interpolate",["linear"],["zoom"],6,"#FFFFFF",7,"rgba(255,255,255,0.4)"],textHaloWidth:1,textLabelingMargin:{leftRight:10,topBottom:10},textMaxLengthPerLine:15},filter:["match",["get","sublayer"],["Country_text_medium"],!0,!1],metadata:{group:{id:"783706"}}},{id:"224266",name:"Малые страны",type:"point",style:{textFont:"Noto_Sans",textColor:["interpolate",["linear"],["zoom"],6,"#3A3F40",7,"rgba(58,63,64,0.4)"],visibility:"visible",textFontSize:13,textHaloColor:["interpolate",["linear"],["zoom"],6,"#FFFFFF",7,"rgba(255,255,255,0.4)"],textHaloWidth:1,textLabelingMargin:{leftRight:5,topBottom:5}},filter:["match",["get","sublayer"],["Country_text_small"],!0,!1],metadata:{group:{id:"783706"}}},{id:"10291",name:"Область",type:"point",style:{textFont:"Noto_Sans_Semibold",textColor:["interpolate",["linear"],["zoom"],6,"rgba(32,34,35,0.4)",9,"rgba(32,34,35,0.4)"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],6,11,9,20],textHaloColor:["interpolate",["linear"],["zoom"],6,"rgba(255,255,255,0.4)",9,"rgba(255,255,255,0.4)"],textHaloWidth:1,textLabelingMargin:{leftRight:25,topBottom:15},textMaxLengthPerLine:15},filter:["match",["get","sublayer"],["Region_text"],!0,!1],metadata:{group:{id:"783706"}}},{id:"675512",name:"Средние города",type:"point",style:{textFont:"Noto_Sans",textColor:["interpolate",["linear"],["zoom"],7,"#4D4D4D",9,"#1A1A1A"],visibility:"visible",textFontSize:12,textHaloColor:"rgba(255,255,255,0.8)",textHaloWidth:1,textLabelingMargin:{leftRight:60,topBottom:30}},filter:["all",["match",["get","sublayer"],["City_medium"],!0,!1],["match",["get","objectClass"],["universe_city"],!0,!1]],metadata:{group:{id:"783706"}}},{id:"565412",name:"Малые города",type:"point",style:{textFont:"Noto_Sans",textColor:"#4D4D4D",visibility:"visible",textFontSize:11,textHaloColor:"rgba(255,255,255,0.8)",textHaloWidth:1,textLabelingMargin:{leftRight:40,topBottom:20}},filter:["match",["get","sublayer"],["City_small"],!0,!1],minzoom:8,metadata:{group:{id:"783706"}}},{id:"256006",name:"Региональные центры",type:"point",style:{textFont:"Noto_Sans",textColor:["interpolate",["linear"],["zoom"],7,"#4D4D4D",9,"#1A1A1A"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],6,11,7,12],textHaloColor:"#FFFFFF",textHaloWidth:1,textLabelingMargin:{leftRight:20,topBottom:20}},filter:["all",["match",["get","sublayer"],["City_regional_center"],!0,!1],["match",["get","objectClass"],["universe_city_rc"],!0,!1]],metadata:{group:{id:"783706"}}},{id:"669195",name:"Малые города 2ГИС",type:"point",style:{textFont:"Noto_Sans",textColor:"#262626",visibility:"visible",textFontSize:12,textHaloColor:"rgba(255,255,255,0.8)",textHaloWidth:1,textLabelingMargin:{leftRight:0,topBottom:0}},filter:["all",["match",["get","sublayer"],["City_2gis_small"],!0,!1],["match",["get","objectClass"],["universe_city_2gis","universe_city_2gis_rc"],!0,!1]],maxzoom:9,metadata:{group:{id:"783706"}}},{id:"799667",name:"Крупные города",type:"point",style:{textFont:"Noto_Sans",iconImage:"universe_city",iconWidth:6,textColor:"#2C2C2C",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],6,11,7,13],textHaloColor:"#FFFFFF",textHaloWidth:1,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:20,topBottom:20},textLabelingMargin:{leftRight:20,topBottom:20}},filter:["match",["get","sublayer"],["City_big"],!0,!1],metadata:{group:{id:"783706"}}},{id:"512609",name:"Средние города 2ГИС",type:"point",style:{textFont:"Noto_Sans",iconImage:"universe_city",iconWidth:6,textColor:["interpolate",["linear"],["zoom"],7,"#2C2C2C",9,"#1A1A1A"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],5,10.5,7,13],textHaloColor:"#FFFFFF",textHaloWidth:1,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:0,topBottom:0},textLabelingMargin:{leftRight:0,topBottom:0}},filter:["all",["match",["get","sublayer"],["Check_in_desk_caption_underground","Area_caption_underground","Terminal_caption_underground","Cabinet_caption_underground","City_2gis_medium"],!0,!1],["match",["get","objectClass"],["universe_city_2gis","universe_city_2gis_rc"],!0,!1]],maxzoom:9,metadata:{group:{id:"783706"}}},{id:"404108",name:"Крупные города 2ГИС",type:"point",style:{textFont:"Noto_Sans",iconImage:"universe_city",iconWidth:6,textColor:["interpolate",["linear"],["zoom"],7,"#2C2C2C",9,"#1A1A1A"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],4,10.5,5,12,6,14],textHaloColor:"#FFFFFF",textHaloWidth:1,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:5,topBottom:5},textLabelingMargin:{leftRight:5,topBottom:5}},filter:["all",["match",["get","sublayer"],["City_2gis_big"],!0,!1],["match",["get","objectClass"],["universe_city_2gis","universe_city_2gis_rc"],!0,!1]],maxzoom:9,metadata:{group:{id:"783706"}}},{id:"792749",name:"Малые столицы",type:"point",style:{textFont:"Noto_Sans",iconImage:"universe_capital",iconWidth:8,textColor:"#2C2C2C",visibility:"visible",textFontSize:14,textHaloColor:"#FFFFFF",textHaloWidth:1,iconLabelingMargin:{leftRight:5,topBottom:5}},filter:["match",["get","sublayer"],["Capital_small"],!0,!1],metadata:{group:{id:"783706"}}},{id:"234318",name:"Столицы",type:"point",style:{textFont:"Noto_Sans",iconImage:"universe_capital",iconWidth:8,textColor:"#2C2C2C",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],4,11,5,13,7,16],textHaloColor:"#FFFFFF",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Capital"],!0,!1],["match",["get","objectClass"],["universe_capital"],!0,!1]],metadata:{group:{id:"783706"}}},{id:"360873",name:"Столицы 2ГИС",type:"point",style:{textFont:"Noto_Sans",iconImage:"universe_capital",iconWidth:8,textColor:["interpolate",["linear"],["zoom"],0,"#2C2C2C",20,"#1A1A1A"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],4,11,5,13,7,16,11,22],textHaloColor:"#FFFFFF",textHaloWidth:1,iconLabelingMargin:{leftRight:5,topBottom:5},textLabelingMargin:{leftRight:5,topBottom:5}},filter:["all",["match",["get","sublayer"],["Capital_2gis"],!0,!1],["match",["get","objectClass"],["universe_capital_2gis"],!0,!1]],maxzoom:9,metadata:{group:{id:"783706"}}},{id:"background",name:"Регион",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],9,"hsl(50, 61%, 90%)",12,"hsl(51, 37%, 90%)",14,"hsl(49, 48%, 91%)",16,"hsl(51, 51%, 92%)"],visibility:"visible",strokeWidth:0},filter:["match",["get","sublayer"],["Region"],!0,!1]},{id:"substrate",name:"Подложка кварталов",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],14,"hsl(81, 55%, 69%)",17,"hsl(80, 71%, 92%)"],visibility:"visible"},filter:["match",["get","sublayer"],["Substrate"],!0,!1],metadata:{group:{id:"197277"}}},{id:"kvar_green",name:"Зеленое насаждение",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],10,"hsl(80, 56%, 74%)",12,"hsl(81, 57%, 72%)",14,"hsl(81, 55%, 69%)",17,"hsl(83, 56%, 68%)"],visibility:"visible",strokeColor:["interpolate",["linear"],["zoom"],10,"hsl(80, 56%, 74%)",12,"hsl(81, 57%, 72%)",14,"hsl(81, 55%, 69%)",17,"hsl(83, 56%, 68%)"],strokeWidth:["interpolate",["linear"],["zoom"],13.9,0,14,1]},filter:["match",["get","sublayer"],["Forest_quarter"],!0,!1],metadata:{group:{id:"197277"}}},{id:"kvar_living",name:"Жилой",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],1,"#f2edd4",12,"hsl(48, 39%, 87%)",15,"hsl(51, 30%, 87%)",17,"hsl(48, 39%, 87%)"],visibility:"visible"},filter:["match",["get","sublayer"],["Dwelling_quarter"],!0,!1],metadata:{group:{id:"197277"}}},{id:"kvar_graveyard",name:"Кладбище",type:"polygon",style:{color:"hsl(75, 37%, 81%)",visibility:"visible"},filter:["match",["get","sublayer"],["Graveyard_quarter"],!0,!1],metadata:{group:{id:"197277"}}},{id:"kvar_private",name:"Частный сектор",type:"polygon",style:{color:"hsl(50, 57%, 90%)",visibility:"visible"},filter:["match",["get","sublayer"],["Private_quarter","s_kvar_beach"],!0,!1],minzoom:9,metadata:{group:{id:"197277"}}},{id:"kvar_prom",name:"Промышленная территория",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],1,"#efefde",9,"hsl(60, 30%, 91%)",12,"hsl(55, 21%, 89%)",15,"hsl(60, 14%, 90%)"],visibility:"visible"},filter:["match",["get","sublayer"],["Garage_quarter","Technical_quarter"],!0,!1],metadata:{group:{id:"197277"}}},{id:"kvar_dacha",name:"Дача",type:"polygon",style:{color:"hsl(79, 66%, 73%)",visibility:"visible"},filter:["match",["get","sublayer"],["Dacha_quarter"],!0,!1],metadata:{group:{id:"197277"}}},{id:"kvar_pedestrian",name:"Пешеходная зона",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],14,"hsl(81, 55%, 69%)",17,"hsl(80, 71%, 92%)"],visibility:"visible",strokeColor:["interpolate",["linear"],["zoom"],14,"hsl(81, 55%, 69%)",17,"hsl(80, 71%, 92%)"]},filter:["match",["get","sublayer"],["Pedestrian_quarter"],!0,!1],metadata:{group:{id:"197277"}}},{id:"kvar_sport",name:"Спортивный объект",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],14,"rgba(222,218,200,0)",14.2,"#dedac8"],visibility:"visible"},filter:["match",["get","sublayer"],["Sport_quarter"],!0,!1],metadata:{group:{id:"197277"}}},{id:"kvar_supplementary",name:"Вспомогательный",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],14,"rgba(255,255,255,0)",14.2,"hsl(0, 0%, 100%)"],visibility:"visible"},filter:["match",["get","sublayer"],["Supplementary_quarter"],!0,!1],minzoom:14,metadata:{group:{id:"197277"}}},{id:"kvar_runway",name:"ВПП",type:"polygon",style:{color:"#ffffff",visibility:"visible"},filter:["match",["get","sublayer"],["Runway_quarter"],!0,!1],minzoom:13,metadata:{group:{id:"197277"}}},{id:"kvar_flowerbed",name:"Клумбы",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],12,"hsl(83, 57%, 72%)",14,"hsl(81, 55%, 69%)",17,"hsl(83, 56%, 68%)"],visibility:"visible",strokeColor:["interpolate",["linear"],["zoom"],12,"hsl(83, 57%, 72%)",14,"hsl(81, 55%, 69%)",17,"hsl(83, 56%, 68%)"]},filter:["match",["get","sublayer"],["Flowerbed_quarter"],!0,!1],minzoom:14,metadata:{group:{id:"197277"}}},{id:"kvar_platform",name:"Ж/Д платформа",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],12,"hsl(55, 21%, 89%)",15,"hsl(60, 14%, 90%)"],visibility:"visible"},filter:["match",["get","sublayer"],["Platform_quarter"],!0,!1],metadata:{group:{id:"197277"}}},{id:"31871",name:"Места интереса",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],11,"rgba(255,153,0,0)",11.2,"rgba(255,153,0,0.14)",16,"rgba(255,153,0,0.05)"],visibility:"visible",strokeWidth:0},filter:["match",["get","sublayer"],["Area_of_interest"],!0,!1],metadata:{group:{id:"197277"}}},{id:"river",name:"Река",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],10,"hsl(196, 66%, 82%)",12,"hsl(201, 75%, 83%)",15,"hsl(200, 90%, 77%)"],visibility:"visible",strokeWidth:["interpolate",["linear"],["zoom"],13.9,0,14,1]},filter:["match",["get","sublayer"],["Water_area"],!0,!1],metadata:{group:{id:"149885"}}},{id:"pool",name:"Бассейн",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],12,"hsl(201, 75%, 83%)",15,"hsl(200, 90%, 77%)",16,"hsl(200, 84%, 68%)"],visibility:"visible"},filter:["match",["get","sublayer"],["Pool"],!0,!1],metadata:{group:{id:"149885"}}},{id:"river line",name:"Река линия",type:"line",style:{color:["interpolate",["linear"],["zoom"],10,"#B3DFEF",12,"#B3DDF4",15,"hsl(200, 90%, 77%)"],width:["interpolate",["exponential",1.3],["zoom"],9.5,.1,20,8],visibility:"visible"},filter:["match",["get","sublayer"],["Water_line"],!0,!1],metadata:{group:{id:"149885"}}},{id:"523344",name:"Кварталы ручной генерализации",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],9,"hsl(50, 61%, 90%)",12,"hsl(51, 37%, 90%)",14,"hsl(49, 48%, 91%)",16,"hsl(51, 51%, 92%)"],visibility:"visible",strokeWidth:0},filter:["match",["get","sublayer"],["Manual_generalization_quarter"],!0,!1]},{id:"parking area",name:"Территория парковки",type:"polygon",style:{color:["interpolate",["linear"],["zoom"],16,"rgba(200,208,214,0)",16.2,"rgba(200,208,214,0.23)"],visibility:"visible"},filter:["match",["get","sublayer"],["Parking_area"],!0,!1],minzoom:16},{id:"house adm 2d",name:"Административные дома",type:"polygon",style:{color:["match",["get","selected"],[!0],"#FF9387",["interpolate",["linear"],["zoom"],14,"rgba(220,216,198,0)",14.3,"hsl(49, 24%, 82%)",15,"#ddd9c7"]],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)",["interpolate",["linear"],["zoom"],15,"#DFDCCD",15.2,"#C5C1AE"]],strokeWidth:["interpolate",["linear"],["zoom"],14.9,0,15,.5]},filter:["match",["get","sublayer"],["Administrative_house","Floor_plan_house","Underground_house"],!0,!1],maxzoom:16,minzoom:14,metadata:{group:{id:"282893"}}},{id:"house known type 2d",name:"Промышленные дома",type:"polygon",style:{color:["match",["get","selected"],[!0],"#FF9387",["interpolate",["linear"],["zoom"],14,"rgba(212,212,212,0)",14.3,"#d4d4d4"]],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)",["interpolate",["linear"],["zoom"],14,"rgba(212,212,212,0)",14.3,"#d4d4d4"]],strokeWidth:0},filter:["match",["get","sublayer"],["Technical_house"],!0,!1],maxzoom:16,minzoom:14,metadata:{group:{id:"282893"}}},{id:"school 2d",name:"Школы",type:"polygon",style:{color:["match",["get","selected"],[!0],"#FF9387",["interpolate",["linear"],["zoom"],14,"rgba(252,251,237,0)",14.3,"#fcfbed",15.5,"#dae1f2"]],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)",["interpolate",["linear"],["zoom"],15,"#FCFBED",15.5,"#D0D7EA",15.8,"#D0D7EA",16,"#B6BCCB"]],strokeWidth:["interpolate",["linear"],["zoom"],14.9,0,15,.5]},filter:["match",["get","sublayer"],["School_house"],!0,!1],maxzoom:16,minzoom:14,metadata:{group:{id:"282893"}}},{id:"preschool 2d",name:"Сады",type:"polygon",style:{color:["match",["get","selected"],[!0],"#FF9387",["interpolate",["linear"],["zoom"],14,"rgba(252,251,237,0)",14.3,"#fcfbed",15.5,"#ead8eb"]],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)",["interpolate",["linear"],["zoom"],15,"#fcfbed",15.5,"#ead8eb",15.8,"#EAD8EB",16,"#CBB9CC"]],strokeWidth:["interpolate",["linear"],["zoom"],14.9,0,15,.5]},filter:["match",["get","sublayer"],["Preschool_house"],!0,!1],maxzoom:16,minzoom:14,metadata:{group:{id:"282893"}}},{id:"house dwelling 2d",name:"Жилые дома",type:"polygon",style:{color:["match",["get","selected"],[!0],"#FF9387",["interpolate",["linear"],["zoom"],14,"rgba(252,251,237,0)",14.3,"#FCFBED"]],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)",["interpolate",["linear"],["zoom"],15,"#FCFBED",15.2,"#E0DDD5",15.8,"#DCDAD3",16,"#C9C3B4"]],strokeWidth:["interpolate",["linear"],["zoom"],14.9,0,15,.5]},filter:["match",["get","sublayer"],["Dwelling_house"],!0,!1],maxzoom:16,minzoom:14,metadata:{group:{id:"282893"}}},{id:"house new 2d",name:"Новостройки",type:"polygon",style:{color:["match",["get","selected"],[!0],"#FF9387",["interpolate",["linear"],["zoom"],14,"rgba(252,251,237,0)",14.3,"#fcfbed",15.5,"#eddfbb"]],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)",["interpolate",["linear"],["zoom"],15,"#FCFBED",15.5,"#E3D6B1",15.8,"#E3D6B1",16,"rgba(202,189,157,0.82)"]],strokeWidth:["interpolate",["linear"],["zoom"],14.9,0,15,.5]},filter:["match",["get","sublayer"],["New_house"],!0,!1],maxzoom:16,minzoom:14,metadata:{group:{id:"282893"}}},{id:"house private 2d",name:"Частные дома",type:"polygon",style:{color:["match",["get","selected"],[!0],"#FF9387",["interpolate",["linear"],["zoom"],15,"rgba(255,244,217,0)",15.3,"#fff4d9"]],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)",["interpolate",["linear"],["zoom"],15,"#EBDFC1",15.8,"#EBDFC1",16,"#D7CEB7"]],strokeWidth:.5},filter:["match",["get","sublayer"],["Private_house"],!0,!1],maxzoom:16,minzoom:15,metadata:{group:{id:"282893"}}},{id:"other roads tunnel",name:"Прочие тоннель",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A",["interpolate",["linear"],["zoom"],13,"hsla(0, 0%, 100%, 0.8)",16.5,"hsla(0, 0%, 100%, 0.4)"]],width:["interpolate",["exponential",1.99],["zoom"],8.5,1,14,1.5,15,3,19,15,20,15],visibility:"visible"},filter:["match",["get","sublayer"],["Other_road_tunnel","Uncovered_road_tunnel"],!0,!1],minzoom:14,metadata:{group:{id:"687899"}}},{id:"main roads tunnel",name:"Основные тоннель",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A",["interpolate",["linear"],["zoom"],13,"hsla(0, 0%, 100%, 0.8)",16.5,"hsla(0, 0%, 100%, 0.4)"]],width:["interpolate",["exponential",1.99],["zoom"],8.5,1,14,1.5,15,3,19,15,20,15],visibility:"visible"},filter:["match",["get","sublayer"],["Main_road_tunnel"],!0,!1],minzoom:14,metadata:{group:{id:"687899"}}},{id:"magistral roads tunnel",name:"Магистральные тоннель",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A",["interpolate",["linear"],["zoom"],13,"hsla(0, 0%, 100%, 0.8)",16.5,"hsla(0, 0%, 100%, 0.4)"]],width:["interpolate",["exponential",1.5],["zoom"],13,3,14,3.6,16,6.7,20,17],visibility:"visible"},filter:["match",["get","sublayer"],["Magistral_road_standard_tunnel"],!0,!1],minzoom:14,metadata:{group:{id:"687899"}}},{id:"intercity roads tunnel",name:"Междугородние тоннель",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A",["interpolate",["linear"],["zoom"],12,"hsla(40, 97%, 62%, 0.8)",15,"hsla(40, 100%, 59%, 0.4)"]],width:["match",["get","selected"],[!0],["interpolate",["exponential",1.5],["zoom"],9,1.5,19,21.5,20,21.5],["interpolate",["exponential",1.5],["zoom"],9,.3,19,20,20,20]],visibility:"visible"},filter:["all",["match",["global","trafficOn"],[!1],!0,!1],["match",["get","sublayer"],["Intercity_road_tunnel","Magistral_road_primary_tunnel"],!0,!1]],minzoom:14,metadata:{group:{id:"687899"}}},{id:"864643",name:"Междугородние тоннель в режиме пробок",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A","rgba(252,235,186,0.4)"],width:["match",["get","selected"],[!0],["interpolate",["exponential",1.5],["zoom"],9,1.5,19,21.5,20,21.5],["interpolate",["exponential",1.5],["zoom"],9,.3,19,20,20,20]],visibility:"visible"},filter:["all",["match",["global","trafficOn"],[!0],!0,!1],["match",["get","sublayer"],["Intercity_road_tunnel","Magistral_road_primary_tunnel"],!0,!1]],minzoom:14,metadata:{group:{id:"687899"}}},{id:"federal roads tunnel",name:"Федеральные тоннель",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A",["interpolate",["linear"],["zoom"],12,"hsla(35, 89%, 54%, 0.8)",15,"hsla(35, 87%, 50%, 0.4)"]],width:["interpolate",["exponential",1.5],["zoom"],9,2.8,19,25,20,25],visibility:"visible"},filter:["all",["match",["global","trafficOn"],[!1],!0,!1],["match",["get","sublayer"],["Federal_road_tunnel"],!0,!1]],minzoom:14,metadata:{group:{id:"687899"}}},{id:"585675",name:"Федеральные тоннель в режиме пробок",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A","rgba(252,235,186,0.4)"],width:["interpolate",["exponential",1.5],["zoom"],9,2.8,19,25,20,25],visibility:"visible"},filter:["all",["match",["global","trafficOn"],[!0],!0,!1],["match",["get","sublayer"],["Federal_road_tunnel"],!0,!1]],minzoom:14,metadata:{group:{id:"687899"}}},{id:"internal roads copy",name:"Внутриквартальные подложка",type:"line",style:{color:["interpolate",["linear"],["zoom"],15,"hsla(0, 0%, 80%, 0)",18,"#cccccc"],width:["interpolate",["exponential",2],["zoom"],16,1.4,18,7,20,7],visibility:"visible"},filter:["match",["get","sublayer"],["Internal_road","Oneway_internal_road"],!0,!1],minzoom:15,metadata:{group:{id:"687899"}}},{id:"437244",name:"Строящиеся дороги  подложка",type:"dashedLine",style:{color:"#CCCCCC",width:["interpolate",["exponential",1.5],["zoom"],14,2.5,20,15.5],gapLength:["interpolate",["exponential",1.5],["zoom"],14,1.5,20,12.5],dashLength:["interpolate",["exponential",1.5],["zoom"],14,3.5,20,30.5]},filter:["match",["get","sublayer"],["Under_construction_road"],!0,!1],metadata:{group:{id:"687899"}}},{id:"other roads background",name:"Прочие подложка",type:"line",style:{color:["interpolate",["linear"],["zoom"],12,"hsla(0, 0%, 78%, 0)",13,"#c6c6c6",16.5,"#cccccc"],width:["interpolate",["exponential",1.99],["zoom"],14,1.5,15,5,19,16,20,16],visibility:"visible"},filter:["match",["get","sublayer"],["Other_road","Uncovered_road","Other_road_pay","Uncovered_road_pay","Oneway_other_road","Oneway_uncovered_road","Other_road_bridge","Uncovered_road_bridge","Other_road_pay_bridge","Uncovered_road_pay_bridge"],!0,!1],minzoom:14,metadata:{group:{id:"687899"}}},{id:"main roads background",name:"Основные подложка",type:"line",style:{color:["interpolate",["linear"],["zoom"],13,"#c6c6c6",16.5,"#cccccc"],width:["interpolate",["exponential",1.5],["zoom"],13,1.8,15,5.8,19,16,20,16],visibility:"visible"},filter:["match",["get","sublayer"],["Main_road","Main_road_pay","Oneway_main_road","Main_road_bridge","Main_road_pay_bridge"],!0,!1],minzoom:13.5,metadata:{group:{id:"687899"}}},{id:"407309",name:"Магистрали подложка",type:"line",style:{color:["interpolate",["linear"],["zoom"],12.3,"rgba(198,198,198,0)",12.4,"#c6c6c6",13.9,"#CCCCCC"],width:["interpolate",["exponential",2],["zoom"],12.5,4,14,5,16,7.5,20,16.8],visibility:"visible"},filter:["match",["get","sublayer"],["Magistral_road_standard","Magistral_road_standard_pay","Oneway_magistral_road_standard","Magistral_road_standard_bridge","Magistral_road_standard_pay_bridge"],!0,!1],minzoom:12,metadata:{group:{id:"687899"}}},{id:"intercity roads background white",name:"Междугородние подложка",type:"line",style:{color:"hsl(0, 0%, 100%)",width:["interpolate",["exponential",1.5],["zoom"],9,3,19,30,20,30],visibility:"visible"},filter:["match",["get","sublayer"],["Oneway_intercity_road","Magistral_road_primary","Intercity_road","Intercity_road_bridge","Magistral_road_primary_bridge","Magistral_road_primary_pay","Intercity_road_pay","Intercity_road_pay_bridge","Magistral_road_primary_pay_bridge"],!0,!1],minzoom:9,metadata:{group:{id:"687899"}}},{id:"federal roads background",name:"Федеральные подложка",type:"line",style:{color:"#ffffff",width:["interpolate",["exponential",1.5],["zoom"],9,4,19,32,20,32],visibility:"visible"},filter:["match",["get","sublayer"],["Oneway_federal_road","Federal_road","Federal_road_pay","Federal_road_pay_bridge","Federal_road_bridge"],!0,!1],minzoom:9,metadata:{group:{id:"687899"}}},{id:"24404",name:"Подземные переходы темная подложка",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],16,"rgba(0,0,0,0)",16.2,"rgba(0,0,0,0.1)"],width:["interpolate",["linear"],["zoom"],16,2,20,8],gapLength:0,dashLength:0},filter:["match",["get","sublayer"],["Pedestrian_road_underground","Pedestrian_road_tunnel"],!0,!1],minzoom:16,metadata:{group:{id:"687899"}}},{id:"789358",name:"Подземные переходы белая подложка",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],16,"rgba(255,255,255,0)",16.2,"rgba(255,255,255,0.4)"],width:["interpolate",["linear"],["zoom"],16,2,20,7],gapLength:0,dashLength:0},filter:["match",["get","sublayer"],["Pedestrian_road_underground","Pedestrian_road_tunnel"],!0,!1],minzoom:16,metadata:{group:{id:"687899"}}},{id:"630940",name:"Подземные переходы",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],16,"rgba(0,0,0,0)",16.2,"rgba(0,0,0,0.2)"],width:["interpolate",["linear"],["zoom"],16,0,17,.4],gapLength:["interpolate",["linear"],["zoom"],16,2,19,2.5],dashLength:["interpolate",["linear"],["zoom"],16,2,17,3,19,3.5],visibility:"visible"},filter:["match",["get","sublayer"],["Pedestrian_road_tunnel","Pedestrian_road_underground"],!0,!1],minzoom:16,metadata:{group:{id:"687899"}}},{id:"internal roads copy 1",name:"Пешеходные дорожки",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],16,"rgba(0,0,0,0)",16.2,"rgba(0,0,0,0.3)",18,"rgba(0,0,0,0.4)"],width:["interpolate",["linear"],["zoom"],16,0,17,.4],gapLength:["interpolate",["linear"],["zoom"],16,2,19,2.5],dashLength:["interpolate",["linear"],["zoom"],16,2,17,3,19,3.5],visibility:"visible"},filter:["match",["get","sublayer"],["Pedestrian_road"],!0,!1],minzoom:16,metadata:{group:{id:"687899"}}},{id:"internal roads",name:"Внутриквартальные",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A","hsl(0, 0%, 100%)"],width:["match",["get","selected"],[!0],["interpolate",["exponential",2],["zoom"],16,1.4,18,7,20,7],["interpolate",["exponential",2],["zoom"],15,.1,18,6,20,6]],visibility:"visible"},filter:["match",["get","sublayer"],["Internal_road","Oneway_internal_road"],!0,!1],minzoom:15,metadata:{group:{id:"687899"}}},{id:"567113",name:"Строящиеся дороги",type:"dashedLine",style:{color:"#FFFFFF",width:["interpolate",["exponential",1.5],["zoom"],14,2,20,15],gapLength:["interpolate",["exponential",1.5],["zoom"],14,2,20,13],dashLength:["interpolate",["exponential",1.5],["zoom"],14,3,20,30]},filter:["match",["get","sublayer"],["Under_construction_road"],!0,!1],metadata:{group:{id:"687899"}}},{id:"other roads",name:"Прочие",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A","hsl(0, 0%, 100%)"],width:["match",["get","selected"],[!0],["interpolate",["exponential",2],["zoom"],14,1.5,15,5,19,16,20,16],["interpolate",["exponential",1.99],["zoom"],14,1,15,4,19,15,20,15]],visibility:"visible"},filter:["match",["get","sublayer"],["Other_road","Uncovered_road","Other_road_pay","Uncovered_road_pay","Oneway_other_road","Oneway_uncovered_road","Other_road_bridge","Uncovered_road_bridge","Other_road_pay_bridge","Uncovered_road_pay_bridge"],!0,!1],minzoom:13,metadata:{group:{id:"687899"}}},{id:"949777",name:"Выделение пешеходных дорожек",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A","rgba(0,0,0,0)"],width:["match",["get","selected"],[!0],["interpolate",["exponential",2],["zoom"],15,5,19,16,20,16],0]},filter:["match",["get","sublayer"],["Pedestrian_road"],!0,!1],metadata:{group:{id:"687899"}}},{id:"main roads",name:"Основные",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A",["interpolate",["linear"],["zoom"],11,"rgba(255,255,255,0)",11.2,"rgba(255,255,255,0.8)",12,"rgba(255,255,255,0.9)",13,"#FFFFFF"]],width:["match",["get","selected"],[!0],["interpolate",["exponential",2],["zoom"],11,1.4,15,5.8,19,16,20,16],["interpolate",["exponential",1.5],["zoom"],11,1,13,1.5,15,4.5,19,15,20,15]],visibility:"visible"},filter:["match",["get","sublayer"],["Main_road","Main_road_pay","Oneway_main_road","Main_road_bridge","Main_road_pay_bridge"],!0,!1],minzoom:11,metadata:{group:{id:"687899"}}},{id:"726655",name:"Магистральные",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A",["interpolate",["linear"],["zoom"],9,"rgba(255,255,255,0)",9.1,"rgba(255,255,255,0.7)",12,"rgba(255,255,255,0.7)",12.5,"#FFFFFF",13.9,"#FFFFFF"]],width:["match",["get","selected"],[!0],["interpolate",["exponential",1.5],["zoom"],13,3.8,14,4.4,16,7.5,20,16.8],["interpolate",["exponential",2],["zoom"],9,1,12.5,3,14,4,16,6.7,20,16]],visibility:"visible"},filter:["match",["get","sublayer"],["Magistral_road_standard","Magistral_road_standard_pay","Oneway_magistral_road_standard","Magistral_road_standard_bridge","Magistral_road_standard_pay_bridge"],!0,!1],maxzoom:20,minzoom:9,metadata:{group:{id:"687899"}}},{id:"intercity roads background",name:"Междугородние обводка",type:"line",style:{color:["interpolate",["linear"],["zoom"],1,"#fada70",10,"#ed9b35"],width:["interpolate",["exponential",1.5],["zoom"],9,1.2,19,21.5,20,21.5],visibility:"visible"},filter:["all",["match",["global","trafficOn"],[!1],!0,!1],["match",["get","sublayer"],["Oneway_intercity_road","Magistral_road_primary","Intercity_road","Intercity_road_bridge","Magistral_road_primary_bridge","Magistral_road_primary_pay","Intercity_road_pay","Intercity_road_pay_bridge","Magistral_road_primary_pay_bridge"],!0,!1]],minzoom:9,metadata:{group:{id:"687899"}}},{id:"390875",name:"Междугородние обводка в режиме пробок",type:"line",style:{color:"#FCEBBA",width:["interpolate",["exponential",1.5],["zoom"],9,1.2,19,21.5,20,21.5],visibility:"visible"},filter:["all",["match",["global","trafficOn"],[!0],!0,!1],["match",["get","sublayer"],["Oneway_intercity_road","Magistral_road_primary","Intercity_road","Intercity_road_bridge","Magistral_road_primary_bridge","Magistral_road_primary_pay","Intercity_road_pay","Intercity_road_pay_bridge","Magistral_road_primary_pay_bridge"],!0,!1]],minzoom:9,metadata:{group:{id:"687899"}}},{id:"intercity roads",name:"Междугородние",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A",["interpolate",["linear"],["zoom"],1,"#fada70",10,"#ffc83d",12,"#fcbd40",15,"#ffb92e"]],width:["match",["get","selected"],[!0],["interpolate",["exponential",1.5],["zoom"],9,1.5,19,21.5,20,21.5],["interpolate",["exponential",1.5],["zoom"],9,.4,19,20,20,20]],visibility:"visible"},filter:["all",["match",["global","trafficOn"],[!1],!0,!1],["match",["get","sublayer"],["Oneway_intercity_road","Magistral_road_primary","Intercity_road","Intercity_road_bridge","Magistral_road_primary_bridge","Magistral_road_primary_pay","Intercity_road_pay","Intercity_road_pay_bridge","Magistral_road_primary_pay_bridge"],!0,!1]],minzoom:9,metadata:{group:{id:"687899"}}},{id:"121829",name:"Междугородние в режиме пробок",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A","#FCEBBA"],width:["match",["get","selected"],[!0],["interpolate",["exponential",1.5],["zoom"],9,1.5,19,21.5,20,21.5],["interpolate",["exponential",1.5],["zoom"],9,.4,19,20,20,20]],visibility:"visible"},filter:["all",["match",["global","trafficOn"],[!0],!0,!1],["match",["get","sublayer"],["Oneway_intercity_road","Magistral_road_primary","Intercity_road","Intercity_road_bridge","Magistral_road_primary_bridge","Magistral_road_primary_pay","Intercity_road_pay","Intercity_road_pay_bridge","Magistral_road_primary_pay_bridge"],!0,!1]],minzoom:9,metadata:{group:{id:"687899"}}},{id:"federal roads",name:"Федеральные",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A",["interpolate",["linear"],["zoom"],1,"#faac38",10,"#f5a22e",12,"#f29b21",15,"#ee9211"]],width:["interpolate",["exponential",1.5],["zoom"],9,2.8,19,25,20,25],visibility:"visible"},filter:["all",["match",["global","trafficOn"],[!1],!0,!1],["match",["get","sublayer"],["Oneway_federal_road","Federal_road","Federal_road_pay","Federal_road_bridge","Federal_road_pay_bridge"],!0,!1]],minzoom:9,metadata:{group:{id:"687899"}}},{id:"29938",name:"Федеральные в режиме пробок",type:"line",style:{color:["match",["get","selected"],[!0],"#FA5C4A","#FCEBBA"],width:["interpolate",["exponential",1.5],["zoom"],9,2.8,19,25,20,25],visibility:"visible"},filter:["all",["match",["global","trafficOn"],[!0],!0,!1],["match",["get","sublayer"],["Oneway_federal_road","Federal_road","Federal_road_pay","Federal_road_bridge","Federal_road_pay_bridge"],!0,!1]],minzoom:9,metadata:{group:{id:"687899"}}},{id:"973940",name:"Пешеходные дорожки мосты",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],16,"rgba(0,0,0,0)",16.2,"rgba(0,0,0,0.3)",18,"rgba(0,0,0,0.4)"],width:["interpolate",["linear"],["zoom"],16,0,17,.4],gapLength:["interpolate",["linear"],["zoom"],16,2,19,2.5],dashLength:["interpolate",["linear"],["zoom"],16,2,17,3,19,3.5],visibility:"visible"},filter:["match",["get","sublayer"],["Pedestrian_road_bridge"],!0,!1],minzoom:16,metadata:{group:{id:"687899"}}},{id:"595890",name:"Стрелки внутриквартальные",type:"oneWayLine",style:{color:["interpolate",["linear"],["zoom"],17,"rgba(181,185,205,0.56)",19,"#B5B9CD"],tipWidth:1.4,lineWidth:["interpolate",["exponential",2],["zoom"],17,1.8,19,2.1],tipHeight:2,lineLength:["interpolate",["exponential",2],["zoom"],15,9,19,12],visibility:"visible",endingOffsets:5,duplicationSpacing:["interpolate",["linear"],["zoom"],15,100,19,500]},filter:["match",["get","sublayer"],["Oneway_internal_road"],!0,!1],minzoom:17},{id:"692658",name:"Стрелки серые",type:"oneWayLine",style:{color:["interpolate",["linear"],["zoom"],15,"rgba(181,185,205,0.56)",17,"#B5B9CD"],tipWidth:1.4,lineWidth:["interpolate",["exponential",2],["zoom"],15,1.8,19,2.1],tipHeight:2,lineLength:["interpolate",["exponential",2],["zoom"],15,9,19,12],visibility:"visible",endingOffsets:10,duplicationSpacing:["interpolate",["linear"],["zoom"],15,100,19,500]},filter:["match",["get","sublayer"],["Oneway_main_road","Oneway_other_road","Oneway_uncovered_road"],!0,!1],minzoom:15},{id:"99517",name:"Стрелки белые",type:"oneWayLine",style:{color:["interpolate",["linear"],["zoom"],15,"rgba(255,255,255,0.56)",17,"#FFFFFF"],tipWidth:1.4,lineWidth:["interpolate",["exponential",2],["zoom"],15,2.1,19,2.5],tipHeight:2,lineLength:["interpolate",["exponential",2],["zoom"],15,10,19,14],visibility:"visible",endingOffsets:10,duplicationSpacing:["interpolate",["linear"],["zoom"],15,100,19,500]},filter:["match",["get","sublayer"],["Oneway_federal_road","Oneway_intercity_road","Oneway_magistral_road_standard"],!0,!1],minzoom:15},{id:"602230",name:"Зебры",type:"dashedLine",style:{color:"rgba(2,2,2,0.1)",width:["interpolate",["linear"],["zoom"],16.5,8,18,10,20,24],gapColor:["interpolate",["linear"],["zoom"],16.5,"rgba(255,255,255,0.5)",16.7,"rgba(255,255,255,0.7)"],gapLength:["interpolate",["linear"],["zoom"],16.5,1,20,4],dashLength:["interpolate",["linear"],["zoom"],16.5,1.5,20,4],visibility:"visible"},filter:["match",["get","sublayer"],["Pedestrian_road_zebra"],!0,!1],minzoom:16.5,metadata:{}},{id:"fences",name:"Заборы линия",type:"line",style:{color:["interpolate",["linear"],["zoom"],15.8,"hsla(34, 6%, 79%, 0)",16,"hsla(34, 6%, 79%, 0.4)",16.5,"hsla(34, 6%, 79%, 0.6)"],width:["interpolate",["linear"],["zoom"],14,.5,20,1.5],visibility:"visible"},filter:["match",["get","sublayer"],["Fence","Temporary_fence","Low_fence"],!0,!1],maxzoom:16.5,minzoom:15.8},{id:"294692",name:"Заборы. 3D",type:"lineExtrusion",style:{height:400,sideColor:["interpolate",["linear"],["zoom"],16.5,"rgba(196,192,188,0.5)",19,"rgba(199,194,181,0.85)"],visibility:"visible",strokeColor:["interpolate",["linear"],["zoom"],16.5,"rgba(196,192,188,0.6)",19,"rgba(199,194,181,0.3)"],strokeWidth:["interpolate",["linear"],["zoom"],16.5,1,19,2]},filter:["match",["get","sublayer"],["Fence","Temporary_fence","Low_fence"],!0,!1],minzoom:16.5,metadata:{filterInputMode:"json"}},{id:"stairs",name:"Лестницы",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],16,"rgba(0,0,0,0)",16.2,"rgba(0,0,0,0.3)"],width:["interpolate",["linear"],["zoom"],16,3,18,5,20,10],gapLength:["interpolate",["linear"],["zoom"],16,1,18,2,20,4],dashLength:.5,visibility:"visible"},filter:["match",["get","sublayer"],["Pedestrian_road_stairs"],!0,!1],minzoom:16},{id:"496167",name:"Горнолыжная трасса чёрная",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],14,"rgba(83,83,83,0)",14.2,"#535353"],gapLength:["interpolate",["linear"],["zoom"],14,1,18,5],dashLength:["interpolate",["linear"],["zoom"],14,1,18,5],visibility:"visible"},filter:["match",["get","sublayer"],["Skiing_trail_black"],!0,!1],minzoom:14,metadata:{group:{id:"764094"}}},{id:"180711",name:"Горнолыжная трасса синяя",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],14,"rgba(14,137,247,0)",14.2,"#0E89F7"],gapLength:["interpolate",["linear"],["zoom"],14,1,18,5],dashLength:["interpolate",["linear"],["zoom"],14,1,18,5],visibility:"visible"},filter:["match",["get","sublayer"],["Skiing_trail_blue"],!0,!1],minzoom:14,metadata:{group:{id:"764094"}}},{id:"805462",name:"Горнолыжная трасса красная",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],14,"rgba(210,0,0,0)",14.2,"#D20000"],gapLength:["interpolate",["linear"],["zoom"],14,1,18,5],dashLength:["interpolate",["linear"],["zoom"],14,1,18,5],visibility:"visible"},filter:["match",["get","sublayer"],["Skiing_trail_red"],!0,!1],minzoom:14,metadata:{group:{id:"764094"}}},{id:"239973",name:"Горнолыжная трасса зелёная",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],14,"rgba(37,159,18,0)",14.2,"#259F12"],gapLength:["interpolate",["linear"],["zoom"],14,1,18,5],dashLength:["interpolate",["linear"],["zoom"],14,1,18,5],visibility:"visible"},filter:["match",["get","sublayer"],["Skiing_trail_green"],!0,!1],minzoom:14,metadata:{group:{id:"764094"}}},{id:"water transport",name:"Водный транспорт",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],14.5,"rgba(255,255,255,0)",15,"#ffffff"],gapLength:5,dashLength:["interpolate",["linear"],["zoom"],14,2.3,20,4],visibility:"visible"},filter:["match",["get","sublayer"],["Ship_line"],!0,!1],minzoom:14.5,metadata:{group:{id:"764094"}}},{id:"112612",name:"Канатная дорога копия",type:"line",style:{color:["interpolate",["linear"],["zoom"],13,"rgba(96,139,233,0)",13.2,"rgba(96,139,233,0.5)"],width:["interpolate",["linear"],["zoom"],13,.5,13.2,1]},filter:["match",["get","sublayer"],["Ropeway_line"],!0,!1],metadata:{group:{id:"764094"}}},{id:"kanat",name:"Канатная дорога",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],13,"rgba(96,139,233,0)",13.2,"rgba(96,139,233,0.5)"],width:["interpolate",["linear"],["zoom"],13,.2,13.2,1.5,18,5],gapColor:"rgba(96,139,233,0)",gapLength:["interpolate",["linear"],["zoom"],13,40,18,160],dashLength:["interpolate",["linear"],["zoom"],13,2,13.2,3,18,8]},filter:["match",["get","sublayer"],["Ropeway_line"],!0,!1],metadata:{group:{id:"764094"}}},{id:"608437",name:"Трамвай линия",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],15.5,"rgba(0,0,0,0)",15.7,"rgba(0,0,0,0.15)",17,"#4F9BE2"],width:["interpolate",["linear"],["zoom"],15.5,.5,18,1],gapLength:0,visibility:"visible"},filter:["match",["get","sublayer"],["Tram_line","Speed_tram_line","Subway_tram_line","Funicular_line"],!0,!1],minzoom:15.5,metadata:{group:{id:"764094"}}},{id:"tram_dash",name:"Трамвай пунктир",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],15,"rgba(216,214,201,0)",15.7,"#D8D6C9",17.5,"#4F9BE2"],width:["interpolate",["linear"],["zoom"],16,0,16.7,3,19,6],gapColor:"rgba(0,0,0,0)",gapLength:["interpolate",["linear"],["zoom"],15,8,19,40],dashLength:["interpolate",["linear"],["zoom"],15,.5,19,1],visibility:"visible"},filter:["match",["get","sublayer"],["Tram_line","Subway_tram_line","Speed_tram_line","Funicular_line"],!0,!1],minzoom:16.5,metadata:{group:{id:"764094"}}},{id:"railroad_white_dash",name:"Ж/Д линия светлая",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],13.5,"hsl(0, 0%, 75%)",17,"#ebebeb"],width:["interpolate",["linear"],["zoom"],13.5,1,20,4],gapLength:0,dashLength:0,visibility:"visible"},filter:["match",["get","sublayer"],["Railroad_line"],!0,!1],minzoom:13.5,metadata:{group:{id:"764094"}}},{id:"railroad",name:"Ж/Д линия",type:"dashedLine",style:{color:["interpolate",["linear"],["zoom"],13.5,"hsl(0, 0%, 75%)",17,"#a2aab4"],width:["interpolate",["linear"],["zoom"],13.5,1,20,4],gapLength:["interpolate",["linear"],["zoom"],13.5,1,15,3,20,6],dashLength:["interpolate",["linear"],["zoom"],13.5,1,15,3,20,6],visibility:"visible"},filter:["match",["get","sublayer"],["Railroad_line"],!0,!1],minzoom:13.5,metadata:{group:{id:"764094"}}},{id:"885762",name:"Ж/Д тонкая линия",type:"line",style:{color:["interpolate",["linear"],["zoom"],10,"rgba(179,179,179,0)",10.3,"#B3B3B3"],width:["interpolate",["linear"],["zoom"],10,.5,13.5,1],visibility:"visible"},filter:["match",["get","sublayer"],["Railroad_line"],!0,!1],maxzoom:13.5,metadata:{group:{id:"764094"}}},{id:"bridge",name:"Мосты",type:"line",style:{color:"hsla(0, 0%, 0%, 0.08)",width:["interpolate",["linear"],["zoom"],13,1,15,6],visibility:"visible"},filter:["match",["get","sublayer"],["Bridge_line"],!0,!1],minzoom:16},{id:"795741",name:"Горизонтали",type:"line",style:{color:["interpolate",["linear"],["zoom"],9,"rgba(0,0,0,0.08)",13,"rgba(0,0,0,0.1)"],width:.5},filter:["match",["get","sublayer"],["Isoline"],!0,!1]},{id:"porch under house",name:"Подъезды под домами",type:"point",style:{iconImage:["match",["get","selected"],[!0],"ent_i","ent"],iconWidth:["interpolate",["linear"],["zoom"],17,6,17.5,8,18.5,12],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:10,textPlacement:"bottomCenter"},filter:["match",["get","sublayer"],["Porch"],!0,!1],maxzoom:19,minzoom:17},{id:"759281",name:"Пробки белая подложка",type:"shiftedLine",style:{color:"#FFFFFF",shift:["match",["get","traffic_road_class"],[6],["interpolate",["linear"],["zoom"],13,3,15,4.5,17,6.5,19,10],[7],["interpolate",["linear"],["zoom"],13,3.5,15,5,17,7.5,19,10],["interpolate",["linear"],["zoom"],13,3,15,4,17,5,19,10]],width:["match",["get","traffic_road_class"],[5],["interpolate",["linear"],["zoom"],14,6,20,14],[6],["interpolate",["linear"],["zoom"],14,6,20,19],[7],["interpolate",["linear"],["zoom"],14,6,20,22],["interpolate",["linear"],["zoom"],14,6,20,11]]},filter:["match",["get","sublayer"],["Traffic_jams"],!0,!1],metadata:{group:{id:"15309"}}},{id:"26328",name:"Пробки обводка",type:"shiftedLine",style:{color:["match",["get","traffic_color"],[0],["interpolate",["linear"],["zoom"],12,"#53B651",14,"#45A344"],[1],["interpolate",["linear"],["zoom"],12,"#F0B71D",14,"#DDAB15"],[2],["interpolate",["linear"],["zoom"],12,"#E20D0D",14,"#CC1212"],[3],["interpolate",["linear"],["zoom"],12,"#8D1010",14,"#760E0E"],[12],"#FFFFFF","#FFFFFF"],shift:["match",["get","traffic_road_class"],[6],["interpolate",["linear"],["zoom"],13,3,15,4.5,17,6.5,19,10],[7],["interpolate",["linear"],["zoom"],13,3.5,15,5,17,7.5,19,10],["interpolate",["linear"],["zoom"],13,3,15,4,17,5,19,10]],width:["match",["get","traffic_road_class"],[5],["interpolate",["linear"],["zoom"],14,3,20,10.4],[6],["interpolate",["linear"],["zoom"],14,3,20,13.8],[7],["interpolate",["linear"],["zoom"],14,3,20,16.5],["interpolate",["linear"],["zoom"],14,3,20,7.4]]},filter:["match",["get","sublayer"],["Traffic_jams"],!0,!1],metadata:{group:{id:"15309"}}},{id:"132534",name:"Пробки заливка",type:"shiftedLine",style:{color:["match",["get","traffic_color"],[0],"#53B651",[1],"#F0B71D",[2],"#E20D0D",[3],"#8D1010",[12],"#2A0608","#FFFFFF"],shift:["match",["get","traffic_road_class"],[6],["interpolate",["exponential",2],["zoom"],13,3,15,4.5,17,6.5,19,10],[7],["interpolate",["exponential",2],["zoom"],13,3.5,15,5,17,7.5,19,10],["interpolate",["linear"],["zoom"],13,3,15,4,17,5,19,10]],width:["match",["get","traffic_road_class"],[5],["interpolate",["linear"],["zoom"],14,2,20,7.4],[6],["interpolate",["linear"],["zoom"],14,2,20,10.8],[7],["interpolate",["linear"],["zoom"],14,2,20,13.2],["interpolate",["linear"],["zoom"],14,2,20,4.4]]},filter:["match",["get","sublayer"],["Traffic_jams"],!0,!1],metadata:{group:{id:"15309"}}},{id:"kiosk",name:"Киоски",type:"polygonExtrusion",style:{topColor:["match",["get","selected"],[!0],"#FF9387","#DDD9C7"],sideColor:["match",["get","selected"],[!0],"rgba(234,133,124,0.82)","rgba(204,200,183,0.82)"],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)","#C5C0AF"],strokeWidth:.5},filter:["match",["get","sublayer"],["Kiosk"],!0,!1],minzoom:16,metadata:{group:{id:"206498"}}},{id:"house private",name:"Частные дома",type:"polygonExtrusion",style:{topColor:["match",["get","selected"],[!0],"#FF9387","#fff4d9"],sideColor:["match",["get","selected"],[!0],"rgba(234,133,124,0.82)","rgba(221,212,190,0.82)"],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)","#D7CEB7"],strokeWidth:.5},filter:["match",["get","sublayer"],["Private_house"],!0,!1],minzoom:16,metadata:{group:{id:"206498"}}},{id:"school",name:"Школы",type:"polygonExtrusion",style:{topColor:["match",["get","selected"],[!0],"#FF9387","#dae1f2"],sideColor:["match",["get","selected"],[!0],"rgba(234,133,124,0.82)","rgba(192,198,211,0.82)"],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)","#B6BCCB"],strokeWidth:.5},filter:["match",["get","sublayer"],["School_house"],!0,!1],minzoom:16,metadata:{group:{id:"206498"}}},{id:"preschool",name:"Сады",type:"polygonExtrusion",style:{topColor:["match",["get","selected"],[!0],"#FF9387","#ead8eb"],sideColor:["match",["get","selected"],[!0],"rgba(234,133,124,0.82)","rgba(213,197,214,0.82)"],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)","#CBB9CC"],strokeWidth:.5},filter:["match",["get","sublayer"],["Preschool_house"],!0,!1],minzoom:16,metadata:{group:{id:"206498"}}},{id:"house new",name:"Новостройки",type:"polygonExtrusion",style:{topColor:["match",["get","selected"],[!0],"#FF9387","rgba(237,223,187,0.82)"],sideColor:["match",["get","selected"],[!0],"rgba(234,133,124,0.82)","rgba(209,196,165,0.82)"],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)","rgba(202,189,157,0.82)"],strokeWidth:.5},filter:["match",["get","sublayer"],["New_house"],!0,!1],minzoom:16,metadata:{group:{id:"206498"}}},{id:"house known type",name:"Промышленные дома",type:"polygonExtrusion",style:{topColor:["match",["get","selected"],[!0],"#FF9387","#d4d4d4"],sideColor:["match",["get","selected"],[!0],"rgba(234,133,124,0.82)","rgba(193,193,193,0.82)"],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)","#B9B9B9"],strokeWidth:.5},filter:["match",["get","sublayer"],["Technical_house"],!0,!1],minzoom:16,metadata:{group:{id:"206498"}}},{id:"house dwelling",name:"Жилые дома",type:"polygonExtrusion",style:{topColor:["match",["get","selected"],[!0],"#FF9387","#fcfbf2"],sideColor:["match",["get","selected"],[!0],"rgba(234,133,124,0.82)","rgba(209,203,190,0.82)"],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)","#C9C3B4"],strokeWidth:.5},filter:["match",["get","sublayer"],["Dwelling_house"],!0,!1],minzoom:16,metadata:{group:{id:"206498"}}},{id:"house adm",name:"Административные дома",type:"polygonExtrusion",style:{topColor:["match",["get","selected"],[!0],"#FF9387","hsl(49, 24%, 82%)"],sideColor:["match",["get","selected"],[!0],"rgba(234,133,124,0.82)","rgba(204,200,183,0.82)"],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"rgba(178,101,94,0.56)","#C5C1AE"],strokeWidth:.5},filter:["match",["get","sublayer"],["Administrative_house","Floor_plan_house","Kiosk"],!0,!1],minzoom:16,metadata:{group:{id:"206498"}}},{id:"173792",name:"Ховер зданий",type:"polygonExtrusion",style:{topColor:"rgba(255,255,255,0.45)",sideColor:"rgba(255,255,255,0.45)",visibility:"visible",strokeColor:"#E0E0E0",strokeWidth:.5},filter:["all",["match",["get","hovered"],[!0],!0,!1],["match",["get","sublayer"],["Dwelling_house","Administrative_house","Preschool_house","Floor_plan_house","Technical_house","Private_house","Underground_house","School_house","New_house","Kiosk"],!0,!1],["match",["get","selected"],[!0],!1,!0]],minzoom:16,metadata:{group:{id:"206498"},filterInputMode:"json"}},{id:"500109",name:"Подложка этажей",type:"polygon",style:{color:"rgba(255,255,255,0.74)",visibility:"visible"},filter:["match",["get","sublayer"],["Floor_ground","Floor_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"592422",name:"Подложка парковки этажей",type:"polygon",style:{color:"#E0E0DE",visibility:"visible"},filter:["match",["get","sublayer"],["Parking_road_area_ground","Parking_road_area_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"29301",name:"Коридор",type:"polygon",style:{color:"#EDEDED",visibility:"visible"},filter:["match",["get","sublayer"],["Hall_ground","Hall_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"92260",name:"Парковки этажей",type:"polygon",style:{color:"#EDEDED",visibility:"visible"},filter:["match",["get","sublayer"],["Parking_red_area_ground","Parking_blue_area_ground","Parking_yellow_area_ground","Parking_green_area_ground","Parking_common_area_ground","Parking_red_area_underground_ground","Parking_blue_area_underground_ground","Parking_yellow_area_underground_ground","Parking_green_area_underground_ground","Parking_common_area_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"362203",name:"Фудкорт",type:"polygon",style:{color:"#FAE0CD",visibility:"visible"},filter:["match",["get","sublayer"],["Foodcourt_ground","Foodcourt_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"641434",name:"Атриум",type:"polygon",style:{color:"#E0E0DE",visibility:"visible"},filter:["match",["get","sublayer"],["Atrium_ground","Atrium_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"53668",name:"Каток",type:"polygon",style:{color:"#AEE3E8",visibility:"visible"},filter:["match",["get","sublayer"],["Ice_rink_ground","Ice_rink_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"193652",name:"Технические помещения",type:"polygon",style:{color:"#C8CACC",visibility:"visible"},filter:["match",["get","sublayer"],["Technical_area_ground","Technical_area_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"842005",name:"Зона незарегистрированных пассажиров",type:"polygon",style:{color:"#F7F9FA",visibility:"visible"},filter:["match",["get","sublayer"],["Notcheck_in_area_ground","Notcheck_in_area_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"237933",name:"Зона зарегистрированных пассажиров",type:"polygon",style:{color:"#EDEDED",visibility:"visible"},filter:["match",["get","sublayer"],["Check_in_area_ground","Check_in_area_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"494043",name:"Зона пасажиров",type:"polygon",style:{color:"#EDEDED",visibility:"visible"},filter:["match",["get","sublayer"],["Passenger_area_ground","Passenger_area_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"837736",name:"Административная площадь",type:"polygon",style:{color:"#F9EAEA",visibility:"visible"},filter:["match",["get","sublayer"],["Admistrative_area_ground","Admistrative_area_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"604557",name:"Стойка регистрации",type:"polygon",style:{color:"#E6CFF1",visibility:"visible"},filter:["match",["get","sublayer"],["Check_in_desk_ground","Check_in_desk_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"322367",name:"Стойка регистрации островок",type:"polygonExtrusion",style:{topColor:"#E6CFF1",sideColor:"#D2BDDC",visibility:"visible",strokeColor:"rgba(230,207,241,0)"},filter:["match",["get","sublayer"],["Check_in_desk_underground_island","Check_in_desk_island"],!0,!1],metadata:{group:{id:"70184"}}},{id:"513564",name:"Duty Free",type:"polygon",style:{color:"#FBF9A3",visibility:"visible"},filter:["match",["get","sublayer"],["Duty_free_ground","Duty_free_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"942219",name:"Технические помещения аэропорта",type:"polygon",style:{color:"#D9DBDD",visibility:"visible"},filter:["match",["get","sublayer"],["Technical_area_airport_ground","Technical_area_airport_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"193980",name:"Административные помещения аэропорта",type:"polygon",style:{color:"#F9EAEA",visibility:"visible"},filter:["match",["get","sublayer"],["Admistrative_area_airport_ground","Admistrative_area_airport_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"123454",name:"Багажные ленты",type:"polygon",style:{color:"#D9DBDD",visibility:"visible"},filter:["match",["get","sublayer"],["Baggage_line_ground","Baggage_line_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"811078",name:"Зона ожидания",type:"polygon",style:{color:"#C7EBBC",visibility:"visible"},filter:["match",["get","sublayer"],["Waiting_area_ground","Waiting_area_underground_ground"],!0,!1],metadata:{group:{id:"70184"}}},{id:"97089",name:"Якорные организации этажей",type:"polygon",style:{color:["match",["get","selected"],[!0],"#EBDD83","#FBF9A3"],visibility:"visible"},filter:["match",["get","sublayer"],["Organizations_area_anchor_ground","Organizations_area_anchor_underground_ground"],!0,!1],metadata:{group:{id:"563870"}}},{id:"184193",name:"Организации этажей",type:"polygon",style:{color:["match",["get","selected"],[!0],"#6EC9F0","#B2E4F7"],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"#6EC9F0","#B2E4F7"]},filter:["match",["get","sublayer"],["Organizations_area_ground","Organizations_area_airport_ground","Organizations_area_underground_ground","Organizations_area_airport_underground_ground"],!0,!1],metadata:{group:{id:"563870"}}},{id:"258626",name:"Общепит",type:"polygon",style:{color:["match",["get","selected"],[!0],"#E57A37","#FAB17D"],visibility:"visible"},filter:["match",["get","sublayer"],["Organizations_area_airport_food_underground_ground","Organizations_area_food_anchor_underground_ground","Organizations_area_food_underground_ground","Organizations_area_airport_food_ground","Organizations_area_food_anchor_ground","Organizations_area_food_ground"],!0,!1],metadata:{group:{id:"563870"}}},{id:"316618",name:"Организации этажей островок",type:"polygonExtrusion",style:{topColor:["match",["get","selected"],[!0],"#6EC9F0","#B2E4F7"],sideColor:["match",["get","selected"],[!0],"#64B8DB","#A2D1E2"],visibility:"visible",strokeColor:"rgba(162,209,226,0)"},filter:["match",["get","sublayer"],["Organizations_area_island","Organizations_area_airport_island"],!0,!1],metadata:{group:{id:"563870"}}},{id:"846487",name:"Якорные организации этажей островок",type:"polygonExtrusion",style:{topColor:["match",["get","selected"],[!0],"#EBDD83","#FBF9A3"],sideColor:["match",["get","selected"],[!0],"#D7CA78","#E5E395"],visibility:"visible",strokeColor:"rgba(162,209,226,0)"},filter:["match",["get","sublayer"],["Organizations_area_anchor_island"],!0,!1],metadata:{group:{id:"563870"}}},{id:"994949",name:"Якорные организации этажей островок копия",type:"polygonExtrusion",style:{topColor:["match",["get","selected"],[!0],"#E57A37","#FAB17D"],sideColor:["match",["get","selected"],[!0],"#D16F32","#E5A272"],visibility:"visible",strokeColor:"rgba(162,209,226,0)"},filter:["match",["get","sublayer"],["Organizations_area_food_island","Organizations_area_food_anchor_island","Organizations_area_airport_food_island"],!0,!1],metadata:{group:{id:"563870"}}},{id:"67182",name:"Разделители парковок",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#CDCDCB",visibility:"visible",strokeColor:"rgba(205,205,203,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Parking_red_area_walls","Parking_blue_area_walls","Parking_yellow_area_walls","Parking_green_area_walls","Parking_common_area_walls","Parking_road_area_walls","Parking_line_underground_walls","Parking_line_walls","Parking_red_area_underground_walls","Parking_blue_area_underground_walls","Parking_yellow_area_underground_walls","Parking_green_area_underground_walls","Parking_common_area_underground_walls","Parking_road_area_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"344517",name:"Стены организаций",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:["match",["get","selected"],[!0],"#64B8DB","#A0CDDE"],visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Organizations_area_walls","Organizations_area_airport_walls","Organizations_area_underground_walls","Organizations_area_airport_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"504083",name:"Стены якорных организаций",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:["match",["get","selected"],[!0],"#D7CA78","#DEDC90"],visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Organizations_area_anchor_walls","Organizations_area_anchor_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"164982",name:"Стены общепита",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:["match",["get","selected"],[!0],"#D16F32","#E5A272"],visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Organizations_area_food_walls","Organizations_area_food_anchor_walls","Organizations_area_airport_food_walls","Organizations_area_airport_food_underground_walls","Organizations_area_food_anchor_underground_walls","Organizations_area_food_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"80903",name:"Обводка этажей",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#ECEBE6",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Floor_walls","Floor_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"874728",name:"Стены фудкортов",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#E9D1BF",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Foodcourt_walls","Foodcourt_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"580353",name:"Стены атриумов",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#C7C7C5",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Atrium_walls","Atrium_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"502783",name:"Стены катков",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#A2D4D8",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Ice_rink_walls","Ice_rink_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"943606",name:"Стены технических помещений",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#B0B1B3",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Technical_area_walls","Technical_area_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"598627",name:"Стены зоны незарегистрированных пассажиров",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#E2E4E5",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Notcheck_in_area_walls","Notcheck_in_area_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"784820",name:"Стены зоны зарегистрированных пассажиров",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#D5D5D5",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Check_in_area_walls","Check_in_area_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"145987",name:"Стены пассажирских зон",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#D5D5D5",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Passenger_area_walls","Passenger_area_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"794852",name:"Стены административных помещений",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#E3D5D5",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Admistrative_area_underground_walls","Admistrative_area_walls","Admistrative_area_airport_walls","Admistrative_area_airport_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"675127",name:"Стены стоек регитсрации",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#DAC4E4",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Check_in_desk_walls","Check_in_desk_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"301224",name:"Стены Duty Free",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#E5E395",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Duty_free_walls","Duty_free_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"432531",name:"Стены технических помещений аэропорта",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#C5C7C9",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Technical_area_airport_walls","Technical_area_airport_underground_walls","Baggage_line_underground_walls","Baggage_line_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"760684",name:"Стены зон ожидания",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#B7D8AE",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Waiting_area_underground_walls","Waiting_area_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"839856",name:"Стены коридора",type:"polygonExtrusion",style:{topColor:"#F7F7F7",sideColor:"#CDCDCB",visibility:"visible",strokeColor:"rgba(247,247,247,0)",strokeWidth:0},filter:["match",["get","sublayer"],["Hall_walls","Hall_underground_walls"],!0,!1],metadata:{group:{id:"783289"}}},{id:"826456",name:"Супермаркет",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_supermarket",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_supermarket"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"175481",name:"Инструменты",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_tools",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_tools"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"871838",name:"Электроника",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_houseelectronics",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_houseelectronics"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"274792",name:"Джинсы",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_jeans",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_jeans"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"127283",name:"Меховые изделия",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_fur",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_fur"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"638438",name:"Женская одежда",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_womensclothes",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_womensclothes"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"577345",name:"Мужская одежда",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_mensclothes",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_mensclothes"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"213360",name:"Детская одежда",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_kidsclothes",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_kidsclothes"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"73182",name:"Спортивные товары",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_sport",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_sport"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"128996",name:"Нижнее бельё",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_lingerie",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_lingerie"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"667621",name:"Обувь",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_man_shoes",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_shoes"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"635215",name:"Сумки",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_bags",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_bags"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"665411",name:"Ювелирные изделия",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_jewelery",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_jewelery"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"690441",name:"Бижутерия",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_fakejewelery",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_fakejewelery"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"910249",name:"Аптеки",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_pharmacy",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_pharmacy"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"765041",name:"Косметика",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_cosmetics",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_cosmetics"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"49051",name:"Ресторан",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_restaurant",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_restaurant"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"266149",name:"Кофейни",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_coffee",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_coffee"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"287066",name:"Фастфуд",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_fastfood",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_fastfood"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"334520",name:"Подарки",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_gift",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_gift"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"334587",name:"Игрушки",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_toys",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_toys"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"317586",name:"Мебель",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_furniture",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_furniture"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"41306",name:"Посуда",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_pot",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_pot"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"285477",name:"Мобильные устройства",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_cellphone",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_cellphone"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"706405",name:"Часы",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_watch",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_watch"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"766160",name:"Банкоматы",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_atm",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_atm"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"944164",name:"Банк",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_bank",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_bank"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"314665",name:"Админестрация аэропорта",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_airport_administration",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_airport_administration"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"623020",name:"Интернет кафе",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_inet_cafe",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_inet_cafe"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"649417",name:"Почтовое отделение",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_mail",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_mail"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"598786",name:"Развлечения",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_entertainment",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_entertainment"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"785640",name:"Кинотеатры",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_movie_theater",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_movie_theater"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"959388",name:"По умолчанию",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_default",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor","Anchor_underground"],!0,!1],["match",["get","objectClass"],["floor_air_company","floor_ticket","floor_default","floors_bicycle","floors_car_accessorize","floors_car_alarm","floors_car_battery","floors_car_insurance","floors_car_paint","floors_car_parts","floors_car_sale","floors_car_sound","floors_chemistry","floors_motorcycles","floors_pillow_blocks","floors_fire","floors_service_center_parts","floors_tires","floors_uniform"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"957233",name:"Такси",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_taxistand",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor_underground","Anchor","Floor_sight"],!0,!1],["match",["get","objectClass"],["floors_taxi","taxi"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"428272",name:"Розетки для зарядки устройств",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_plug",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor_underground","Anchor","Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["floors_plug","power_outlet"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"902643",name:"Аренда авто",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_car_rental",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Anchor_underground","Anchor","Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["floors_car_rental","car_rental"],!0,!1]],metadata:{group:{id:"996686"}}},{id:"879405",name:"Лифт",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_elevator",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["lift"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"392559",name:"Лестница",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_stairs",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["stairs"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"321656",name:"Эскалатор вверх",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_escalatorup",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight_underground","Floor_sight"],!0,!1],["match",["get","objectClass"],["escalator_up"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"302330",name:"Эскалатор вниз",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_escalatordown",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight_underground","Floor_sight"],!0,!1],["match",["get","objectClass"],["escalator_down"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"957283",name:"Эскалатор вверх и вниз",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_escalator",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight_underground","Floor_sight"],!0,!1],["match",["get","objectClass"],["escalator_up_down"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"247668",name:"Стойка информации",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_info",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["information_desk"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"511719",name:"Фудкорт",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_food_court",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["foodcourt"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"537839",name:"Фонтан",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_fountain",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["fountain"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"247702",name:"Сцена",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_stage",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["stage"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"730641",name:"Гардероб",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_cloackroom",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["wardrobe"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"585858",name:"Туалет",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_toilet",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["toilet"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"300494",name:"Туалет для маломобильных людей",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_toilet_special",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["disabled_toilet"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"268948",name:"Каток",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_iceskating",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["ice_rink"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"402141",name:"Парковка",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_parking",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["parking"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"127299",name:"Памятник",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_memorial",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["monument"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"585498",name:"Паркомат",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_parkomat",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["parking_terminal"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"740566",name:"Мечеть",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_islamic",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["mosque"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"608317",name:"Стойка самостоятельной регитрации",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_self_registration",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["self_registration"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"201378",name:"Упаковка багажа",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_baggage_packing",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["baggage_packing"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"359629",name:"Камера хранения",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_safe_deposit",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["baggage_room"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"525870",name:"Багажные тележки",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_baggage_cart",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["baggage_trolley"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"852331",name:"Выдача багажа",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_baggage_claim",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["baggage_rack"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"544195",name:"Телефон",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_phone",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["phone"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"907202",name:"Обмен валюты",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_currency_exchange",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["currency_exchange"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"502551",name:"Дацан",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_buddhist",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["buddhist_temple"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"971472",name:"Синагога",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_jewish",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["synanogue"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"822638",name:"Часовня",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_orthodox",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["orthodox_religious_building"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"515690",name:"Живой уголок",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_nature_corner",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["living_area"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"927885",name:"Медицинский кабинет",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_medical_facility",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["medical_center"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"454868",name:"Полиция",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_police",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["police"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"634128",name:"Комната матери и ребёнка",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_mothers_and_child",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["baby_room"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"578352",name:"Парковка для тележек",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_baggage_cart",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["trolley_parking"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"926141",name:"Аренда колясок",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_kinder_cart_rent",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["buggy_rentals"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"553933",name:"Игровая площадка",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_playground",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["playground"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"294460",name:"Место для курения",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_smoking_room",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["smoking_area"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"893077",name:"Оплата багажа",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_baggage_payment",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["baggage_payment"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"386857",name:"Розыск багажа",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_lost_baggage",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["baggage_lost"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"366709",name:"Досмотр багажа",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_baggage_control",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["customs"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"760719",name:"Паспортный контроль",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_passport_control",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["passport_control"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"631353",name:"Бизнес зал",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_business_lounge",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["business_lounge"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"330297",name:"VIP зал",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_vip_lounge",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["vip_lounge"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"289601",name:"Транзитный зал",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_transit_hall",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["transit_hall"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"4919",name:"Ветеринарный контроль",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_veterenary_control",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["veterinary_control"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"402110",name:"Выходы на посадку",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_gate",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["gate"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"261252",name:"Зона для маломобильных людей",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_disabilities_places",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["invalid_place"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"267905",name:"Рамка досмотра",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_inspection_frame",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["security_frame"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"970977",name:"Зал ожидания",type:"point",style:{textFont:"Noto_Sans",iconImage:"z_waiting_room",iconWidth:["interpolate",["linear"],["zoom"],18,20,19,28],textColor:"#535558",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1},filter:["all",["match",["get","sublayer"],["Floor_sight","Floor_sight_underground"],!0,!1],["match",["get","objectClass"],["waiting_place"],!0,!1]],metadata:{group:{id:"53095"}}},{id:"759262",name:"Подписи стоек регистрации",type:"point",style:{textFont:"Noto_Sans",textColor:"#595959",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.8)",textHaloWidth:1},filter:["match",["get","sublayer"],["Check_in_desk_caption","Check_in_desk_caption_underground"],!0,!1],minzoom:18,metadata:{group:{id:"405141"}}},{id:"398841",name:"Подписи помещений",type:"point",style:{textFont:"Noto_Sans",textColor:"#595959",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.8)",textHaloWidth:1},filter:["match",["get","sublayer"],["Area_caption","Area_caption_underground"],!0,!1],minzoom:18,metadata:{group:{id:"405141"}}},{id:"497600",name:"Подписи комнат",type:"point",style:{textFont:"Noto_Sans",textColor:"#595959",visibility:"visible",textFontSize:13,textHaloColor:"rgba(255,255,255,0.8)",textHaloWidth:1},filter:["match",["get","sublayer"],["Cabinet_caption","Cabinet_caption_underground"],!0,!1],minzoom:19,metadata:{group:{id:"405141"}}},{id:"989544",name:"Подписи терминалов",type:"point",style:{textFont:"Noto_Sans_Semibold",textColor:"#595959",visibility:"visible",textFontSize:13,textPriority:150,textHaloColor:"rgba(255,255,255,0.8)",textHaloWidth:1},filter:["match",["get","sublayer"],["Terminal_caption","Terminal_caption_underground"],!0,!1],maxzoom:19,minzoom:17,metadata:{group:{id:"405141"}}},{id:"843132",name:"3D модели",type:"buildingModel",style:{color:["match",["get","selected"],[!0],"#FF9387","#FFFFF5"],visibility:"visible",strokeColor:["match",["get","selected"],[!0],"#B2655E","#CCC9C3"],strokeWidth:.1},filter:["match",["get","sublayer"],["Building_model"],!0,!1],minzoom:16},{id:"porch",name:"Подъезды над домами",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"ent_i","ent"],iconWidth:12,textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:10,textPlacement:"bottomCenter"},filter:["match",["get","sublayer"],["Porch"],!0,!1],minzoom:19},{id:"934236",name:"Смотровая площадка",type:"point",style:{textFont:"Noto_Sans_Italic",iconImage:["match",["get","selected"],[!0],"poi_photo_7_i","poi_photo"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],textColor:"#262626",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],15,10,18,12],textHaloColor:"rgba(255,255,255,0.6)",textHaloWidth:.8,textMaxLengthPerLine:24},filter:["all",["match",["get","sublayer"],["High_zoom_sight"],!0,!1],["match",["get","objectClass"],["viewing_point"],!0,!1]],minzoom:14,metadata:{group:{id:"444318"}}},{id:"820830",name:"Памятник природы",type:"point",style:{textFont:"Noto_Sans_Italic",iconImage:["match",["get","selected"],[!0],"poi_forest_7_i","poi_forest"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],textColor:"#262626",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],15,10,18,12],textHaloColor:"rgba(255,255,255,0.6)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["High_zoom_sight"],!0,!1],["match",["get","objectClass"],["natural_monument"],!0,!1]],minzoom:14,metadata:{group:{id:"444318"}}},{id:"900811",name:"Водопад",type:"point",style:{textFont:"Noto_Sans_Italic",iconImage:["match",["get","selected"],[!0],"poi_waterfall_i","poi_waterfall"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],textColor:"#262626",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],15,10,18,12],textHaloColor:"rgba(255,255,255,0.6)",textHaloWidth:.8,iconLabelingMargin:{leftRight:5,topBottom:5}},filter:["all",["match",["get","sublayer"],["High_zoom_sight"],!0,!1],["match",["get","objectClass"],["waterfall"],!0,!1]],minzoom:13,metadata:{group:{id:"444318"}}},{id:"679413",name:"Вертолетная площадка",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_helipad_i","poi_helipad"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["High_zoom_sight"],!0,!1],["match",["get","objectClass"],["helicopter_landing_pad"],!0,!1]],minzoom:14,metadata:{group:{id:"444318"}}},{id:"501649",name:"Парк",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_park_i","poi_park"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,16,16,20,18,24]],textColor:"#4C8A0A",visibility:"visible",iconPriority:0,textFontSize:["interpolate",["linear"],["zoom"],15,10,18,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:1,iconLabelingMargin:{leftRight:2,topBottom:2},textMaxLengthPerLine:24},filter:["all",["match",["get","sublayer"],["High_zoom_sight"],!0,!1],["match",["get","objectClass"],["park"],!0,!1]],minzoom:12,metadata:{group:{id:"444318"}}},{id:"955204",name:"Пляж",type:"point",style:{textFont:"Noto_Sans_Italic",iconImage:["match",["get","selected"],[!0],"poi_beach_7_i","poi_beach"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],textColor:"#262626",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],15,10,18,12],textHaloColor:"rgba(255,255,255,0.6)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["Medium_zoom_sight"],!0,!1],["match",["get","objectClass"],["beach"],!0,!1]],minzoom:15,metadata:{group:{id:"444318"}}},{id:"746277",name:"Лыжная база",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_skiing_7_i","poi_skiing"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Medium_zoom_sight"],!0,!1],["match",["get","objectClass"],["skiing_lodge"],!0,!1]],metadata:{group:{id:"444318"}}},{id:"589802",name:"Информация",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_info_7_i","poi_info"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Medium_zoom_sight"],!0,!1],["match",["get","objectClass"],["information"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"693992",name:"Сад",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_flower_i","poi_flower"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Medium_zoom_sight"],!0,!1],["match",["get","objectClass"],["garden"],!0,!1]],metadata:{group:{id:"444318"}}},{id:"783274",name:"Мост",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_bridge_7_i","poi_bridge"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Medium_zoom_sight"],!0,!1],["match",["get","objectClass"],["bridge"],!0,!1]],minzoom:15,metadata:{group:{id:"444318"}}},{id:"749538",name:"Лодочная станция",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_boats_7_i","poi_boats"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Medium_zoom_sight"],!0,!1],["match",["get","objectClass"],["boat_station"],!0,!1]],minzoom:15,metadata:{group:{id:"444318"}}},{id:"517626",name:"Кемпинг",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_camping_i","poi_camping"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Medium_zoom_sight"],!0,!1],["match",["get","objectClass"],["camping"],!0,!1]],minzoom:14,metadata:{group:{id:"444318"}}},{id:"474939",name:"Места для дайвинга",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_diving_i","poi_diving"],iconWidth:14,visibility:"visible"},filter:["all",["match",["get","sublayer"],["Medium_zoom_sight"],!0,!1],["match",["get","objectClass"],["dive_site"],!0,!1]],minzoom:14,metadata:{group:{id:"444318"}}},{id:"623781",name:"Скейтпарк",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_skate_i","poi_skate"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["skate_park"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"896976",name:"Спасатель",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_lifeguard_7_i","poi_lifeguard"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["baywatch"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"140233",name:"Раздевалка",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_beach_cabin_7_i","poi_beach_cabin"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["dressing_room"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"899142",name:"Душевая кабинка",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_shower_i","poi_shower"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["shower_room"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"910754",name:"Вода",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_water_7_i","poi_water"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["drinking_water"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"908397",name:"Каток",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_rink_7_i","poi_rink"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["ice_rink"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"713746",name:"Прокат",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_skiing_7_i","poi_skiing"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["winter_equipment_rental"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"197264",name:"Зимние аттракционы",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_winact_i","poi_winact"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["winter_attraction"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"611544",name:"Памятные деревья",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_forest_7_i","poi_forest"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["significant_trees","memorable_trees"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"255752",name:"Аттракционы",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_atractions_i","poi_atractions"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["attractions"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"41774",name:"Руины",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_ruins_7_i","poi_ruins"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["ruins"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"435520",name:"Пейнтбол",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_painball_7_i","poi_painball"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["paintball"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"923939",name:"Сцена",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_music_7_i","poi_music"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["stage"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"643194",name:"Вольер",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_cage_i","poi_cage"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["aviary"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"46255",name:"Усадьба",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_bower_i","poi_bower"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["country_estate"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"877835",name:"Переезд",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_railroadcrossing_7_i","poi_railroadcrossing"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["railway_crossing"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"662834",name:"Памятник",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_memorial_i","poi_memorial"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["monument","commemorative_plaque"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"740819",name:"Полиция",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_police_i","poi_police"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["police_station"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"245916",name:"Декоративное сооружение",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_showplace_i","poi_showplace"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,12,18,14],visibility:"visible",iconLabelingMargin:{leftRight:5,topBottom:5}},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["decorative_building"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"494131",name:"Беседка",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_bench_7_i","poi_bench"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["pavilion"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"440726",name:"Буккроссинг",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_bookcrossing_7_i","poi_bookcrossing"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["bookcrossing"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"554915",name:"Граффити",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_street_art_i","poi_street_art"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["street_art"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"298418",name:"Фонтан",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_fountain_i","poi_fountain"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["fountain"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"89334",name:"Место для выгула собак",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_dog_7_i","poi_dog"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["place_to_walk_dogs"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"805521",name:"Тир",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_shootingrange_7_i","poi_shootingrange"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["shooting_range"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"320465",name:"Прокат",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_bicycle_i","poi_bicycle"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["equipment_rental"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"108500",name:"Детская площадка",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_playground_7_i","poi_playground"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["playground"],!0,!1]],minzoom:18,metadata:{group:{id:"444318"}}},{id:"572027",name:"Картинг",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_carting_7_i","poi_carting"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["karting"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"621816",name:"Туалет",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_wс_7_i","poi_wc"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible"},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["toilet","disabled_toilet"],!0,!1]],minzoom:16,metadata:{group:{id:"444318"}}},{id:"46720",name:"Спортивный инвентарь",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_gym_7_i","poi_gym"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible",iconLabelingMargin:{leftRight:5,topBottom:5}},filter:["all",["match",["get","sublayer"],["Low_zoom_sight"],!0,!1],["match",["get","objectClass"],["sport_equipment","workout_place"],!0,!1]],minzoom:18,metadata:{group:{id:"444318"}}},{id:"258312",name:"Контейнеры для мусора",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_trashbin_i","poi_trashbin"],iconWidth:["interpolate",["linear"],["zoom"],14,10,16,14],visibility:"visible",iconLabelingMargin:{leftRight:5,topBottom:5}},filter:["all",["match",["get","sublayer"],["Poi_trash"],!0,!1],["match",["get","objectClass"],["poi_trash"],!0,!1]],minzoom:18,metadata:{group:{id:"444318"}}},{id:"402250",name:"Отметка высоты",type:"point",style:{textFont:"Noto_Sans",iconImage:"peak",iconWidth:4,textColor:"#1A1A1A",textOffset:1,visibility:"visible",textFontSize:10,textHaloColor:"rgba(255,255,255,0.6)",textHaloWidth:.8,iconLabelingMargin:{leftRight:5,topBottom:5}},filter:["all",["match",["get","sublayer"],["Mountain_peak"],!0,!1],["match",["get","objectClass"],["height_point"],!0,!1]],minzoom:12,metadata:{group:{id:"444318"}}},{id:"853413",name:"Крупные достопримечательности",type:"point",style:{textFont:"Noto_Sans",iconImage:"poi_city_dot",iconWidth:["interpolate",["linear"],["zoom"],11,32,12,36,13,40,14,44,15,48],textColor:"#535558",visibility:"visible",allowOverlap:!1,textFontSize:["interpolate",["linear"],["zoom"],11,10,16,12],textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1,textMaxLengthPerLine:20},filter:["match",["get","sublayer"],["Landmark_poi"],!0,!1],maxzoom:20,minzoom:11},{id:"246968",name:"Крупные достопримечательности UAE",type:"point",style:{textFont:"Noto_Sans",iconImage:"poi_city_dot",iconWidth:["interpolate",["linear"],["zoom"],9,20,11,32,12,36,13,40,14,44,15,48],textColor:"#535558",visibility:"visible",allowOverlap:!1,textFontSize:["interpolate",["linear"],["zoom"],11,10,16,12],textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:1,textMaxLengthPerLine:20},filter:["all",["match",["get","sublayer"],["Landmark_poi"],!0,!1],["match",["get","db_region"],[99],!0,!1]],maxzoom:20,minzoom:9,metadata:{filterInputMode:"json"}},{id:"739801",name:"Подписи площадей",type:"point",style:{textFont:"Noto_Sans_Italic",textColor:"#424242",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],12,10,20,14],textHaloColor:"rgba(255,255,255,0.34)",textHaloWidth:.7,textLabelingMargin:{leftRight:10,topBottom:10}},filter:["match",["get","sublayer"],["Square_caption"],!0,!1],metadata:{group:{id:"346254"}}},{id:"565840",name:"Прочие подписи",type:"point",style:{textFont:"Noto_Sans_Italic",textColor:"#424242",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],15.5,10,18,14],textHaloColor:"rgba(255,255,255,0.34)",textHaloWidth:.7,textLabelingMargin:{leftRight:5,topBottom:5}},filter:["match",["get","sublayer"],["Other_caption_point"],!0,!1],metadata:{group:{id:"346254"}}},{id:"290185",name:"Специальные подписи",type:"point",style:{textFont:"Noto_Sans",textColor:"#424242",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],15.5,10,18,14],textHaloColor:"rgba(255,255,255,0.34)",textHaloWidth:.7,textLabelingMargin:{leftRight:5,topBottom:5}},filter:["match",["get","sublayer"],["Special_caption_point"],!0,!1],metadata:{group:{id:"346254"}}},{id:"564286",name:"Подписи секторов",type:"point",style:{textFont:"Noto_Sans",textColor:"#424242",visibility:"visible",textFontSize:10,textHaloColor:"rgba(255,255,255,0.34)",textHaloWidth:.7,textLabelingMargin:{leftRight:5,topBottom:5}},filter:["match",["get","sublayer"],["Sector_caption_point"],!0,!1],minzoom:17,metadata:{group:{id:"346254"}}},{id:"189931",name:"Подписи островов",type:"point",style:{textFont:"Noto_Sans",textColor:"#3F4873",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],11,10,16,14],textPriority:0,textHaloColor:"rgba(255,255,255,0.34)",textHaloWidth:1,textLabelingMargin:{leftRight:5,topBottom:5}},filter:["match",["get","sublayer"],["Island_caption","Big_island_caption"],!0,!1],metadata:{group:{id:"346254"}}},{id:"212900",name:"Подписи мелких рек в точке",type:"point",style:{textFont:"Noto_Sans_Italic",textColor:"#5980BF",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],15.5,11,18,14],textHaloColor:"rgba(255,255,255,0.34)",textHaloWidth:0,textLabelingMargin:{leftRight:5,topBottom:5},textMaxLengthPerLine:18},filter:["match",["get","sublayer"],["Small_river_caption_point"],!0,!1],minzoom:14,metadata:{group:{id:"346254"}}},{id:"24333",name:"Подписи водных объектов в точке",type:"point",style:{textFont:"Noto_Sans_Italic",textColor:"#5980BF",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],15.5,11,18,14],textHaloColor:"rgba(255,255,255,0.34)",textHaloWidth:0,textLabelingMargin:{leftRight:5,topBottom:5}},filter:["match",["get","sublayer"],["River_caption_point","Lake_caption_point","Sea_caption"],!0,!1],minzoom:9,metadata:{group:{id:"346254"}}},{id:"434939",name:"Прочие подписи вдоль линии",type:"labelLine",style:{textFont:"Noto_Sans_Italic",textColor:"#424242",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],15.5,10,18,14],textHaloColor:"rgba(255,255,255,0.34)",lineEndingOffsets:5,textDuplicationSpacing:1e3,textLabelingSideMargin:5},filter:["match",["get","sublayer"],["Other_caption_line"],!0,!1],metadata:{group:{id:"346254"}}},{id:"360241",name:"Специальные подписи вдоль линии",type:"labelLine",style:{textColor:"#3F3F3F",visibility:"visible",textFontSize:10,textHaloColor:"rgba(255,255,255,0.34)",textHaloWidth:.7,lineEndingOffsets:5,textDuplicationSpacing:200,textLabelingSideMargin:10},filter:["match",["get","sublayer"],["Special_caption_line"],!0,!1],metadata:{group:{id:"346254"}}},{id:"982721",name:"Подписи рек",type:"labelLine",style:{textFont:"Noto_Sans_Italic",textColor:"#FFFFFF",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],12,12,18,15],textDuplicationSpacing:["interpolate",["linear"],["zoom"],12,500,18,1e3]},filter:["match",["get","sublayer"],["Canal_caption","River_caption_line","Small_river_caption_line"],!0,!1],metadata:{group:{id:"346254"}}},{id:"153515",name:"Подписи платформ",type:"labelLine",style:{textColor:"#3F3F3F",visibility:"visible",textFontSize:10,textHaloColor:"rgba(255,255,255,0.6)",textHaloWidth:1,textDuplicationSpacing:200,textLabelingSideMargin:10},filter:["match",["get","sublayer"],["Railroad_platform_caption"],!0,!1],metadata:{group:{id:"346254"}}},{id:"353046",name:"Подписи горных хребтов",type:"labelLine",style:{textFont:"Noto_Sans_Italic",textColor:"#2C1803",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],16,12,18,14],textHaloColor:"rgba(255,255,255,0.6)",textHaloWidth:1,textDuplicationSpacing:["interpolate",["linear"],["zoom"],16,1e3,18,2e3],textLabelingSideMargin:10},filter:["match",["get","sublayer"],["Mountain_caption"],!0,!1],metadata:{group:{id:"346254"}}},{id:"gate",name:"Калитки",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"poi_gate_i","poi_gate"],iconWidth:["interpolate",["linear"],["zoom"],19,12,19.1,16],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:10,textPlacement:"bottomCenter"},filter:["match",["get","sublayer"],["Gate"],!0,!1],minzoom:18},{id:"barrier",name:"Шлагбаумы",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"poi_barrier_i","poi_barrier"],iconWidth:16,textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:10,textPlacement:"bottomCenter"},filter:["match",["get","sublayer"],["Barrier"],!0,!1],minzoom:18},{id:"832861",name:"Номера домов частного сектора",type:"point",style:{textFont:"Noto_Sans",textColor:["interpolate",["linear"],["zoom"],16,"#89847A",20,"#6D6962"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],16,10,20,15],allowElevation:!0,textLabelingMargin:{leftRight:10,topBottom:10}},filter:["match",["get","sublayer"],["House_number_private"],!0,!1],minzoom:17},{id:"615525",name:"Номера домов",type:"point",style:{textFont:"Noto_Sans",textColor:["interpolate",["linear"],["zoom"],16,"#89847A",20,"#6D6962"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],16,10,20,15],allowElevation:!0,textLabelingMargin:{leftRight:10,topBottom:10}},filter:["match",["get","sublayer"],["House_number"],!0,!1],minzoom:15.3},{id:"444276",name:"Названия зданий",type:"point",style:{textFont:"Noto_Sans",textColor:["interpolate",["linear"],["zoom"],16,"#89847A",20,"#6D6962"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],16,10,20,15],allowElevation:!0,textLabelingMargin:{leftRight:10,topBottom:10}},filter:["match",["get","sublayer"],["Building_caption"],!0,!1],minzoom:15},{id:"poi-grocery",name:"Магазин",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_grocery_i","poi_grocery"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(89, 86%, 29%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Low_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_shop"],!0,!1]],minzoom:16,metadata:{group:{id:"191129"}}},{id:"poi-bank",name:"Банкомат",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_bank_i","poi_bank"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(89, 86%, 29%)",textOffset:0,visibility:"visible",iconOpacity:1,textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Low_zoom_poi_navigator"],!0,!1],["match",["get","objectClass"],["poi_atm"],!0,!1]],minzoom:16,metadata:{group:{id:"191129"}}},{id:"poi-close",name:"Магазин одежды",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_close_i","poi_close"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(89, 86%, 29%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Low_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_clothes"],!0,!1]],minzoom:16,metadata:{group:{id:"191129"}}},{id:"poi-shoes",name:"Обувной магазин",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_shoes_i","poi_shoes"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(89, 86%, 29%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi_navigator","Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_shoe_store"],!0,!1]],minzoom:16,metadata:{group:{id:"191129"}}},{id:"poi-beauty",name:"Красота",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_beauty_i","poi_beauty"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(89, 86%, 29%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Low_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_beauty"],!0,!1]],minzoom:16,metadata:{group:{id:"191129"}}},{id:"poi-cafe",name:"Кофейня",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_cafe_i","poi_cafe"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(30, 98%, 40%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Low_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_coffee_shop"],!0,!1]],minzoom:16,metadata:{group:{id:"191129"}}},{id:"poi-carting",name:"Картинг",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_carting_i","poi_carting_firm"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(30, 98%, 40%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Low_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_karting"],!0,!1]],minzoom:16,metadata:{group:{id:"191129"}}},{id:"poi-gym",name:"Финтес-клуб",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_gym_i","poi_gym_firm"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(30, 98%, 40%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Low_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_gym"],!0,!1]],minzoom:16,metadata:{group:{id:"191129"}}},{id:"poi-restaurant-low",name:"Общепит",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_restaurant_i","poi_restaurant"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,21,18,24]],textColor:"hsl(30, 98%, 40%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Low_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_food_service"],!0,!1]],minzoom:16,metadata:{group:{id:"191129"}}},{id:"430373",name:"Ресторан",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_restaurant_i","poi_restaurant"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(30, 98%, 40%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_food_restaurant"],!0,!1]],minzoom:15,metadata:{group:{id:"191129"}}},{id:"poi-bar",name:"Бар",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_bar_i","poi_bar"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(30, 98%, 40%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Low_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_bar"],!0,!1]],minzoom:16,metadata:{group:{id:"191129"}}},{id:"poi-catholic-low",name:"Часовня",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_catholic_i","poi_catholic"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(201, 81%, 41%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Low_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_chapel"],!0,!1]],minzoom:16,metadata:{group:{id:"191129"}}},{id:"poi-airclub",name:"Авиаклуб",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_airclub_i","poi_airclub"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(201, 81%, 41%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Low_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_aviaclub"],!0,!1]],minzoom:16,metadata:{group:{id:"191129"}}},{id:"poi-carservice",name:"Автосервис",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_carservice_i","poi_carservice"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(201, 81%, 41%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Low_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_service_station"],!0,!1]],minzoom:16,metadata:{group:{id:"191129"}}},{id:"poi-shop",name:"Торговый центр",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_mall_i","poi_mall"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(89, 86%, 29%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi_navigator"],!0,!1],["match",["get","objectClass"],["poi_mart"],!0,!1]],minzoom:15.8,metadata:{group:{id:"191129"}}},{id:"poi-cityhall",name:"Администрация",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_cityhall_i","poi_cityhall"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(201, 81%, 41%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_government"],!0,!1]],minzoom:15.8,metadata:{group:{id:"191129"}}},{id:"poi-pharmacy",name:"Аптека",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_pharmacy_i","poi_pharmacy"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,31],["interpolate",["linear"],["zoom"],14,18,16,21,18,24]],textColor:"hsl(89, 86%, 29%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi_navigator"],!0,!1],["match",["get","objectClass"],["poi_pharmacy"],!0,!1]],minzoom:15.8,metadata:{group:{id:"191129"}}},{id:"poi-kindergarten",name:"Детский сад",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_kindergarten_i","poi_kindergarten"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#1482bd",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_kindergarten"],!0,!1]],minzoom:15.8,metadata:{group:{id:"191129"}}},{id:"poi-lift_ticket",name:"Билетная касса",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_lift_tickets_i","poi_lift_tickets"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#ca6602",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_ticket"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-tennis",name:"Теннисный клуб",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_tennis_i","poi_tennis"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#ca6602",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_tennis"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-pool",name:"Бассейн",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_pool_i","poi_pool"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#ca6602",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_pool"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-icerink",name:"Каток",type:"point",style:{textFont:["step",["zoom"],"",15,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_icerink_i","poi_icerink"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#ca6602",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_ice_skating"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-post",name:"Почта",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_post_i","poi_post"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(201, 81%, 41%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_post"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-education",name:"Образование",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_school_i","poi_school"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(201, 81%, 41%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_education"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-library",name:"Библиотека",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_library_i","poi_library"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(201, 81%, 41%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_library"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-catholic",name:"Церковь",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_catholic_i","poi_catholic"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(201, 81%, 41%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_church"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-judaism",name:"Синагога",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_judaism_i","poi_judaism"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(201, 81%, 41%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_synagogue"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-buddhism",name:"Дацан",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_buddhism_i","poi_buddhism"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(201, 81%, 41%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_datsan"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-islamic",name:"Мечеть",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_islamic_i","poi_islamic"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(201, 81%, 41%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_mosque"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-hospital",name:"Медицинское учреждение",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_hospital_i","poi_hospital"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#ba4836",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_health"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-police",name:"Полиция",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_police_i","poi_police_firm"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(8, 55%, 47%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi_navigator"],!0,!1],["match",["get","objectClass"],["poi_police"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-sanatorium",name:"Санаторий",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_sanatorium_i","poi_sanatorium"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(89, 86%, 29%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_rest"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-hotel",name:"Гостиница",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_hotel_i","poi_hotel"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(89, 86%, 29%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Medium_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_hotel"],!0,!1]],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"poi-theater",name:"Театр",type:"point",style:{textFont:["step",["zoom"],"",14.5,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_theater_i","poi_theater"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#ca6602",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:20,topBottom:20}},filter:["all",["match",["get","sublayer"],["High_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_theater"],!0,!1]],minzoom:14,metadata:{group:{id:"191129"}}},{id:"poi-museum",name:"Музей",type:"point",style:{textFont:["step",["zoom"],"",14.5,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_museum_i","poi_museum"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,19,16,21,18,24]],textColor:"#ca6602",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:20,topBottom:20}},filter:["all",["match",["get","sublayer"],["High_zoom_poi_navigator"],!0,!1],["match",["get","objectClass"],["poi_museum"],!0,!1]],minzoom:14,metadata:{group:{id:"191129"}}},{id:"poi-cinema",name:"Кинотеатр",type:"point",style:{textFont:["step",["zoom"],"",15,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_cinema_i","poi_cinema"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#ca6602",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["High_zoom_poi_navigator"],!0,!1],["match",["get","objectClass"],["poi_cinema"],!0,!1]],minzoom:14,metadata:{group:{id:"191129"}}},{id:"poi-golf",name:"Гольфклуб",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_golf_i","poi_golf"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#ca6602",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["High_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_golf"],!0,!1]],minzoom:14,metadata:{group:{id:"191129"}}},{id:"poi-hippodrome",name:"Ипподром",type:"point",style:{textFont:["step",["zoom"],"",15,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_hippodrome_i","poi_hippodrome"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#ca6602",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["High_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_racecourse"],!0,!1]],minzoom:14,metadata:{group:{id:"191129"}}},{id:"poi-stadium",name:"Стадион",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_stadium_i","poi_stadium"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#ca6602",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["High_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_stadium"],!0,!1]],minzoom:14,metadata:{group:{id:"191129"}}},{id:"poi-mall",name:"ТРЦ",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_mall_i","poi_mall"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#4c8a0a",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["High_zoom_poi_navigator","Poi_mall_floor_plan"],!0,!1],["match",["get","objectClass"],["poi_mall","poi_mall_floor"],!0,!1]],minzoom:14,metadata:{group:{id:"191129"}}},{id:"poi-gas station",name:"Заправочная снация",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_gas_station_i","poi_gas_station"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(89, 86%, 29%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["High_zoom_poi_navigator"],!0,!1],["match",["get","objectClass"],["poi_gas_station"],!0,!1]],minzoom:14.5,metadata:{group:{id:"191129"}}},{id:"poi-electro station",name:"Зарядная станция",type:"point",style:{textFont:["step",["zoom"],"",16,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_electro_station_i","poi_electro_station"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(89, 86%, 29%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["High_zoom_poi_navigator"],!0,!1],["match",["get","objectClass"],["poi_electro_station"],!0,!1]],minzoom:14.5,metadata:{group:{id:"191129"}}},{id:"poi-buisness center",name:"Бизнес-центр",type:"point",style:{textFont:["step",["zoom"],"",15,"Noto_Sans_Semibold"],iconImage:["match",["get","selected"],[!0],"poi_buisness_center_i","poi_buisness_center"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"hsl(89, 86%, 29%)",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"#FFFFFF",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:30,topBottom:30}},filter:["all",["match",["get","sublayer"],["High_zoom_poi"],!0,!1],["match",["get","objectClass"],["poi_business_center"],!0,!1]],minzoom:14.5,metadata:{group:{id:"191129"}}},{id:"poi-airport",name:"Аэропорт",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_airport_i","poi_airport"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#535558",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,18,12],textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Transport_poi"],!0,!1],["match",["get","objectClass"],["poi_airport"],!0,!1]],minzoom:15,metadata:{group:{id:"191129"}}},{id:"poi-railway",name:"Ж/Д вокзал",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_railwaystation_i","poi_railwaystation"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,20,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#535558",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,18,12],textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Transport_poi"],!0,!1],["match",["get","objectClass"],["poi_railway_station"],!0,!1]],minzoom:15,metadata:{group:{id:"191129"}}},{id:"poi-bus",name:"Автовокзал",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_busstation_i","poi_busstation"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,20,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#535558",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,18,12],textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Transport_poi"],!0,!1],["match",["get","objectClass"],["poi_bus_station"],!0,!1]],minzoom:15,metadata:{group:{id:"191129"}}},{id:"poi-port",name:"Порт",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_port_i","poi_port"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,22,16,26,18,30],["interpolate",["linear"],["zoom"],14,18,16,20,18,24]],textColor:"#535558",textOffset:0,visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,18,12],textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:.85,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Transport_poi"],!0,!1],["match",["get","objectClass"],["poi_river_station"],!0,!1]],minzoom:15,metadata:{group:{id:"191129"}}},{id:"24643",name:"Коммерческие POI",type:"point",style:{textFont:["Noto_Sans_Semibold",["step",["zoom"],"",16,"Noto_Sans"]],iconImage:"peak",iconWidth:["interpolate",["linear"],["zoom"],15,22,16.8,30],textColor:"#3A3A3A",visibility:"visible",textFontSize:[["interpolate",["linear"],["zoom"],15.5,11,18,13],["interpolate",["linear"],["zoom"],15.5,10,18,12]],textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:.9,iconLabelingMargin:{leftRight:6,topBottom:6}},filter:["match",["get","sublayer"],["Commercial_poi_default","Commercial_poi_navi","Commercial_poi_custom"],!0,!1],minzoom:15.1,metadata:{group:{id:"191129"}}},{id:"962063",name:"Коммерческие POI UAE",type:"point",style:{textFont:["Noto_Sans_Semibold",["step",["zoom"],"",16,"Noto_Sans"]],iconImage:"peak",iconWidth:["interpolate",["linear"],["zoom"],15,22,16.8,30],textColor:"#3A3A3A",visibility:"visible",textFontSize:[["interpolate",["linear"],["zoom"],15.5,11,18,13],["interpolate",["linear"],["zoom"],15.5,10,18,12]],textHaloColor:"rgba(255,255,255,0.5)",textHaloWidth:.9,iconLabelingMargin:{leftRight:6,topBottom:6}},filter:["all",["match",["get","sublayer"],["Commercial_poi_default","Commercial_poi_navi","Commercial_poi_custom"],!0,!1],["match",["get","db_region"],[99],!0,!1]],minzoom:14.1,metadata:{group:{id:"191129"},filterInputMode:"json"}},{id:"664502",name:"Молл",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_mall_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",iconPriority:0,textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.9},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_mall"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"400824",name:"По умолчанию",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_personal",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",iconPriority:80,textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_default"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"712213",name:"Супермаркет",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_shop_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_mart"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"109931",name:"Бизнес-центр",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_buisness_center_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_business_center"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"953239",name:"Гостиница",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_hotel_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_hotel"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"117298",name:"Санаторий",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_sanatorium_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_rest"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"903288",name:"Заправочная станция",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_gas_station_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_gas_station"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"538611",name:"Магазин",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_grocery_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_shop"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"742043",name:"Одежда",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_close_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_clothes"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"980637",name:"Обувь",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_shoes_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_shoe_store"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"601158",name:"Аптека",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_pharmacy_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_pharmacy"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"172999",name:"Красота",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_beauty_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_beauty"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"633806",name:"Банкомат",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_bank_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_atm"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"666383",name:"Станция зарядки автомобиля",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_electro_station_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#4C8A0A",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_electro_station"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"189619",name:"Театр",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_theater_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_theater"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"168075",name:"Кинотеатр",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_cinema_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_cinema"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"110624",name:"Музей",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_museum_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_museum"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"391196",name:"Стадион",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_stadium_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_stadium"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"578",name:"Каток",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_icerink_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_ice_skating"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"22965",name:"Бассейн",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_pool_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_pool"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"550119",name:"Ипподром",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_hippodrome_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_racecourse"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"179097",name:"Картинг",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_carting_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_karting"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"753965",name:"Гольфклуб",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_golf_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_golf"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"440260",name:"Теннисный клуб",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_tennis_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_tennis"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"145311",name:"Тренажерный зал",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_gym_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_gym"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"671364",name:"Общепит",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_restaurant_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_food_service"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"434244",name:"Кофейня",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_cafe_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_coffee_shop"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"993141",name:"Бар",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_bar_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_bar"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"978605",name:"Билетная касса",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_lift_tickets_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CA6602",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_ticket"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"276950",name:"Мечеть",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_islamic_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#1482BD",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_mosque"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"187713",name:"Дацан",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_buddhism_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#1482BD",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_datsan"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"34618",name:"Синагога",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_judaism_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#1482BD",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_synagogue"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"415304",name:"Церковь",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_catholic_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#1482BD",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_church","personal_poi_chapel"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"735834",name:"Правительство",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_cityhall_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#1482BD",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_government"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"622998",name:"Библиотека",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_library_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#1482BD",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_library"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"677586",name:"Образование",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_school_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#1482BD",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_education"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"607125",name:"Авиаклуб",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_airclub_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#1482BD",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_aviaclub"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"332443",name:"Сервисная станция",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_carservice_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#1482BD",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_service_station"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"578822",name:"Почта",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_post_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#1482BD",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_post"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"70904",name:"Детский сад",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_kindergarten_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#1482BD",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_kindergarten"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"123390",name:"Полиция",type:"point",style:{textFont:"Noto_Sans_Semibold",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#BA4836",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_police"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"317548",name:"Медицина",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:"poi_hospital_i",iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#BA4836",textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_health"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"401236",name:"Дом",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"home_hover","home"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CC4D04",iconPriority:80,textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textPriority:20,textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_home"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"891091",name:"Работа",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"job_hover","job"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],14,26,16,30,18,34],["interpolate",["linear"],["zoom"],14,20,16,24,18,28]],textColor:"#CC4D04",iconPriority:80,textFontSize:["interpolate",["linear"],["zoom"],14.5,10,17,12],textPriority:20,textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:.8},filter:["all",["match",["get","sublayer"],["s_personal_poi"],!0,!1],["match",["get","objectClass"],["personal_poi_work"],!0,!1]],minzoom:10,metadata:{group:{id:"261953"},filterInputMode:"json"}},{id:"600291",name:"Подписи улиц частного сектора",type:"labelLine",style:{textFont:"Noto_Sans",textColor:"#3F3F3F",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],15,10,20,11],textHaloColor:"rgba(255,255,255,0.7)",textHaloWidth:1,lineEndingOffsets:70,textDuplicationSpacing:["interpolate",["linear"],["zoom"],15,500,17,1e3]},filter:["match",["get","sublayer"],["Street_caption_small"],!0,!1],metadata:{group:{id:"815549"}}},{id:"588210",name:"Подписи улиц",type:"labelLine",style:{textFont:"Noto_Sans",textColor:"#3F3F3F",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],12,10,19,14],textHaloColor:"rgba(255,255,255,0.7)",textHaloWidth:1,lineEndingOffsets:30,textDuplicationSpacing:["interpolate",["linear"],["zoom"],13,150,18,500]},filter:["match",["get","sublayer"],["Street_caption"],!0,!1],metadata:{group:{id:"815549"}}},{id:"64599",name:"Подписи магистралей",type:"labelLine",style:{textFont:"Noto_Sans",textColor:"#2C1803",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],10,9,12,10],textPriority:1,textHaloColor:"rgba(255,255,255,0.7)",textHaloWidth:1,lineEndingOffsets:10,textDuplicationSpacing:200,textLabelingSideMargin:10},filter:["match",["get","sublayer"],["Magistral_caption"],!0,!1],metadata:{group:{id:"815549"}}},{id:"606392",name:"Аэропорт",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_airport_i","poi_airport"],iconWidth:["match",["get","selected"],[!0],22,16],textColor:"#353A3D",visibility:"visible",iconPriority:2,textFontSize:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],15.5,11,18,13],["interpolate",["linear"],["zoom"],15.5,10,18,12]],textPriority:0,textHaloColor:"#FFFFFF",textHaloWidth:.8,textMaxLengthPerLine:24},filter:["all",["match",["get","sublayer"],["Transport_sight"],!0,!1],["match",["get","objectClass"],["airport"],!0,!1]],metadata:{group:{id:"805874"}}},{id:"321557",name:"Порт",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_port_i","poi_port"],iconWidth:["match",["get","selected"],[!0],22,16],textColor:"#353A3D",visibility:"visible",textFontSize:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],15.5,11,18,13],["interpolate",["linear"],["zoom"],15.5,10,18,12]],textHaloColor:"#FFFFFF",textHaloWidth:.8,textMaxLengthPerLine:24},filter:["all",["match",["get","sublayer"],["Transport_sight"],!0,!1],["match",["get","objectClass"],["sea_port"],!0,!1]],minzoom:10.5,metadata:{group:{id:"805874"}}},{id:"506563",name:"Автовокзал",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_busstation_i","poi_busstation"],iconWidth:["match",["get","selected"],[!0],22,16],textColor:"#353A3D",visibility:"visible",textFontSize:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],15.5,11,18,13],["interpolate",["linear"],["zoom"],15.5,10,18,12]],textHaloColor:"#FFFFFF",textHaloWidth:.8,textMaxLengthPerLine:24},filter:["all",["match",["get","sublayer"],["Transport_sight"],!0,!1],["match",["get","objectClass"],["bus_station"],!0,!1]],minzoom:10.5,metadata:{group:{id:"805874"}}},{id:"32388",name:"Ж/Д вокзал",type:"point",style:{textFont:"Noto_Sans_Semibold",iconImage:["match",["get","selected"],[!0],"poi_railwaystation_i","poi_railwaystation"],iconWidth:["match",["get","selected"],[!0],22,16],textColor:"#535558",visibility:"visible",iconPriority:2,textFontSize:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],15.5,11,18,13],["interpolate",["linear"],["zoom"],15.5,10,18,12]],textHaloColor:"#FFFFFF",textHaloWidth:.8,textMaxLengthPerLine:24},filter:["all",["match",["get","sublayer"],["Transport_sight"],!0,!1],["match",["get","objectClass"],["railway_station"],!0,!1]],metadata:{group:{id:"805874"}}},{id:"parking roof",name:"Парковки крытые",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_parking_color_i","poi_parking_roof"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],16,12,17,14],["interpolate",["linear"],["zoom"],0,0,15,10,17,12]],visibility:"visible"},filter:["match",["get","sublayer"],["Parking_roof"],!0,!1],minzoom:15,metadata:{group:{id:"5946"}}},{id:"parking",name:"Парковки",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_parking_color_i","poi_parking"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],16,12,17,14],["interpolate",["linear"],["zoom"],0,0,16.5,10,17,12]],visibility:"visible"},filter:["match",["get","sublayer"],["Parking"],!0,!1],minzoom:15,metadata:{group:{id:"5946"}}},{id:"153956",name:"Парковки голубые",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_parking_color_i","poi_parking_blue"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],17,12,18,14],["interpolate",["linear"],["zoom"],0,0,16.5,10,17,12]],visibility:"visible"},filter:["match",["get","sublayer"],["Parking_blue","Parking_blue_roof"],!0,!1],minzoom:15,metadata:{group:{id:"5946"}}},{id:"839141",name:"Парковки зелёные",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_parking_color_i","poi_parking_green"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],17,12,18,14],["interpolate",["linear"],["zoom"],0,0,16.5,10,18,11]],visibility:"visible"},filter:["match",["get","sublayer"],["Parking_green","Parking_green_roof"],!0,!1],minzoom:15,metadata:{group:{id:"5946"}}},{id:"941857",name:"Парковки оранжевые",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_parking_color_i","poi_parking_orange"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],17,12,18,14],["interpolate",["linear"],["zoom"],0,0,16.5,10,18,11]],visibility:"visible"},filter:["match",["get","sublayer"],["Parking_orange","Parking_orange_roof"],!0,!1],minzoom:15,metadata:{group:{id:"5946"}}},{id:"568939",name:"Парковки фиолетовые",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_parking_color_i","poi_parking_violet"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],17,12,18,14],["interpolate",["linear"],["zoom"],0,0,16.5,10,18,11]],visibility:"visible"},filter:["match",["get","sublayer"],["Parking_violet_roof","Parking_violet"],!0,!1],minzoom:15,metadata:{group:{id:"5946"}}},{id:"872658",name:"Парковки смешанные оранжевые",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_parking_color_i","poi_parking_mix_orange"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],17,12,18,14],["interpolate",["linear"],["zoom"],0,0,16.5,10,18,11]],visibility:"visible"},filter:["match",["get","sublayer"],["Parking_orange_mix_roof","Parking_orange_mix"],!0,!1],minzoom:15,metadata:{group:{id:"5946"}}},{id:"48734",name:"Парковки смешанные зелёные",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_parking_color_i","poi_parking_mix_green"],iconWidth:["match",["get","selected"],[!0],["interpolate",["linear"],["zoom"],17,12,18,14],["interpolate",["linear"],["zoom"],0,0,16.5,10,18,11]],visibility:"visible"},filter:["match",["get","sublayer"],["Parking_green_mix_roof","Parking_green_mix"],!0,!1],minzoom:15,metadata:{group:{id:"5946"}}},{id:"310304",name:"Парковки для велосипедов",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_parking_bike_i","poi_parking_bike"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],0,0,18,16]],visibility:"visible"},filter:["match",["get","sublayer"],["Parking_bike","Parking_bike_roof"],!0,!1],minzoom:15,metadata:{group:{id:"5946"}}},{id:"114266",name:"Парковки для мотоциклов",type:"point",style:{iconImage:["match",["get","selected"],[!0],"poi_parking_moto_i","poi_parking_moto"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],0,0,18,16]],visibility:"visible"},filter:["match",["get","sublayer"],["Parking_moto_roof","Parking_moto"],!0,!1],minzoom:15,metadata:{group:{id:"5946"}}},{id:"traffic light",name:"Светофоры",type:"point",style:{textFont:"Noto_Sans",iconImage:"poi_traffic_light",iconWidth:["interpolate",["linear"],["zoom"],16,14,17,18],textOffset:0,visibility:"visible",textPlacement:"centerCenter"},filter:["all",["match",["get","sublayer"],["Traffic_light"],!0,!1],["match",["get","objectClass"],["traffic_light"],!0,!1]],minzoom:16},{id:"railstation gen",name:"Ж/Д станции точка",type:"point",style:{textFont:["step",["zoom"],"",13,"Noto_Sans"],iconImage:"poi_station_dot",iconWidth:7,textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_railroad"],!0,!1]],maxzoom:14.5,minzoom:11,metadata:{group:{id:"758882"}}},{id:"transport gen",name:"Остановки точка",type:"point",style:{iconImage:"poi_bus_station_dot",iconWidth:6,textColor:"#353a3d",textOffset:0,visibility:"visible",allowOverlap:!1,textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_bus","transport_water","transport_metrotram","transport_mono","transport_speedtram","transport_tram","transport_funicular"],!0,!1]],maxzoom:15.5,minzoom:14.7,metadata:{group:{id:"758882"}}},{id:"railstation",name:"Ж/Д станция",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"electrichka_i_72","electrichka"],iconWidth:["interpolate",["linear"],["zoom"],17.4,12,17.5,16],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_railroad"],!0,!1]],minzoom:14.5,metadata:{group:{id:"758882"}}},{id:"bus",name:"Автобус",type:"point",style:{textFont:["step",["zoom"],"",17.5,"Noto_Sans"],iconImage:["match",["get","selected"],[!0],"avtobus_i_72","avtobus"],iconWidth:["interpolate",["linear"],["zoom"],17.4,12,17.5,16],textColor:"#379dbb",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:1,textPlacement:"bottomCenter",textMaxLengthPerLine:20},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_bus"],!0,!1]],minzoom:15.5,metadata:{group:{id:"758882"}}},{id:"water",name:"Водный транспорт",type:"point",style:{textFont:["step",["zoom"],"",17.5,"Noto_Sans"],iconImage:["match",["get","selected"],[!0],"sea_i_72","sea"],iconWidth:["interpolate",["linear"],["zoom"],17.4,12,17.5,16],textColor:"#379dbb",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1.5,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_water"],!0,!1]],minzoom:15.5,metadata:{group:{id:"758882"}}},{id:"tramway",name:"Трамвай",type:"point",style:{textFont:["step",["zoom"],"",17.5,"Noto_Sans"],iconImage:["match",["get","selected"],[!0],"tramvay_i_72","tramvay"],iconWidth:["interpolate",["linear"],["zoom"],17.4,12,17.5,16],textColor:"#379dbb",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metrotram","transport_speedtram","transport_tram"],!0,!1]],minzoom:15.5,metadata:{group:{id:"758882"}}},{id:"mono",name:"Монорельс",type:"point",style:{textFont:["step",["zoom"],"",17.5,"Noto_Sans"],iconImage:["match",["get","selected"],[!0],"monorels_i_72","monorels"],iconWidth:["interpolate",["linear"],["zoom"],16.4,10,18.1,15],textColor:"#379dbb",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_mono"],!0,!1]],minzoom:15.5,metadata:{group:{id:"758882"}}},{id:"funroad",name:"Фуникулёр",type:"point",style:{textFont:["step",["zoom"],"",17.5,"Noto_Sans"],iconImage:["match",["get","selected"],[!0],"funroad_i_72","funroad"],iconWidth:["interpolate",["linear"],["zoom"],17.4,12,17.5,16],textColor:"#379dbb",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_funicular"],!0,!1]],minzoom:15.5,metadata:{group:{id:"758882"}}},{id:"647747",name:"Канатная дорога",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"kanat_i_72","kanat"],iconWidth:["interpolate",["linear"],["zoom"],14.5,10,16,14,17.5,16],textColor:"#353A3D",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_gondola"],!0,!1]],minzoom:14.5,metadata:{group:{id:"758882"}}},{id:"924188",name:"Кресельный подъемник",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"chairlift_i_72","chairlift"],iconWidth:["interpolate",["linear"],["zoom"],14.5,10,16,14,17.5,16],textColor:"#353A3D",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1.5,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_chairlift"],!0,!1]],minzoom:14.5,metadata:{group:{id:"758882"}}},{id:"193645",name:"Бугельный подъемник",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"bugel_i_72","bugel"],iconWidth:["interpolate",["linear"],["zoom"],14.5,10,16,14,17.5,16],textColor:"#353A3D",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"rgba(255,255,255,0.9)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_bugel"],!0,!1]],minzoom:14.5,metadata:{group:{id:"758882"}}},{id:"metro mm",name:"Метро генерализация",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_mm"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:["match",["get","selected"],[!0],"#D10000","#353a3d"],textOffset:0,visibility:"visible",iconPriority:0,textFontSize:["match",["get","selected"],[!0],12,11],textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_turquoise","transport_metro_cyan","transport_metro_yellow","transport_metro_green","transport_metro_brown","transport_metro_red","transport_metro_orange","transport_metro_lime","transport_metro_grey","transport_metro_blue","transport_metro_grass","transport_metro_purple","transport_metro_steel"],!0,!1]],maxzoom:13.5,minzoom:12,metadata:{group:{id:"711817"},filterInputMode:"ui"}},{id:"metro turquoise",name:"Бирюзовая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_turquoise"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",iconPriority:0,textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_turquoise"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"711817"}}},{id:"metro cyan",name:"Голубая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_cyan"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_cyan"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"711817"}}},{id:"metro yellow",name:"Жёлтая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_yellow"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_yellow"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"711817"}}},{id:"metro green",name:"Зелёная",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_green"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_green"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"711817"}}},{id:"metro brown",name:"Коричневая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_brown"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_brown"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"711817"}}},{id:"metro red",name:"Красная",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red",iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",allowOverlap:!1,iconPriority:1,textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_red"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"711817"}}},{id:"metro orange",name:"Оранжевая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_orange"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_orange"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"711817"}}},{id:"metro lime",name:"Салатовая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_lime"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_lime"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"711817"}}},{id:"metro grey",name:"Серая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_grey"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_grey"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"711817"}}},{id:"metro blue",name:"Синяя",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_blue"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_blue"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"711817"}}},{id:"metro grass",name:"Тёмно-зелёная",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_green"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_grass"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"711817"}}},{id:"metro steel",name:"Серо-голубая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_steel"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_steel"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"711817"}}},{id:"metro purple",name:"Фиолетовая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_purple"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_purple"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"711817"}}},{id:"621269",name:"Метро генерализация UAE",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_uae","metro_mm_uae"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:["match",["get","selected"],[!0],"#D10000","#353a3d"],textOffset:0,visibility:"visible",iconPriority:0,textFontSize:["match",["get","selected"],[!0],12,11],textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_green","transport_metro_red"],!0,!1],["match",["get","db_region"],[99],!0,!1]],maxzoom:13.5,minzoom:12,metadata:{group:{id:"272603"},filterInputMode:"json"}},{id:"868052",name:"Зелёная UAE",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_uae","metro_green_uae"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_green"],!0,!1],["match",["get","db_region"],[99],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"272603"},filterInputMode:"json"}},{id:"612188",name:"Красная UAE",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red_uae",iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",allowOverlap:!1,iconPriority:1,textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_red"],!0,!1],["match",["get","db_region"],[99],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"272603"},filterInputMode:"json"}},{id:"47738",name:"Метро генерализация СПб",type:"point",style:{textFont:["step",["zoom"],"",13,"Noto_Sans"],iconImage:["match",["get","selected"],[!0],"metro_red_spb","metro_mm_spb"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:["match",["get","selected"],[!0],"#D10000","#353a3d"],textOffset:0,visibility:"visible",iconPriority:0,textFontSize:["match",["get","selected"],[!0],12,11],textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_green","transport_metro_red","transport_metro_orange","transport_metro_blue","transport_metro_purple"],!0,!1],["match",["get","db_region"],[38],!0,!1]],maxzoom:13.5,minzoom:12,metadata:{group:{id:"682782"},filterInputMode:"json"}},{id:"499180",name:"Зелёная СПб",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_spb","metro_green_spb"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_green"],!0,!1],["match",["get","db_region"],[38],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"682782"},filterInputMode:"json"}},{id:"55549",name:"Красная СПб",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red_spb",iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",allowOverlap:!1,iconPriority:1,textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_red"],!0,!1],["match",["get","db_region"],[38],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"682782"},filterInputMode:"json"}},{id:"350912",name:"Оранжевая СПб",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_spb","metro_orange_spb"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_orange"],!0,!1],["match",["get","db_region"],[38],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"682782"},filterInputMode:"json"}},{id:"203099",name:"Синяя СПб",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_spb","metro_blue_spb"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_blue"],!0,!1],["match",["get","db_region"],[38],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"682782"},filterInputMode:"json"}},{id:"745868",name:"Фиолетовая СПб",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_spb","metro_purple_spb"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_purple"],!0,!1],["match",["get","db_region"],[38],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"682782"},filterInputMode:"json"}},{id:"769095",name:"Метро генерализация Прага",type:"point",style:{textFont:["step",["zoom"],"",13,"Noto_Sans"],iconImage:["match",["get","selected"],[!0],"metro_red_praha","metro_mm_praha"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:["match",["get","selected"],[!0],"#D10000","#353a3d"],textOffset:0,visibility:"visible",iconPriority:0,textFontSize:["match",["get","selected"],[!0],12,11],textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_yellow","transport_metro_green","transport_metro_red"],!0,!1],["match",["get","db_region"],[92],!0,!1]],maxzoom:13.5,minzoom:12,metadata:{group:{id:"740815"},filterInputMode:"json"}},{id:"147579",name:"Жёлтая Прага",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_praha","metro_yellow_praha"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_yellow"],!0,!1],["match",["get","db_region"],[92],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"740815"},filterInputMode:"json"}},{id:"91078",name:"Красная Прага",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red_praha",iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",allowOverlap:!1,iconPriority:1,textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_red"],!0,!1],["match",["get","db_region"],[92],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"740815"},filterInputMode:"json"}},{id:"388412",name:"Зелёная Прага",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_praha","metro_green_praha"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_green"],!0,!1],["match",["get","db_region"],[92],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"740815"},filterInputMode:"json"}},{id:"356828",name:"Метро генерализация Сантьяго",type:"point",style:{textFont:["step",["zoom"],"",13,"Noto_Sans"],iconImage:["match",["get","selected"],[!0],"metro_red_santiago","metro_mm_santiago"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:["match",["get","selected"],[!0],"#D10000","#353a3d"],textOffset:0,visibility:"visible",iconPriority:0,textFontSize:["match",["get","selected"],[!0],12,11],textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_cyan","transport_metro_green","transport_metro_brown","transport_metro_red","transport_metro_orange","transport_metro_blue","transport_metro_pink"],!0,!1],["match",["get","db_region"],[101],!0,!1]],maxzoom:13.5,minzoom:12,metadata:{group:{id:"159784"},filterInputMode:"json"}},{id:"41045",name:"Голубая Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_santiago","metro_cyan_santiago"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_cyan"],!0,!1],["match",["get","db_region"],[101],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"159784"},filterInputMode:"json"}},{id:"88038",name:"Коричневая Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_santiago","metro_brown_santiago"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_brown"],!0,!1],["match",["get","db_region"],[101],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"159784"},filterInputMode:"json"}},{id:"690347",name:"Красная Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red_santiago",iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",allowOverlap:!1,iconPriority:1,textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_red"],!0,!1],["match",["get","db_region"],[101],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"159784"},filterInputMode:"json"}},{id:"128877",name:"Оранжевая Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_santiago","metro_orange_santiago"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_orange"],!0,!1],["match",["get","db_region"],[101],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"159784"},filterInputMode:"json"}},{id:"880817",name:"Синяя Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_santiago","metro_blue_santiago"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_blue"],!0,!1],["match",["get","db_region"],[101],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"159784"},filterInputMode:"json"}},{id:"599241",name:"Зелёная Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_santiago","metro_green_santiago"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_green"],!0,!1],["match",["get","db_region"],[101],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"159784"},filterInputMode:"json"}},{id:"586494",name:"Фиолетовая Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_santiago","metro_purple_santiago"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_purple"],!0,!1],["match",["get","db_region"],[101],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"159784"},filterInputMode:"json"}},{id:"843243",name:"Метро генерализация Харьков",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_kharkiv","metro_mm_kharkiv"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:["match",["get","selected"],[!0],"#D10000","#353a3d"],textOffset:0,visibility:"visible",iconPriority:0,textFontSize:["match",["get","selected"],[!0],12,11],textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_green","transport_metro_red","transport_metro_blue"],!0,!1],["match",["get","db_region"],[110],!0,!1]],maxzoom:13.5,minzoom:12,metadata:{group:{id:"632416"},filterInputMode:"json"}},{id:"266079",name:"Зелёная Харьков",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_kharkiv","metro_green_kharkiv"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_green"],!0,!1],["match",["get","db_region"],[110],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"632416"},filterInputMode:"json"}},{id:"222294",name:"Красная Харьков",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red_kharkiv",iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",allowOverlap:!1,iconPriority:1,textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_red"],!0,!1],["match",["get","db_region"],[110],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"632416"},filterInputMode:"json"}},{id:"795935",name:"Синяя Харьков",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_kharkiv","metro_blue_kharkiv"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_blue"],!0,!1],["match",["get","db_region"],[110],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"632416"},filterInputMode:"json"}},{id:"572757",name:"Метро генерализация МСК",type:"point",style:{textFont:["step",["zoom"],"",12.5,"Noto_Sans"],iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_mm_msc"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:["match",["get","selected"],[!0],"#D10000","#353a3d"],textOffset:0,visibility:"visible",iconPriority:0,textFontSize:["match",["get","selected"],[!0],12,11],textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_turquoise","transport_metro_cyan","transport_metro_yellow","transport_metro_green","transport_metro_brown","transport_metro_red","transport_metro_orange","transport_metro_lime","transport_metro_grey","transport_metro_blue","transport_metro_grass","transport_metro_steel","transport_metro_pink","transport_metro_purple"],!0,!1],["match",["get","db_region"],[32],!0,!1]],maxzoom:13.5,minzoom:12,metadata:{group:{id:"43556"},filterInputMode:"json"}},{id:"459787",name:"Бирюзовая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_turquoise_msc"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",iconPriority:0,textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_turquoise"],!0,!1],["match",["get","db_region"],[32],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"43556"},filterInputMode:"json"}},{id:"819304",name:"Голубая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_cyan_msc"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_cyan"],!0,!1],["match",["get","db_region"],[32],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"43556"},filterInputMode:"json"}},{id:"586708",name:"Жёлтая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_yellow_msc"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_yellow"],!0,!1],["match",["get","db_region"],[32],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"43556"},filterInputMode:"json"}},{id:"928593",name:"Коричневая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_brown_msc"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_brown"],!0,!1],["match",["get","db_region"],[32],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"43556"},filterInputMode:"json"}},{id:"704030",name:"Красная МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red_msc",iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",allowOverlap:!1,iconPriority:1,textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_red"],!0,!1],["match",["get","db_region"],[32],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"43556"},filterInputMode:"json"}},{id:"947687",name:"Оранжевая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_orange_msc"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_orange"],!0,!1],["match",["get","db_region"],[32],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"43556"},filterInputMode:"json"}},{id:"385536",name:"Салатовая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_lime_msc"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_lime"],!0,!1],["match",["get","db_region"],[32],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"43556"},filterInputMode:"json"}},{id:"941631",name:"Серая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_grey_msc"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_grey"],!0,!1],["match",["get","db_region"],[32],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"43556"},filterInputMode:"json"}},{id:"949007",name:"Синяя МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_blue_msc"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_blue"],!0,!1],["match",["get","db_region"],[32],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"43556"},filterInputMode:"json"}},{id:"107304",name:"Тёмно-зелёная МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_grass_msc"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_grass"],!0,!1],["match",["get","db_region"],[32],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"43556"},filterInputMode:"json"}},{id:"191049",name:"Серо-голубая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_steel_msc"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_steel"],!0,!1],["match",["get","db_region"],[32],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"43556"},filterInputMode:"json"}},{id:"metro mck",name:"МЦК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_mkgd"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_mkgd"],!0,!1]],maxzoom:16.5,minzoom:12,metadata:{group:{id:"43556"}}},{id:"metro pink",name:"Розовая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_pink"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_pink"],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"43556"}}},{id:"532552",name:"Фиолетовая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_purple_msc"],iconWidth:["match",["get","selected"],[!0],16,13],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_purple"],!0,!1],["match",["get","db_region"],[32],!0,!1]],maxzoom:16.5,minzoom:13.5,metadata:{group:{id:"43556"},filterInputMode:"json"}},{id:"metro mcd1",name:"МЦД 1",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_mcd1",iconWidth:["match",["get","selected"],[!0],21,18],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_mcd1"],!0,!1]],maxzoom:16.5,minzoom:12,metadata:{group:{id:"43556"}}},{id:"metro mcd2",name:"МЦД 2",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_mcd2",iconWidth:["match",["get","selected"],[!0],21,18],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Transport_stop"],!0,!1],["match",["get","objectClass"],["transport_metro_mcd2"],!0,!1]],maxzoom:16.5,minzoom:12,metadata:{group:{id:"43556"}}},{id:"metro exit turquoise",name:"Бирюзовая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_turquoise"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_turquoise"],!0,!1]],minzoom:16.5,metadata:{group:{id:"77098"}}},{id:"metro exit cyan",name:"Голубая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_cyan"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_cyan"],!0,!1]],minzoom:16.5,metadata:{group:{id:"77098"}}},{id:"metro exit yellow",name:"Жёлтая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_yellow"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_yellow"],!0,!1]],minzoom:16.5,metadata:{group:{id:"77098"}}},{id:"metro exit green",name:"Зелёная",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_green"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_green"],!0,!1]],minzoom:16.5,metadata:{group:{id:"77098"}}},{id:"metro exit brown",name:"Коричневая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_brown"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_brown"],!0,!1]],minzoom:16.5,metadata:{group:{id:"77098"}}},{id:"metro exit red",name:"Красная",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red",iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_red"],!0,!1]],minzoom:16.5,metadata:{group:{id:"77098"}}},{id:"metro exit orange",name:"Оранжевая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_orange"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_orange"],!0,!1]],minzoom:16.5,metadata:{group:{id:"77098"}}},{id:"metro exit lime",name:"Салатовая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_lime"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_lime"],!0,!1]],minzoom:16.5,metadata:{group:{id:"77098"}}},{id:"metro exit grey",name:"Серая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_grey"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter",textMaxLengthPerLine:20},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_grey"],!0,!1]],minzoom:16.5,metadata:{group:{id:"77098"}}},{id:"metro exit blue",name:"Синяя",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_blue"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_blue"],!0,!1]],minzoom:16.5,metadata:{group:{id:"77098"}}},{id:"metro exit grass",name:"Тёмно-зелёная",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_green"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_grass"],!0,!1]],minzoom:16.5,metadata:{group:{id:"77098"}}},{id:"metro exit purple",name:"Фиолетовая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_purple"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_purple"],!0,!1]],minzoom:16.5,metadata:{group:{id:"77098"}}},{id:"metro exit steel",name:"Серо-голубая",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red","metro_steel"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_steel"],!0,!1]],minzoom:16.5,metadata:{group:{id:"77098"}}},{id:"558460",name:"Зелёная UAE",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_uae","metro_green_uae"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","db_region"],[99],!0,!1]],minzoom:16.5,metadata:{group:{id:"501891"},filterInputMode:"json"}},{id:"962654",name:"Красная UAE",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red_uae",iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","db_region"],[99],!0,!1]],minzoom:16.5,metadata:{group:{id:"501891"},filterInputMode:"json"}},{id:"987296",name:"Зелёная СПб",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_spb","metro_green_spb"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_green"],!0,!1],["match",["get","db_region"],[38],!0,!1]],minzoom:16.5,metadata:{group:{id:"924721"},filterInputMode:"json"}},{id:"928580",name:"Красная СПб",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red_spb",iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_red"],!0,!1],["match",["get","db_region"],[38],!0,!1]],minzoom:16.5,metadata:{group:{id:"924721"},filterInputMode:"json"}},{id:"837239",name:"Оранжевая СПб",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_spb","metro_orange_spb"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_orange"],!0,!1],["match",["get","db_region"],[38],!0,!1]],minzoom:16.5,metadata:{group:{id:"924721"},filterInputMode:"json"}},{id:"427080",name:"Синяя СПб",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_spb","metro_blue_spb"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_blue"],!0,!1],["match",["get","db_region"],[38],!0,!1]],minzoom:16.5,metadata:{group:{id:"924721"},filterInputMode:"json"}},{id:"545863",name:"Фиолетовая СПб",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_spb","metro_purple_spb"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_purple"],!0,!1],["match",["get","db_region"],[38],!0,!1]],minzoom:16.5,metadata:{group:{id:"924721"},filterInputMode:"json"}},{id:"132410",name:"Жёлтая Прага",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_praha","metro_yellow_praha"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_yellow"],!0,!1],["match",["get","db_region"],[92],!0,!1]],minzoom:16.5,metadata:{group:{id:"135503"},filterInputMode:"json"}},{id:"398337",name:"Зелёная Прага",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_green_praha",iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_green"],!0,!1],["match",["get","db_region"],[92],!0,!1]],minzoom:16.5,metadata:{group:{id:"135503"},filterInputMode:"json"}},{id:"436887",name:"Красная Прага",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red_praha",iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_red"],!0,!1],["match",["get","db_region"],[92],!0,!1]],minzoom:16.5,metadata:{group:{id:"135503"},filterInputMode:"json"}},{id:"369799",name:"Голубая Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_santiago","metro_cyan_santiago"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_cyan"],!0,!1],["match",["get","db_region"],[101],!0,!1]],minzoom:16.5,metadata:{group:{id:"227"},filterInputMode:"json"}},{id:"617570",name:"Зелёная Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_santiago","metro_green_santiago"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_green"],!0,!1],["match",["get","db_region"],[101],!0,!1]],minzoom:16.5,metadata:{group:{id:"227"},filterInputMode:"json"}},{id:"595478",name:"Коричневая Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_santiago","metro_brown_santiago"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_brown"],!0,!1],["match",["get","db_region"],[101],!0,!1]],minzoom:16.5,metadata:{group:{id:"227"},filterInputMode:"json"}},{id:"561000",name:"Красная Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red_santiago",iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_red"],!0,!1],["match",["get","db_region"],[101],!0,!1]],minzoom:16.5,metadata:{group:{id:"227"},filterInputMode:"json"}},{id:"876730",name:"Оранжевая Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_santiago","metro_orange_santiago"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_orange"],!0,!1],["match",["get","db_region"],[101],!0,!1]],minzoom:16.5,metadata:{group:{id:"227"},filterInputMode:"json"}},{id:"343376",name:"Синяя Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_santiago","metro_blue_santiago"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_blue"],!0,!1],["match",["get","db_region"],[101],!0,!1]],minzoom:16.5,metadata:{group:{id:"227"},filterInputMode:"json"}},{id:"471758",name:"Фиолетовая Сантьяго",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_santiago","metro_purple_santiago"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_purple"],!0,!1],["match",["get","db_region"],[101],!0,!1]],minzoom:16.5,metadata:{group:{id:"227"},filterInputMode:"json"}},{id:"49282",name:"Зелёная Харьков",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_kharkiv","metro_green_kharkiv"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_green"],!0,!1],["match",["get","db_region"],[110],!0,!1]],minzoom:16.5,metadata:{group:{id:"73948"},filterInputMode:"json"}},{id:"511195",name:"Красная Харьков",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red_kharkiv",iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_red"],!0,!1],["match",["get","db_region"],[110],!0,!1]],minzoom:16.5,metadata:{group:{id:"73948"},filterInputMode:"json"}},{id:"323913",name:"Синяя Харьков",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_kharkiv","metro_blue_kharkiv"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_blue"],!0,!1],["match",["get","db_region"],[110],!0,!1]],minzoom:16.5,metadata:{group:{id:"73948"},filterInputMode:"json"}},{id:"976843",name:"Бирюзовая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_turquoise_msc"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_turquoise"],!0,!1],["match",["get","db_region"],[32],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"},filterInputMode:"json"}},{id:"666018",name:"Голубая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_cyan_msc"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_cyan"],!0,!1],["match",["get","db_region"],[32],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"},filterInputMode:"json"}},{id:"347522",name:"Жёлтая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_yellow_msc"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_yellow"],!0,!1],["match",["get","db_region"],[32],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"},filterInputMode:"json"}},{id:"251879",name:"Коричневая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_brown_msc"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_brown"],!0,!1],["match",["get","db_region"],[32],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"},filterInputMode:"json"}},{id:"465173",name:"Красная МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_red_msc",iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_red"],!0,!1],["match",["get","db_region"],[32],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"},filterInputMode:"json"}},{id:"96731",name:"Оранжевая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_orange_msc"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_orange"],!0,!1],["match",["get","db_region"],[32],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"},filterInputMode:"json"}},{id:"972567",name:"Салатовая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_lime_msc"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_lime"],!0,!1],["match",["get","db_region"],[32],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"},filterInputMode:"json"}},{id:"202186",name:"Серая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_grey_msc"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter",textMaxLengthPerLine:20},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_grey"],!0,!1],["match",["get","db_region"],[32],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"},filterInputMode:"json"}},{id:"397340",name:"Синяя МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_blue_msc"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_blue"],!0,!1],["match",["get","db_region"],[32],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"},filterInputMode:"json"}},{id:"846210",name:"Тёмно-зелёная МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_grass_msc"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_grass"],!0,!1],["match",["get","db_region"],[32],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"},filterInputMode:"json"}},{id:"942904",name:"Фиолетовая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_purple_msc"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_purple"],!0,!1],["match",["get","db_region"],[32],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"},filterInputMode:"json"}},{id:"221794",name:"Серо-голубая МСК",type:"point",style:{textFont:"Noto_Sans",iconImage:["match",["get","selected"],[!0],"metro_red_msc","metro_steel_msc"],iconWidth:["match",["get","selected"],[!0],16,["interpolate",["linear"],["zoom"],17.3,12,17.4,15]],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_steel"],!0,!1],["match",["get","db_region"],[32],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"},filterInputMode:"json"}},{id:"metro exit mck",name:"МЦК",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_mkgd",iconWidth:["interpolate",["linear"],["zoom"],17.3,12,17.4,15],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_mkgd"],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"}}},{id:"metro exit pink",name:"Розовая",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_pink",iconWidth:["interpolate",["linear"],["zoom"],17.3,12,17.4,15],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_pink"],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"}}},{id:"metro exit mcd1",name:"МЦД 1",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_mcd1",iconWidth:["interpolate",["linear"],["zoom"],17.3,16,17.4,22],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_mcd1"],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"}}},{id:"metro exit mcd2",name:"МЦД 2",type:"point",style:{textFont:"Noto_Sans",iconImage:"metro_mcd2",iconWidth:["interpolate",["linear"],["zoom"],17.3,16,17.4,22],textColor:"#353a3d",textOffset:0,visibility:"visible",textFontSize:11,textHaloColor:"hsla(0, 0%, 100%, 0.6)",textHaloWidth:1,textPlacement:"bottomCenter"},filter:["all",["match",["get","sublayer"],["Subway_exit"],!0,!1],["match",["get","objectClass"],["metro_exit_mcd2"],!0,!1]],minzoom:16.5,metadata:{group:{id:"44814"}}},{id:"city caption",name:"Подписи городов с точками",type:"point",style:{textFont:"Noto_Sans",iconImage:"poi_city_dot",iconWidth:["interpolate",["linear"],["zoom"],7,8,15,16],textColor:"#1a1a1a",textOffset:0,visibility:"visible",iconPriority:1,textFontSize:["interpolate",["linear"],["zoom"],9,12,15,24],textPriority:1,textHaloColor:"hsla(0, 0%, 100%, 0.5)",textHaloWidth:1,textPlacement:"bottomCenter",iconLabelingMargin:{leftRight:0,topBottom:0},textLabelingMargin:{leftRight:10,topBottom:0}},filter:["all",["match",["get","sublayer"],["City_caption"],!0,!1],["match",["get","objectClass"],["city_caption","np_caption"],!0,!1]],maxzoom:15,minzoom:9},{id:"949217",name:"Подпись населенного пункта",type:"point",style:{textFont:"Noto_Sans",textColor:"#262626",visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],8,10,16,18],textHaloColor:"rgba(255,255,255,0.71)",textHaloWidth:1,textLabelingMargin:{leftRight:20,topBottom:20}},filter:["all",["match",["get","sublayer"],["Locality_caption"],!0,!1],["match",["get","objectClass"],["np_caption"],!0,!1]]},{id:"776122",name:"Подпись сельского поселения",type:"point",style:{textFont:"Noto_Sans",textColor:["interpolate",["linear"],["zoom"],11,"#4F3A17",16,"#AF9974"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],9,12,12,14],textHaloColor:"rgba(255,255,255,0.71)",textHaloWidth:1,textLabelingMargin:{leftRight:20,topBottom:20}},filter:["match",["get","sublayer"],["Village_caption"],!0,!1]},{id:"657681",name:"Подпись района",type:"point",style:{textFont:"Noto_Sans",textColor:["interpolate",["linear"],["zoom"],11,"#4F3A17",16,"rgba(175,153,116,0.4)"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],11,12,16,18],textHaloColor:["interpolate",["linear"],["zoom"],11,"rgba(255,255,255,0.7)",16,"rgba(255,255,255,0.4)"],textHaloWidth:1,iconLabelingMargin:{leftRight:0,topBottom:0},textLabelingMargin:{leftRight:5,topBottom:5}},filter:["match",["get","sublayer"],["Administrative_district_caption"],!0,!1],minzoom:10},{id:"22694",name:"Подпись района Актау",type:"point",style:{textFont:"Noto_Sans",textColor:["interpolate",["linear"],["zoom"],11,"#4F3A17",16,"rgba(175,153,116,0.4)"],visibility:"visible",textFontSize:["interpolate",["linear"],["zoom"],11,12,16,18],textHaloColor:["interpolate",["linear"],["zoom"],11,"rgba(255,255,255,0.7)",16,"rgba(255,255,255,0.4)"],textHaloWidth:1,textLabelingMargin:{leftRight:10,topBottom:10}},filter:["all",["match",["get","sublayer"],["Administrative_district_caption"],!0,!1],["match",["get","db_region"],[196],!0,!1]],minzoom:12,metadata:{filterInputMode:"json"}},{id:"533740",name:"Подпись главного города",type:"point",style:{textFont:"Noto_Sans",textColor:["interpolate",["linear"],["zoom"],10.9,"#1A1A1A",11,"rgba(26,26,26,0.5)"],visibility:"visible",iconPriority:0,textFontSize:["interpolate",["linear"],["zoom"],0,10,11,22,11.9,22,12,24],textPriority:221,textHaloColor:["interpolate",["linear"],["zoom"],10.9,"#FFFFFF",11,"rgba(255,255,255,0.5)"],textLabelingMargin:{leftRight:0,topBottom:0}},filter:["all",["match",["get","sublayer"],["Main_city_caption"],!0,!1],["match",["get","objectClass"],["main_city_caption"],!0,!1]]}],version:1,metadata:{groups:{227:{id:"227",name:"Иконки выходов метро Сантьяго",isCollapsed:!0},5946:{id:"5946",name:"Парковки",isCollapsed:!0},15309:{id:"15309",name:"Пробки",isCollapsed:!0},43556:{id:"43556",name:"Иконки станций метро МСК",isCollapsed:!0},44814:{id:"44814",name:"Иконки выходов метро МСК",isCollapsed:!0},53095:{id:"53095",name:"Достопримечательности этажей",isCollapsed:!0},70184:{id:"70184",name:"Площади этажей",isCollapsed:!0},73948:{id:"73948",name:"Иконки выходом метро Харьков",isCollapsed:!0},77098:{id:"77098",name:"Иконки выходов метро",isCollapsed:!0},135503:{id:"135503",name:"Иконки выходов метро Прага",isCollapsed:!0},149885:{id:"149885",name:"Водные объекты",isCollapsed:!0},159784:{id:"159784",name:"Иконки станций метро Сантьяго",isCollapsed:!0},191129:{id:"191129",name:"Иконки POI",isCollapsed:!0},197277:{id:"197277",name:"Кварталы",isCollapsed:!0},206498:{id:"206498",name:"3D дома",isCollapsed:!0},261953:{id:"261953",name:"Персональные POI",isCollapsed:!0},272603:{id:"272603",name:"Иконки станций метро UAE",isCollapsed:!0},282893:{id:"282893",name:"Плоские дома",isCollapsed:!0},346254:{id:"346254",name:"Подписи гео объектов",isCollapsed:!0},405141:{id:"405141",name:"Подписи этажей",isCollapsed:!0},444318:{id:"444318",name:"Достопримечательности",isCollapsed:!0},501891:{id:"501891",name:"Иконки выходов метро UAE",isCollapsed:!0},563870:{id:"563870",name:"Площадники организаций",isCollapsed:!0},632416:{id:"632416",name:"Иконки станций метро Харьков",isCollapsed:!0},682782:{id:"682782",name:"Иконки станций СПб",isCollapsed:!0},687899:{id:"687899",name:"Дороги",isCollapsed:!0},711817:{id:"711817",name:"Иконки станций метро",isCollapsed:!0},740815:{id:"740815",name:"Иконки станций метро Прага",isCollapsed:!0},758882:{id:"758882",name:"Иконки остановок транспорта",isCollapsed:!0},764094:{id:"764094",name:"Линии транспорта",isCollapsed:!0},783289:{id:"783289",name:"Стены этажей",isCollapsed:!0},783706:{id:"783706",name:"Глобальная карта",isCollapsed:!0},805874:{id:"805874",name:"Транспортные достопримечательности",isCollapsed:!0},815549:{id:"815549",name:"Подписи улиц",isCollapsed:!0},924721:{id:"924721",name:"Иконки выходов метро СПб",isCollapsed:!0},996686:{id:"996686",name:"Якоря организаций на этажах",isCollapsed:!0}},defaultMapView:{lat:55.75346600000001,lon:37.62017,zoom:10}},background:{color:"#F5F2E0"}},0,!1);!function(t,e){const o=zr(e.fontsPath)?e.fontsPath:Cr(e.rootUrl,e.fontsPath);t.fontUrlTemplate=Cr(o,"{name}_{range}.pbf"),t.iconBaseUrl=zr(e.iconsPathForMap)?e.iconsPathForMap:Cr(e.rootUrl,e.iconsPathForMap),t.legacyIconBaseUrl=zr(e.iconsPath)?e.iconsPath:Cr(e.rootUrl,e.iconsPath),t.iconNameTemplate=e.iconNameTemplate,t.modelsBaseUrl=zr(e.modelsPath)?e.modelsPath:Cr(e.rootUrl,e.modelsPath)}(hm,{rootUrl:"",stylePath:"",modelsPath:"",iconsPath:u,iconsPathForMap:u,fontsPath:p,iconNameTemplate:"{name}"}),function(t,e,o){const i=Math.floor(t.zoom),n=te(t,Ft(i,0,l.maxRegionalZoom),0,Ft(i,0,l.maxDetailLevel)),a={},r={},s={},c=new Set;let d=Promise.resolve();const m=[],p=l.subdomains.split("");return n.forEach((t=>{const e=Kt(t),i=o.fetchTile({coords:t,tileServer:Kd,tileSet:Jd,tileProtocol:l.protocol,subdomains:p,tileKey:"4970330e-7f1c-4921-808c-0eb7c4e63001",appId:l.appId,lang:"en"}).then((t=>{a[e]=t.metadata}));m.push(i)})),Promise.all(m).then((()=>{for(const t in a){a[t].forEach((({metatileHash:t})=>{c.has(t)||(c.add(t),d=d.then((()=>Qd(t))).then((e=>{gc(e),e.tileProps=e.tileProps.map(mc),r[t]=Pt(e)})).then((()=>tm(e))).then((t=>{t.forEach((t=>{const{name:e,range:o,atlas:i}=t;void 0===s[e]&&(s[e]=[]),s[e][o]=i.glyphData}))})))}))}return d})).then((()=>({tiles:a,metatiles:r,fonts:s})))}(nm,hm,mm).then(em(500)).then((({metatiles:t,tiles:e})=>{pm.parser.syncStyle(hm);for(let t=0;t<110;t++){const o=rm[t]=[];for(const t in e)o.push({tileInfo:Xt(Jt(t)),pixelRatio:1,selectedIds:[],styleId:0,styleState:{},floorsEnabled:!0,sourceId:1,sourceAttrs:Et})}for(const e in t)pm.parser.setMetatile(Number(e),t[e]);om("Start test parser")})).then(em(0)).then((()=>{for(let t=0;t<110;t++){const e=performance.now(),o=rm[t];for(let t=0;t<o.length;t++)mm.generateTile(o[t]).then((t=>lm.push(t)));t>=10&&im.add("parser",performance.now()-e)}om(im.getText()),window.finish=!0})).catch((t=>console.error(t))),window.getResults=()=>({generate:im.get("parser").sample})})()})();